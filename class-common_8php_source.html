<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GravityView: class-common.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GravityView
   &#160;<span id="projectnumber">2.17</span>
   </div>
   <div id="projectbrief">The best, easiest way to display Gravity Forms entries on your website.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_09e761304027c904456130627fd4dcf5.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">class-common.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="class-common_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php<span class="comment"></span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Set of common functions to separate main plugin from Gravity Forms API and other cross-plugin methods</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @package   GravityView</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @license   GPL2+</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * @author    GravityView &lt;hello@gravityview.co&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * @link      http://gravityview.co</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * @copyright Copyright 2014, Katz Web Services, Inc.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * @since 1.5.2</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/** If this file is called directly, abort. */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keywordflow">if</span> ( ! defined( <span class="stringliteral">&#39;ABSPATH&#39;</span> ) ) {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    die;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_g_v_common.html">   19</a></span>&#160;<span class="keyword">class </span><a class="code" href="namespace_g_v_common.html">GVCommon</a> {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">     * Returns the form object for a given Form ID.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">     * @param mixed $form_id</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">     * @return array|false Array: Form object returned from Gravity Forms; False: no form ID specified or Gravity Forms isn&#39;t active.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_g_v_common.html#ac5d2d3814787594bb2edaee95b470484">   27</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#ac5d2d3814787594bb2edaee95b470484">get_form</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> ) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> ) ) {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        }</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="comment">// Only get_form_meta is cached. ::facepalm::</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> ( class_exists( <span class="stringliteral">&#39;GFFormsModel&#39;</span> ) ) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="keywordflow">return</span> GFFormsModel::get_form_meta( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">if</span> ( class_exists( <span class="stringliteral">&#39;GFAPI&#39;</span> ) ) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="keywordflow">return</span> GFAPI::get_form( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    }</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">     * Returns form object for existing form or a form template.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">     * @since 2.16</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">     * @param int|string $form_id Gravity Forms form ID. Default: 0.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     * @return array|false</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a17eaa0cf946d6d75f65d82dde856bbbd">   53</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a17eaa0cf946d6d75f65d82dde856bbbd">get_form_or_form_template</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> = 0 ) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">// Determine if form is a preset and convert it to an array with fields</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">if</span> ( is_string( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> ) &amp;&amp; preg_match( <span class="stringliteral">&#39;/^preset_/&#39;</span>, <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> ) ) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = <a class="code" href="class_gravity_view___ajax.html#a202adda8870c69960c3eb59781165772">GravityView_Ajax::pre_get_form_fields</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = self::get_form( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * Alias of GravityView_Roles_Capabilities::has_cap()</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     * @since 1.15</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">     * @see GravityView_Roles_Capabilities::has_cap()</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * @param string|array $caps Single capability or array of capabilities</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     * @param int          $object_id (optional) Parameter can be used to check for capabilities against a specific object, such as a post or user</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     * @param int|null     $user_id (optional) Check the capabilities for a user who is not necessarily the currently logged-in user</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     * @return bool True: user has at least one passed capability; False: user does not have any defined capabilities</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_g_v_common.html#abc061ebe78d31e57863f641ffe3e6042">   77</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#abc061ebe78d31e57863f641ffe3e6042">has_cap</a>( $caps = <span class="stringliteral">&#39;&#39;</span>, $object_id = null, $user_id = null ) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_gravity_view___roles___capabilities.html#a2cd58b39963dd93e6238a297411b734f">GravityView_Roles_Capabilities::has_cap</a>( $caps, $object_id, $user_id );</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     * Return a Gravity Forms field array, whether using GF 1.9 or not</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     * @since 1.7</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     * @param array|GF_Fields $field Gravity Forms field or array</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     * @return array Array version of $field</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_g_v_common.html#ac65e304ef1705695ca596c7ea47ce25c">   89</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#ac65e304ef1705695ca596c7ea47ce25c">get_field_array</a>( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">if</span> ( class_exists( <span class="stringliteral">&#39;GF_Fields&#39;</span> ) ) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            $field_object = GF_Fields::create( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> );</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="comment">// Convert the field object in 1.9 to an array for backward compatibility</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            $field_array = get_object_vars( $field_object );</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            $field_array = <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> $field_array;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">     * Get all existing Views</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">     * @since 1.5.4 Added $args array</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">     * @param array $args Pass custom array of args, formatted as if for `get_posts()`</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">     * @return WP_Post[] Array of Views as `WP_Post`. Empty array if none found.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a19465ca8d26538c4aed1b270a5ab3519">  114</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a19465ca8d26538c4aed1b270a5ab3519">get_all_views</a>( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a> = array() ) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        $default_params = array(</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="stringliteral">&#39;post_type&#39;</span>      =&gt; <span class="stringliteral">&#39;gravityview&#39;</span>,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="stringliteral">&#39;posts_per_page&#39;</span> =&gt; -1,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="stringliteral">&#39;post_status&#39;</span>    =&gt; <span class="stringliteral">&#39;publish&#39;</span>,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        );</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        $params = wp_parse_args( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>, $default_params );</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">         * @filter `gravityview/get_all_views/params` Modify the parameters sent to get all views.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">         * @param  array $params Array of parameters to pass to `get_posts()`</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        $views_params = apply_filters( <span class="stringliteral">&#39;gravityview/get_all_views/params&#39;</span>, $params );</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        $views = get_posts( $views_params );</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> $views;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">     * Get the form array for an entry based only on the entry ID</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">     * @param  int|string $entry_slug Entry slug</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * @return array|false Array: Form object returned from Gravity Forms; False: form doesn&#39;t exist, or $entry didn&#39;t exist or $entry didn&#39;t specify form ID</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a2623f3dcb8e9e3839d50c7ff0d2a1b92">  142</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a2623f3dcb8e9e3839d50c7ff0d2a1b92">get_form_from_entry_id</a>( <a class="code" href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a> ) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> = self::get_entry( <a class="code" href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a>, <span class="keyword">true</span>, <span class="keyword">false</span> );</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> ) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = GFAPI::get_form( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>[<span class="stringliteral">&#39;form_id&#39;</span>] );</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     * Check whether a form has product fields</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     * @since 1.16</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     * @since 1.20 Refactored the field types to get_product_field_types() method</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     * @param array $form Gravity Forms form array</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">     * @return bool|GF_Field[]</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a51028f05082d16f2c2f90e68129628ed">  165</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a51028f05082d16f2c2f90e68129628ed">has_product_field</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = array() ) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        $product_fields = self::get_product_field_types();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        $fields = GFAPI::get_fields_by_type( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, $product_fields );</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> empty( $fields ) ? false : $fields;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">     * Return array of product field types</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">     * Modify the value using the `gform_product_field_types` filter</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">     * @since 1.20</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a6e4360081ee6d7a10c23dea3e70f4114">  183</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a6e4360081ee6d7a10c23dea3e70f4114">get_product_field_types</a>() {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        $product_fields = apply_filters( <span class="stringliteral">&#39;gform_product_field_types&#39;</span>, array( <span class="stringliteral">&#39;option&#39;</span>, <span class="stringliteral">&#39;quantity&#39;</span>, <span class="stringliteral">&#39;product&#39;</span>, <span class="stringliteral">&#39;total&#39;</span>, <span class="stringliteral">&#39;shipping&#39;</span>, <span class="stringliteral">&#39;calculation&#39;</span>, <span class="stringliteral">&#39;price&#39;</span>, <span class="stringliteral">&#39;hiddenproduct&#39;</span>, <span class="stringliteral">&#39;singleproduct&#39;</span>, <span class="stringliteral">&#39;singleshipping&#39;</span> ) );</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">return</span> $product_fields;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">     * Check if an entry has transaction data</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     * Checks the following keys to see if they are set: &#39;payment_status&#39;, &#39;payment_date&#39;, &#39;transaction_id&#39;, &#39;payment_amount&#39;, &#39;payment_method&#39;</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     * @since 1.20</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     * @param array $entry Gravity Forms entry array</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">     * @return bool True: Entry has metadata suggesting it has communicated with a payment gateway; False: it does not have that data.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_g_v_common.html#aadc35c2ec6ec2df1de62c160992271c1">  201</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#aadc35c2ec6ec2df1de62c160992271c1">entry_has_transaction_data</a>( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> = array() ) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> ( ! is_array( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> ) ) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        $has_transaction_data = <span class="keyword">false</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        $payment_meta = array( <span class="stringliteral">&#39;payment_status&#39;</span>, <span class="stringliteral">&#39;payment_date&#39;</span>, <span class="stringliteral">&#39;transaction_id&#39;</span>, <span class="stringliteral">&#39;payment_amount&#39;</span>, <span class="stringliteral">&#39;payment_method&#39;</span> );</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">foreach</span> ( $payment_meta as $meta ) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            $has_transaction_data = <a class="code" href="class_g_v_1_1_utils.html#a744ef7454e48c5521c4c3ad3cf1b700b">\GV\Utils::get</a>( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>, $meta, <span class="keyword">false</span> );</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span> ( is_numeric( $has_transaction_data ) &amp;&amp; ( ! floatval( $has_transaction_data ) &gt; 0 ) ) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                $has_transaction_data = <span class="keyword">false</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">if</span> ( ! empty( $has_transaction_data ) ) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>) $has_transaction_data;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">     * Get the entry ID from the entry slug, which may or may not be the entry ID</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">     * @since  1.5.2</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     * @param  string $slug The entry slug, as returned by GravityView_API::get_entry_slug()</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     * @return int|null       The entry ID, if exists; `NULL` if not</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="class_g_v_common.html#ae0e9e4c45472ab8ce916f4c1e30f052a">  235</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#ae0e9e4c45472ab8ce916f4c1e30f052a">get_entry_id_from_slug</a>( $slug ) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        global $wpdb;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        $search_criteria = array(</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="stringliteral">&#39;field_filters&#39;</span> =&gt; array(</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                array(</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="stringliteral">&#39;key&#39;</span>      =&gt; <span class="stringliteral">&#39;gravityview_unique_id&#39;</span>, <span class="comment">// Search the meta values</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <span class="stringliteral">&#39;value&#39;</span>    =&gt; $slug,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="stringliteral">&#39;operator&#39;</span> =&gt; <span class="stringliteral">&#39;is&#39;</span>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <span class="stringliteral">&#39;type&#39;</span>     =&gt; <span class="stringliteral">&#39;meta&#39;</span>,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                ),</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            ),</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        );</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="comment">// Limit to one for speed</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        $paging = array(</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="stringliteral">&#39;page_size&#39;</span> =&gt; 1,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        );</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">         * @filter `gravityview/common/get_entry_id_from_slug/form_id` The form ID used to get the custom entry ID. Change this to avoid collisions with data from other forms with the same values and the same field ID.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">         * @since 1.17.2</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">         * @param int $form_id ID of the form to search. Default: `0` (searches all forms)</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> = apply_filters( <span class="stringliteral">&#39;gravityview/common/get_entry_id_from_slug/form_id&#39;</span>, 0 );</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        $results = GFAPI::get_entries( intval( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> ), $search_criteria, null, $paging );</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        $result = ( ! empty( $results ) &amp;&amp; ! empty( $results[0][<span class="stringliteral">&#39;id&#39;</span>] ) ) ? $results[0][<span class="stringliteral">&#39;id&#39;</span>] : null;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">return</span> $result;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">     * Get all forms to use as options in View settings.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     * @since 2.17</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * @uses GFAPI::get_form()</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     * @used-by \GV\View_Settings::defaults()</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">     * @param bool   $active      True if active forms are returned. False to get inactive forms. Defaults to true.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">     * @param bool   $trash       True if trashed forms are returned. False to exclude trash. Defaults to false.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">     * @param string $sort_column The column to sort the results on.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">     * @param string $sort_dir    The sort direction, ASC or DESC.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a2042d229cf88793671c983595f8536c6">  283</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a2042d229cf88793671c983595f8536c6">get_forms_as_options</a>( $active = <span class="keyword">true</span>, $trash = <span class="keyword">false</span>, $sort_column = <span class="stringliteral">&#39;id&#39;</span>, $sort_dir = <span class="stringliteral">&#39;ASC&#39;</span> ) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> = GFAPI::get_forms( $active, $trash, $sort_column, $sort_dir );</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> ) ) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">return</span> array();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        $options = array(</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="stringliteral">&#39;&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;Select a Form&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        );</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">foreach</span> ( <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> as <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> ) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            $options[ (int) $form[<span class="stringliteral">&#39;id&#39;</span>] ] = esc_html( $form[<span class="stringliteral">&#39;title&#39;</span>] );</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">return</span> $options;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     * Alias of GFAPI::get_forms()</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">     * @see GFAPI::get_forms()</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * @since 1.19 Allow &quot;any&quot; $active status option</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     * @since 2.7.2 Allow sorting forms using wp_list_sort()</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">     * @param bool|string  $active Status of forms. Use `any` to get array of forms with any status. Default: `true`</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">     * @param bool         $trash Include forms in trash? Default: `false`</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">     * @param string|array $order_by Optional. Either the field name to order by or an array of multiple orderby fields as $orderby =&gt; $order.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">     * @param string       $order Optional. Either &#39;ASC&#39; or &#39;DESC&#39;. Only used if $orderby is a string.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">     * @return array Empty array if GFAPI class isn&#39;t available or no forms. Otherwise, the array of Forms</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a528386001f5926ebfac341558031673d">  317</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a528386001f5926ebfac341558031673d">get_forms</a>( $active = <span class="keyword">true</span>, $trash = <span class="keyword">false</span>, $order_by = <span class="stringliteral">&#39;id&#39;</span>, $order = <span class="stringliteral">&#39;ASC&#39;</span> ) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> = array();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">if</span> ( ! class_exists( <span class="stringliteral">&#39;GFAPI&#39;</span> ) ) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">return</span> array();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;any&#39;</span> === $active ) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            $active_forms   = GFAPI::get_forms( <span class="keyword">true</span>, $trash );</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            $inactive_forms = GFAPI::get_forms( <span class="keyword">false</span>, $trash );</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a>          = array_merge( array_filter( $active_forms ), array_filter( $inactive_forms ) );</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> = GFAPI::get_forms( $active, $trash );</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a> = wp_list_sort( <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a>, $order_by, $order, <span class="keyword">true</span> );</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">     * Return array of fields&#39; id and label, for a given Form ID</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">     * @param string|array $form_id (default: &#39;&#39;) or $form object</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">     * @param bool         $add_default_properties</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">     * @param bool         $include_parent_field</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a5c5662c2705510300ee46409eff21ac5">  344</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a5c5662c2705510300ee46409eff21ac5">get_form_fields</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = <span class="stringliteral">&#39;&#39;</span>, $add_default_properties = <span class="keyword">false</span>, $include_parent_field = <span class="keyword">true</span> ) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span> ( ! is_array( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> ) ) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = self::get_form( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> );</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        $fields             = array();</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        $has_product_fields = <span class="keyword">false</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        $has_post_fields    = <span class="keyword">false</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> ) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">foreach</span> ( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>[<span class="stringliteral">&#39;fields&#39;</span>] as <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <span class="keywordflow">if</span> ( $include_parent_field || empty( $field[<span class="stringliteral">&#39;inputs&#39;</span>] ) ) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    $fields[ <span class="stringliteral">&quot;{$field[&#39;id&#39;]}&quot;</span> ] = array(</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        <span class="stringliteral">&#39;label&#39;</span>      =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;label&#39;</span> ),</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="stringliteral">&#39;parent&#39;</span>     =&gt; null,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        <span class="stringliteral">&#39;type&#39;</span>       =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;type&#39;</span> ),</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        <span class="stringliteral">&#39;adminLabel&#39;</span> =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;adminLabel&#39;</span> ),</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        <span class="stringliteral">&#39;adminOnly&#39;</span>  =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;adminOnly&#39;</span> ),</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    );</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">if</span> ( $add_default_properties &amp;&amp; ! empty( $field[<span class="stringliteral">&#39;inputs&#39;</span>] ) ) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <span class="keywordflow">foreach</span> ( $field[<span class="stringliteral">&#39;inputs&#39;</span>] as $input ) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <span class="keywordflow">if</span> ( ! empty( $input[<span class="stringliteral">&#39;isHidden&#39;</span>] ) ) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                        }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">                        /**</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">                         * @hack</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">                         * In case of email/email confirmation, the input for email has the same id as the parent field</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;email&#39;</span> === $field[<span class="stringliteral">&#39;type&#39;</span>] &amp;&amp; <span class="keyword">false</span> === strpos( $input[<span class="stringliteral">&#39;id&#39;</span>], <span class="charliteral">&#39;.&#39;</span> ) ) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        $fields[ <span class="stringliteral">&quot;{$input[&#39;id&#39;]}&quot;</span> ] = array(</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                            <span class="stringliteral">&#39;label&#39;</span>       =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $input, <span class="stringliteral">&#39;label&#39;</span> ),</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                            <span class="stringliteral">&#39;customLabel&#39;</span> =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $input, <span class="stringliteral">&#39;customLabel&#39;</span> ),</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                            <span class="stringliteral">&#39;parent&#39;</span>      =&gt; $field,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                            <span class="stringliteral">&#39;type&#39;</span>        =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;type&#39;</span> ),</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                            <span class="stringliteral">&#39;adminLabel&#39;</span>  =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;adminLabel&#39;</span> ),</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                            <span class="stringliteral">&#39;adminOnly&#39;</span>   =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $field, <span class="stringliteral">&#39;adminOnly&#39;</span> ),</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        );</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">if</span> ( GFCommon::is_product_field( $field[<span class="stringliteral">&#39;type&#39;</span>] ) ) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    $has_product_fields = <span class="keyword">true</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">if</span> ( GFCommon::is_post_field( $field ) ) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    $has_post_fields = <span class="keyword">true</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">         * @since 1.7</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> ( $has_post_fields ) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            $fields[<span class="stringliteral">&#39;post_id&#39;</span>] = array(</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; __( <span class="stringliteral">&#39;Post ID&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="stringliteral">&#39;type&#39;</span>  =&gt; <span class="stringliteral">&#39;post_id&#39;</span>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            );</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> ( $has_product_fields ) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            $payment_fields = <a class="code" href="class_gravity_view___fields.html#a55afc18888b905ed1037ad08a054ea64">GravityView_Fields::get_all</a>( <span class="stringliteral">&#39;pricing&#39;</span> );</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">foreach</span> ( $payment_fields as $payment_field ) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="comment">// Either the field exists ($fields[&#39;shipping&#39;]) or the form explicitly contains a `shipping` field with numeric key</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <span class="keywordflow">if</span> ( isset( $fields[ <span class="stringliteral">&quot;{$payment_field-&gt;name}&quot;</span> ] ) || GFCommon::get_fields_by_type( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, $payment_field-&gt;name ) ) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                $fields[ <span class="stringliteral">&quot;{$payment_field-&gt;name}&quot;</span> ] = array(</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    <span class="stringliteral">&#39;label&#39;</span> =&gt; $payment_field-&gt;label,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    <span class="stringliteral">&#39;desc&#39;</span>  =&gt; $payment_field-&gt;description,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    <span class="stringliteral">&#39;type&#39;</span>  =&gt; $payment_field-&gt;name,</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                );</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">         * @filter `gravityview/common/get_form_fields` Modify the form fields shown in the Add Field field picker.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">         * @since 1.17</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">         * @param array $fields Associative array of fields, with keys as field type, values an array with the following keys: (string) `label` (required), (string) `type` (required), `desc`, (string) `customLabel`, (GF_Field) `parent`, (string) `adminLabel`, (bool)`adminOnly`</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">         * @param array $form GF Form array</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">         * @param bool $include_parent_field Whether to include the parent field when getting a field with inputs</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        $fields = apply_filters( <span class="stringliteral">&#39;gravityview/common/get_form_fields&#39;</span>, $fields, <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, $include_parent_field );</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">return</span> $fields;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">     * get extra fields from entry meta</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">     * @param  string $form_id (default: &#39;&#39;)</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="class_g_v_common.html#af0cbb91a687ce445c775ddb96b111133">  449</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#af0cbb91a687ce445c775ddb96b111133">get_entry_meta</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a>, $only_default_column = <span class="keyword">true</span> ) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        $extra_fields = GFFormsModel::get_entry_meta( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        $fields = array();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">foreach</span> ( $extra_fields as $key =&gt; <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">if</span> ( ! empty( $only_default_column ) &amp;&amp; ! empty( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;is_default_column&#39;</span>] ) ) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                $fields[ $key ] = array(</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <span class="stringliteral">&#39;label&#39;</span> =&gt; <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;label&#39;</span>],</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <span class="stringliteral">&#39;type&#39;</span>  =&gt; <span class="stringliteral">&#39;entry_meta&#39;</span>,</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                );</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">return</span> $fields;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">     * Wrapper for the Gravity Forms GFFormsModel::search_lead_ids() method</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">     * @see  GFEntryList::leads_page()</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">     * @param  int $form_id ID of the Gravity Forms form</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">     * @since  1.1.6</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">     * @return array|void          Array of entry IDs. Void if Gravity Forms isn&#39;t active.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a80d129f1385d26044b40acb7b471ba7f">  476</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a80d129f1385d26044b40acb7b471ba7f">get_entry_ids</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a>, $search_criteria = array() ) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> ( ! class_exists( <span class="stringliteral">&#39;GFFormsModel&#39;</span> ) ) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> GFFormsModel::search_lead_ids( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a>, $search_criteria );</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">     * Calculates the Search Criteria used on the self::get_entries / self::get_entry methods</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">     * @since 1.7.4</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">     * @param array $passed_criteria array Input Criteria (search_criteria, sorting, paging)</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">     * @param array $form_ids array Gravity Forms form IDs</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="class_g_v_common.html#acd8f8050e03fa0a66ac04b6f353ad601">  494</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#acd8f8050e03fa0a66ac04b6f353ad601">calculate_get_entries_criteria</a>( $passed_criteria = array(), $form_ids = array() ) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        $search_criteria_defaults = array(</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="stringliteral">&#39;search_criteria&#39;</span> =&gt; null,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="stringliteral">&#39;sorting&#39;</span>         =&gt; null,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="stringliteral">&#39;paging&#39;</span>          =&gt; null,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="stringliteral">&#39;cache&#39;</span>           =&gt; ( isset( $passed_criteria[<span class="stringliteral">&#39;cache&#39;</span>] ) ? (<span class="keywordtype">bool</span>) $passed_criteria[<span class="stringliteral">&#39;cache&#39;</span>] : <span class="keyword">true</span> ),</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="stringliteral">&#39;context_view_id&#39;</span> =&gt; null,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        );</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> = wp_parse_args( $passed_criteria, $search_criteria_defaults );</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> ( ! empty( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>] ) &amp;&amp; is_array( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>] ) ) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">foreach</span> ( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>] as &amp;$filter ) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">if</span> ( ! is_array( $filter ) ) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="comment">// By default, we want searches to be wildcard for each field.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                $filter[<span class="stringliteral">&#39;operator&#39;</span>] = empty( $filter[<span class="stringliteral">&#39;operator&#39;</span>] ) ? <span class="stringliteral">&#39;contains&#39;</span> : $filter[<span class="stringliteral">&#39;operator&#39;</span>];</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">                /**</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">                 * @filter `gravityview_search_operator` Modify the search operator for the field (contains, is, isnot, etc)</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">                 * @param string $operator Existing search operator</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">                 * @param array $filter array with `key`, `value`, `operator`, `type` keys</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                $filter[<span class="stringliteral">&#39;operator&#39;</span>] = apply_filters( <span class="stringliteral">&#39;gravityview_search_operator&#39;</span>, $filter[<span class="stringliteral">&#39;operator&#39;</span>], $filter );</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="comment">// don&#39;t send just the [mode] without any field filter.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> ( count( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>] ) === 1 &amp;&amp; array_key_exists( <span class="stringliteral">&#39;mode&#39;</span>, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>] ) ) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                unset( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][<span class="stringliteral">&#39;field_filters&#39;</span>][<span class="stringliteral">&#39;mode&#39;</span>] );</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">         * Prepare date formats to be in Gravity Forms DB format;</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">         * $passed_criteria may include date formats incompatible with Gravity Forms.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">foreach</span> ( array( <span class="stringliteral">&#39;start_date&#39;</span>, <span class="stringliteral">&#39;end_date&#39;</span> ) as $key ) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> ( ! empty( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][ $key ] ) ) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="comment">// Use date_create instead of new DateTime so it returns false if invalid date format.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                $date = date_create( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][ $key ] );</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordflow">if</span> ( $date ) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    <span class="comment">// Gravity Forms wants dates in the `Y-m-d H:i:s` format.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][ $key ] = $date-&gt;format( <span class="stringliteral">&#39;Y-m-d H:i:s&#39;</span> );</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;error(</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        <span class="stringliteral">&#39;{key} Date format not valid:&#39;</span>,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        array(</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                            <span class="stringliteral">&#39;key&#39;</span> =&gt; $key,</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                            <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][ $key ],</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        )</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    );</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="comment">// If it&#39;s an invalid date, unset it. Gravity Forms freaks out otherwise.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    unset( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>][ $key ] );</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;context_view_id&#39;</span>] ) ) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="comment">// Calculate the context view id and send it to the advanced filter</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="class_gravity_view__frontend.html#ac93fbec81f07e5d15f80db907e63dc10">GravityView_frontend::getInstance</a>()-&gt;getSingleEntry() ) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;context_view_id&#39;</span>] = <a class="code" href="class_gravity_view__frontend.html#ac93fbec81f07e5d15f80db907e63dc10">GravityView_frontend::getInstance</a>()-&gt;get_context_view_id();</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            } elseif ( class_exists( <span class="stringliteral">&#39;GravityView_View_Data&#39;</span> ) &amp;&amp; <a class="code" href="class_gravity_view___view___data.html#a675d8b1454543d5bcef330c3686aff61">GravityView_View_Data::getInstance</a>() &amp;&amp; <a class="code" href="class_gravity_view___view___data.html#a675d8b1454543d5bcef330c3686aff61">GravityView_View_Data::getInstance</a>()-&gt;has_multiple_views() ) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;context_view_id&#39;</span>] = <a class="code" href="class_gravity_view__frontend.html#ac93fbec81f07e5d15f80db907e63dc10">GravityView_frontend::getInstance</a>()-&gt;get_context_view_id();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            } elseif ( <span class="stringliteral">&#39;delete&#39;</span> === GFForms::get( <span class="stringliteral">&#39;action&#39;</span> ) ) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;context_view_id&#39;</span>] = isset( $_GET[<span class="stringliteral">&#39;view_id&#39;</span>] ) ? intval( $_GET[<span class="stringliteral">&#39;view_id&#39;</span>] ) : null;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">         * @filter `gravityview_search_criteria` Apply final criteria filter (Used by the Advanced Filter extension)</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">         * @param array $criteria Search criteria used by GravityView</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">         * @param array $form_ids Forms to search</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">         * @param int $view_id ID of the view being used to search</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> = apply_filters( <span class="stringliteral">&#39;gravityview_search_criteria&#39;</span>, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>, $form_ids, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;context_view_id&#39;</span>] );</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">return</span> (array) <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">     * Retrieve entries given search, sort, paging criteria</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">     * @see  GFAPI::get_entries()</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">     * @see GFFormsModel::get_field_filters_where()</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">     * @param int|array $form_ids The ID of the form or an array IDs of the Forms. Zero for all forms.</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">     * @param mixed     $passed_criteria (default: null)</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">     * @param mixed     &amp;$total Optional. An output parameter containing the total number of entries. Pass a non-null value to generate the total count. (default: null)</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">     * @deprecated See \GV\View::get_entries.</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">     * @return mixed False: Error fetching entries. Array: Multi-dimensional array of Gravity Forms entry arrays</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a41018a6aacc3abc92f9c996e6974e1a8">  595</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a41018a6aacc3abc92f9c996e6974e1a8">get_entries</a>( $form_ids = null, $passed_criteria = null, &amp;$total = null ) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;notice( <span class="stringliteral">&#39;\GVCommon::get_entries is deprecated. Use \GV\View::get_entries instead.&#39;</span> );</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// Filter the criteria before query (includes Adv Filter)</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> = self::calculate_get_entries_criteria( $passed_criteria, $form_ids );</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;debug( <span class="stringliteral">&#39;[gravityview_get_entries] Final Parameters&#39;</span>, array( <span class="stringliteral">&#39;data&#39;</span> =&gt; <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> ) );</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// Return value</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        $return = null;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">        /** Reduce # of database calls */</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        add_filter( <span class="stringliteral">&#39;gform_is_encrypted_field&#39;</span>, <span class="stringliteral">&#39;__return_false&#39;</span> );</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> ( ! empty( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;cache&#39;</span>] ) ) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            $Cache = <span class="keyword">new</span> <a class="code" href="class-cache_8php.html#ab2587fbc83498842c60461baaf3f4638">GravityView_Cache</a>( $form_ids, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> );</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> = $Cache-&gt;get() ) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="comment">// Still update the total count when using cached results</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">if</span> ( ! is_null( $total ) ) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    $total = GFAPI::count_entries( $form_ids, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>] );</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                $return = <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> ( is_null( $return ) &amp;&amp; class_exists( <span class="stringliteral">&#39;GFAPI&#39;</span> ) &amp;&amp; ( is_numeric( $form_ids ) || is_array( $form_ids ) ) ) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">             * @filter `gravityview_pre_get_entries` Define entries to be used before GFAPI::get_entries() is called</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">             * @since 1.14</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">             * @param  null $return If you want to override GFAPI::get_entries() and define entries yourself, tap in here.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">             * @param  array $criteria The final search criteria used to generate the request to `GFAPI::get_entries()`</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">             * @param array $passed_criteria The original search criteria passed to `GVCommon::get_entries()`</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">             * @param  int|null $total Optional. An output parameter containing the total number of entries. Pass a non-null value to generate</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">             * @since 2.1 The $total parameter can now be overriden by reference.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">             * @deprecated</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> = apply_filters_ref_array( <span class="stringliteral">&#39;gravityview_before_get_entries&#39;</span>, array( null, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>, $passed_criteria, &amp;$total ) );</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="comment">// No entries returned from gravityview_before_get_entries</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keywordflow">if</span> ( is_null( <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> ) ) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> = GFAPI::get_entries( $form_ids, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;search_criteria&#39;</span>], <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;sorting&#39;</span>], <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;paging&#39;</span>], $total );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">if</span> ( is_wp_error( <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> ) ) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;error(</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        <span class="stringliteral">&#39;{error}&#39;</span>,</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        array(</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                            <span class="stringliteral">&#39;error&#39;</span> =&gt; <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a>-&gt;get_error_message(),</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                            <span class="stringliteral">&#39;data&#39;</span>  =&gt; <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a>,</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        )</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    );</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">                    /** Remove filter added above */</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    remove_filter( <span class="stringliteral">&#39;gform_is_encrypted_field&#39;</span>, <span class="stringliteral">&#39;__return_false&#39;</span> );</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> ( ! empty( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;cache&#39;</span>] ) &amp;&amp; isset( $Cache ) ) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="comment">// Cache results</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                $Cache-&gt;set( <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a>, <span class="stringliteral">&#39;entries&#39;</span> );</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            $return = <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">        /** Remove filter added above */</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        remove_filter( <span class="stringliteral">&#39;gform_is_encrypted_field&#39;</span>, <span class="stringliteral">&#39;__return_false&#39;</span> );</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">         * @filter `gravityview_entries` Modify the array of entries returned to GravityView after it has been fetched from the cache or from `GFAPI::get_entries()`.</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">         * @param  array|null $entries Array of entries as returned by the cache or by `GFAPI::get_entries()`</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">         * @param  array $criteria The final search criteria used to generate the request to `GFAPI::get_entries()`</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">         * @param array $passed_criteria The original search criteria passed to `GVCommon::get_entries()`</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">         * @param  int|null $total Optional. An output parameter containing the total number of entries. Pass a non-null value to generate</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">         * @since 2.1 The $total parameter can now be overriden by reference.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">         * @deprecated</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        $return = apply_filters_ref_array( <span class="stringliteral">&#39;gravityview_entries&#39;</span>, array( $return, <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>, $passed_criteria, &amp;$total ) );</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">return</span> $return;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">     * Get the entry ID from a string that may be the Entry ID or the Entry Slug</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">     * @since 1.18</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">     * @param string $entry_id_or_slug The ID or slug of an entry.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">     * @param bool   $force_allow_ids Whether to force allowing getting the ID of an entry, even if custom slugs are enabled</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">     * @return false|int|null Returns the ID of the entry found, if custom slugs is enabled. Returns original value if custom slugs is disabled. Returns false if not allowed to convert slug to ID. Returns NULL if entry not found for the passed slug.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a7c671820fcc7dba1117e3bb7fb6338a1">  697</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a7c671820fcc7dba1117e3bb7fb6338a1">get_entry_id</a>( $entry_id_or_slug = <span class="stringliteral">&#39;&#39;</span>, $force_allow_ids = <span class="keyword">false</span> ) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        $entry_id = <span class="keyword">false</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">         * @filter `gravityview_custom_entry_slug` Whether to enable and use custom entry slugs.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">         * @param boolean True: Allow for slugs based on entry values. False: always use entry IDs (default)</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        $custom_slug = apply_filters( <span class="stringliteral">&#39;gravityview_custom_entry_slug&#39;</span>, <span class="keyword">false</span> );</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">         * @filter `gravityview_custom_entry_slug_allow_id` When using a custom slug, allow access to the entry using the original slug (the Entry ID).</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">         * - If disabled (default), only allow access to an entry using the custom slug value.  (example: `/entry/custom-slug/` NOT `/entry/123/`)</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">         * - If enabled, you could access using the custom slug OR the entry id (example: `/entry/custom-slug/` OR `/entry/123/`)</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">         * @param boolean $custom_slug_id_access True: allow accessing the slug by ID; False: only use the slug passed to the method.</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        $custom_slug_id_access = $force_allow_ids || apply_filters( <span class="stringliteral">&#39;gravityview_custom_entry_slug_allow_id&#39;</span>, <span class="keyword">false</span> );</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">         * If we&#39;re using custom entry slugs, we do a meta value search</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">         * instead of doing a straight-up ID search.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span> ( $custom_slug ) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="comment">// Search for IDs matching $entry_id_or_slug</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            $entry_id = self::get_entry_id_from_slug( $entry_id_or_slug );</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="comment">// The custom slug search found something; return early.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">if</span> ( $entry_id ) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">return</span> $entry_id;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="comment">// If custom slug is off, search using the entry ID</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">// If allow ID access is on, also use entry ID as a backup</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">if</span> ( <span class="keyword">false</span> === $custom_slug || <span class="keyword">true</span> === $custom_slug_id_access ) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            $entry_id = $entry_id_or_slug;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">return</span> $entry_id;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">     * Return a single entry object</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">     * Since 1.4, supports custom entry slugs. The way that GravityView fetches an entry based on the custom slug is by searching `gravityview_unique_id` meta. The `$entry_slug` is fetched by getting the current query var set by `is_single_entry()`</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">     * @param string|int    $entry_slug Either entry ID or entry slug string</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">     * @param boolean       $force_allow_ids Force the get_entry() method to allow passed entry IDs, even if the `gravityview_custom_entry_slug_allow_id` filter returns false.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">     * @param boolean       $check_entry_display Check whether the entry is visible for the current View configuration. Default: true. {@since 1.14}</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">     * @param \GV\View|null $view The View if $check_entry_display is set to true. In legacy context mocks, can be null. {@since develop}</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">     * @return array|boolean</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a594821d84ac8bbed3060117dab39e1c0">  749</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a594821d84ac8bbed3060117dab39e1c0">get_entry</a>( <a class="code" href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a>, $force_allow_ids = <span class="keyword">false</span>, $check_entry_display = <span class="keyword">true</span>, $view = null ) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">if</span> ( ! class_exists( <span class="stringliteral">&#39;GFAPI&#39;</span> ) || empty( <a class="code" href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a> ) ) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        $entry_id = self::get_entry_id( <a class="code" href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a>, $force_allow_ids );</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span> ( empty( $entry_id ) ) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="comment">// fetch the entry</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> = GFAPI::get_entry( $entry_id );</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">         * @filter `gravityview/common/get_entry/check_entry_display` Override whether to check entry display rules against filters</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">         * @since 1.16.2</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">         * @since 2.6 Added $view parameter</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">         * @param bool $check_entry_display Check whether the entry is visible for the current View configuration. Default: true.</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">         * @param array $entry Gravity Forms entry array</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">         * @param \GV\View|null $view The View</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        $check_entry_display = apply_filters( <span class="stringliteral">&#39;gravityview/common/get_entry/check_entry_display&#39;</span>, $check_entry_display, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>, $view );</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">// Is the entry allowed</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">if</span> ( $check_entry_display ) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            $gvid = <a class="code" href="class_g_v_1_1_utils.html#af11e54f642e42ef98082de907a8310a1">\GV\Utils::_GET</a>( <span class="stringliteral">&#39;gvid&#39;</span> );</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">if</span> ( $gvid ) {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                $view = <a class="code" href="class_g_v_1_1_view.html#a6bc5f9fc9851ae7941832614f288b5a0">\GV\View::by_id</a>( $gvid );</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> = self::check_entry_display( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>, $view );</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">if</span> ( is_wp_error( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> ) ) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;error( <span class="stringliteral">&#39;{error}&#39;</span>, array( <span class="stringliteral">&#39;error&#39;</span> =&gt; <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>-&gt;get_error_message() ) );</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">     * Wrapper for the GFFormsModel::matches_operation() method that adds additional comparisons, including:</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">     * &#39;equals&#39;, &#39;greater_than_or_is&#39;, &#39;greater_than_or_equals&#39;, &#39;less_than_or_is&#39;, &#39;less_than_or_equals&#39;,</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">     * &#39;not_contains&#39;, &#39;in&#39;, and &#39;not_in&#39;</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">     * @since 1.13 You can define context, which displays/hides based on what&#39;s being displayed (single, multiple, edit)</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">     * @since 1.22.1 Added &#39;in&#39; and &#39;not_in&#39; for JSON-encoded array values, serialized non-strings</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">     * @see https://docs.gravityview.co/article/252-gvlogic-shortcode</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">     * @uses GFFormsModel::matches_operation</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">     * @since 1.7.5</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">     * @param mixed  $val1 Left side of comparison</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">     * @param mixed  $val2 Right side of comparison</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">     * @param string $operation Type of comparison</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">     * @return bool True: matches, false: not matches</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00812"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a5bf518397353a13fc16c1df22f9684ae">  812</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a5bf518397353a13fc16c1df22f9684ae">matches_operation</a>( $val1, $val2, $operation ) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">// Only process strings</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        $val1 = ! is_string( $val1 ) ? wp_json_encode( $val1 ) : $val1;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        $val2 = ! is_string( $val2 ) ? wp_json_encode( $val2 ) : $val2;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;context&#39;</span> === $val1 ) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            $matching_contexts = array( $val2 );</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="comment">// We allow for non-standard contexts.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">switch</span> ( $val2 ) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="comment">// Check for either single or edit</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&#39;singular&#39;</span>:</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    $matching_contexts = array( <span class="stringliteral">&#39;single&#39;</span>, <span class="stringliteral">&#39;edit&#39;</span> );</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="comment">// Use multiple as alias for directory for consistency</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&#39;multiple&#39;</span>:</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    $matching_contexts = array( <span class="stringliteral">&#39;directory&#39;</span> );</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            $val1 = in_array( <a class="code" href="class-api_8php.html#a1e24d5ed137a17f1b6694d7594eeacf5">gravityview_get_context</a>(), $matching_contexts ) ? $val2 : <span class="keyword">false</span>;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="comment">// Attempt to parse dates.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        $timestamp_1 = <a class="code" href="helper-functions_8php.html#a67be17ea31c1717f73c48329a4fa7d6b">gravityview_maybe_convert_date_string_to_timestamp</a>( $val1 );</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        $timestamp_2 = <a class="code" href="helper-functions_8php.html#a67be17ea31c1717f73c48329a4fa7d6b">gravityview_maybe_convert_date_string_to_timestamp</a>( $val2 );</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="comment">// If both are timestamps, cast to string so we can use the &gt; and &lt; comparisons below.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">if</span> ( $timestamp_1 &amp;&amp; $timestamp_2 ) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            $val1 = (string) $timestamp_1;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            $val2 = (string) $timestamp_2;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">switch</span> ( $operation ) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;equals&#39;</span>:</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;is&#39;</span> );</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;greater_than_or_is&#39;</span>:</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;greater_than_or_equals&#39;</span>:</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                $is    = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;is&#39;</span> );</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                $gt    = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;greater_than&#39;</span> );</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = ( $is || $gt );</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;less_than_or_is&#39;</span>:</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;less_than_or_equals&#39;</span>:</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                $is    = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;is&#39;</span> );</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                $gt    = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;less_than&#39;</span> );</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = ( $is || $gt );</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;not_contains&#39;</span>:</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                $contains = self::matches_operation( $val1, $val2, <span class="stringliteral">&#39;contains&#39;</span> );</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a>    = ! $contains;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">break</span>;<span class="comment"></span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">             * @since 1.22.1 Handle JSON-encoded comparisons</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;in&#39;</span>:</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;not_in&#39;</span>:</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                $json_val_1 = json_decode( $val1, <span class="keyword">true</span> );</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                $json_val_2 = json_decode( $val2, <span class="keyword">true</span> );</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <span class="keywordflow">if</span> ( ! empty( $json_val_1 ) || ! empty( $json_val_2 ) ) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    $json_in    = <span class="keyword">false</span>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    $json_val_1 = $json_val_1 ? (array) $json_val_1 : array( $val1 );</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    $json_val_2 = $json_val_2 ? (array) $json_val_2 : array( $val2 );</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    <span class="comment">// For JSON, we want to compare as &quot;in&quot; or &quot;not in&quot; rather than &quot;contains&quot;</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    <span class="keywordflow">foreach</span> ( $json_val_1 as $item_1 ) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        <span class="keywordflow">foreach</span> ( $json_val_2 as $item_2 ) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                            $json_in = self::matches_operation( $item_1, $item_2, <span class="stringliteral">&#39;is&#39;</span> );</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                            <span class="keywordflow">if</span> ( $json_in ) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                <span class="keywordflow">break</span> 2;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                            }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = ( $operation === <span class="stringliteral">&#39;in&#39;</span> ) ? $json_in : ! $json_in;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;less_than&#39;</span>:</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="keywordflow">if</span> ( is_string( $val1 ) &amp;&amp; is_string( $val2 ) ) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = $val1 &lt; $val2;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = GFFormsModel::matches_operation( $val1, $val2, $operation );</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&#39;greater_than&#39;</span>:</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="keywordflow">if</span> ( is_string( $val1 ) &amp;&amp; is_string( $val2 ) ) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = $val1 &gt; $val2;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = GFFormsModel::matches_operation( $val1, $val2, $operation );</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = GFFormsModel::matches_operation( $val1, $val2, $operation );</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">     * Checks if a certain entry is valid according to the View search filters (specially the Adv Filters)</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">     * @uses GVCommon::calculate_get_entries_criteria();</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">     * @see GFFormsModel::is_value_match()</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">     * @since 1.7.4</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">     * @since 2.1 Added $view parameter</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">     * @param array                        $entry Gravity Forms Entry object</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">     * @param \GV\View|\GV\View_Collection $view The View or a View Collection</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">     * @return WP_Error|array Returns WP_Error if entry is not valid according to the view search filters (Adv Filter). Returns original $entry value if passes.</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a9afd6ae67f0f8a3a278a4f095cdb6888">  936</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a9afd6ae67f0f8a3a278a4f095cdb6888">check_entry_display</a>( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>, $view = null ) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">if</span> ( ! <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> || is_wp_error( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> ) ) {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;entry_not_found&#39;</span>, <span class="stringliteral">&#39;Entry was not found.&#39;</span>, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> );</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>[<span class="stringliteral">&#39;form_id&#39;</span>] ) ) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;form_id_not_set&#39;</span>, <span class="stringliteral">&#39;[apply_filters_to_entry] Entry is empty!&#39;</span>, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> );</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">if</span> ( is_null( $view ) ) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;log-&gt;warning( <span class="stringliteral">&#39;$view was not supplied to check_entry_display, results will be non-typical.&#39;</span> );</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;view_not_supplied&#39;</span>, <span class="stringliteral">&#39;View is not supplied!&#39;</span>, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> );</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> ( ! <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;supports( \<a class="code" href="namespace_g_v.html">GV</a>\Plugin::FEATURE_GFQUERY ) ) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;no_gf_query&#39;</span>, <span class="stringliteral">&#39;GF_Query is missing.&#39;</span>, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> );</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        $_gvid = <a class="code" href="class_g_v_1_1_utils.html#af11e54f642e42ef98082de907a8310a1">\GV\Utils::_GET</a>( <span class="stringliteral">&#39;gvid&#39;</span> );</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">if</span> ( $_gvid &amp;&amp; $view-&gt;ID !== (<span class="keywordtype">int</span>) $_gvid ) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;view_id_not_match_gvid&#39;</span>, <span class="stringliteral">&#39;View does not match passed $_GET[&quot;gvid&quot;].&#39;</span>, $view-&gt;ID );</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        $view_form_id = $view-&gt;form-&gt;ID;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">if</span> ( $view-&gt;joins ) {</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">if</span> ( in_array( (<span class="keywordtype">int</span>) <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>[<span class="stringliteral">&#39;form_id&#39;</span>], array_keys( $view::get_joined_forms( $view-&gt;ID ) ), <span class="keyword">true</span> ) ) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                $view_form_id = $entry[<span class="stringliteral">&#39;form_id&#39;</span>];</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">if</span> ( (<span class="keywordtype">int</span>) $view_form_id !== (<span class="keywordtype">int</span>) <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>[<span class="stringliteral">&#39;form_id&#39;</span>] ) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> WP_Error( <span class="stringliteral">&#39;view_id_not_match&#39;</span>, <span class="stringliteral">&#39;View form source does not match entry form source ID.&#39;</span>, $entry );</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">         * Check whether the entry is in the entries subset by running a modified query.</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        add_action(</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="stringliteral">&#39;gravityview/view/query&#39;</span>,</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            $entry_subset_callback = <span class="keyword">function</span>( &amp;$query, $view, $request ) use ( $entry, $view_form_id ) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                $_tmp_query = new \GF_Query(</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    $view_form_id,</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    array(</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                        <span class="stringliteral">&#39;field_filters&#39;</span> =&gt; array(</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                            <span class="stringliteral">&#39;mode&#39;</span> =&gt; <span class="stringliteral">&#39;all&#39;</span>,</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            array(</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                <span class="stringliteral">&#39;key&#39;</span>       =&gt; <span class="stringliteral">&#39;id&#39;</span>,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                <span class="stringliteral">&#39;operation&#39;</span> =&gt; <span class="stringliteral">&#39;is&#39;</span>,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                <span class="stringliteral">&#39;value&#39;</span>     =&gt; $entry[<span class="stringliteral">&#39;id&#39;</span>],</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                            ),</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                        ),</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    )</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                );</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                $_tmp_query_parts = $_tmp_query-&gt;_introspect();</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">                /** @type \GF_Query $query */</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                $query_parts = $query-&gt;_introspect();</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                $query-&gt;where( \GF_Query_Condition::_and( $_tmp_query_parts[<span class="stringliteral">&#39;where&#39;</span>], $query_parts[<span class="stringliteral">&#39;where&#39;</span>] ) );</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            },</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            10,</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            3</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        );</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="comment">// Prevent page offset from being applied to the single entry query; it&#39;s used to return to the referring page number</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        add_filter(</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="stringliteral">&#39;gravityview_search_criteria&#39;</span>,</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            $remove_pagenum = <span class="keyword">function</span>( <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a> ) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>[<span class="stringliteral">&#39;paging&#39;</span>] = array(</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    <span class="stringliteral">&#39;offset&#39;</span>    =&gt; 0,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    <span class="stringliteral">&#39;page_size&#39;</span> =&gt; 25,</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                );</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        );</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <a class="code" href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a> = $view-&gt;get_entries()-&gt;all();</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="comment">// Remove the modifying filter</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        remove_filter( <span class="stringliteral">&#39;gravityview_search_criteria&#39;</span>, $remove_pagenum );</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span> ( ! $entries ) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            remove_action( <span class="stringliteral">&#39;gravityview/view/query&#39;</span>, $entry_subset_callback );</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="keywordflow">return</span> new \WP_Error( <span class="stringliteral">&#39;failed_criteria&#39;</span>, <span class="stringliteral">&#39;Entry failed search_criteria and field_filters&#39;</span> );</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="comment">// This entry is on a View with joins</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">if</span> ( $entries[0]-&gt;is_multi() ) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            $multi_entry_ids = array();</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keywordflow">foreach</span> ( $entries[0]-&gt;entries as $multi_entry ) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                $multi_entry_ids[] = (int) $multi_entry-&gt;ID;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="keywordflow">if</span> ( ! in_array( (<span class="keywordtype">int</span>) $entry[<span class="stringliteral">&#39;id&#39;</span>], $multi_entry_ids, <span class="keyword">true</span> ) ) {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                remove_action( <span class="stringliteral">&#39;gravityview/view/query&#39;</span>, $entry_subset_callback );</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">return</span> new \WP_Error( <span class="stringliteral">&#39;failed_criteria&#39;</span>, <span class="stringliteral">&#39;Entry failed search_criteria and field_filters&#39;</span> );</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        } elseif ( (<span class="keywordtype">int</span>) $entries[0]-&gt;ID !== (<span class="keywordtype">int</span>) $entry[<span class="stringliteral">&#39;id&#39;</span>] ) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            remove_action( <span class="stringliteral">&#39;gravityview/view/query&#39;</span>, $entry_subset_callback );</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">return</span> new \WP_Error( <span class="stringliteral">&#39;failed_criteria&#39;</span>, <span class="stringliteral">&#39;Entry failed search_criteria and field_filters&#39;</span> );</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        remove_action( <span class="stringliteral">&#39;gravityview/view/query&#39;</span>, $entry_subset_callback );</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">     * Allow formatting date and time based on GravityView standards</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">     * @since 1.16</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">     * @see GVCommon_Test::test_format_date for examples</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">     * @param string       $date_string The date as stored by Gravity Forms (`Y-m-d h:i:s` GMT)</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">     * @param string|array $args Array or string of settings for output parsed by `wp_parse_args()`; Can use `raw=1` or `array(&#39;raw&#39; =&gt; true)` \n</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">     * - `raw` Un-formatted date string in original `Y-m-d h:i:s` format</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">     * - `timestamp` Integer timestamp returned by GFCommon::get_local_timestamp()</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">     * - `diff` &quot;%s ago&quot; format, unless other `format` is defined</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">     * - `human` Set $is_human parameter to true for `GFCommon::format_date()`. Shows `diff` within 24 hours or date after. Format based on blog setting, unless `format` is defined.</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">     * - `time` Include time in the `GFCommon::format_date()` output</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">     * - `format` Define your own date format, or `diff` format</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">     * @return int|null|string Formatted date based on the original date</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a7ba594ffe42489d5b006160d1f4e0d44"> 1070</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a7ba594ffe42489d5b006160d1f4e0d44">format_date</a>( $date_string = <span class="stringliteral">&#39;&#39;</span>, <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a> = array() ) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        $default_atts = array(</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="stringliteral">&#39;raw&#39;</span>       =&gt; <span class="keyword">false</span>,</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="stringliteral">&#39;timestamp&#39;</span> =&gt; <span class="keyword">false</span>,</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="stringliteral">&#39;diff&#39;</span>      =&gt; <span class="keyword">false</span>,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="stringliteral">&#39;human&#39;</span>     =&gt; <span class="keyword">false</span>,</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="stringliteral">&#39;format&#39;</span>    =&gt; <span class="stringliteral">&#39;&#39;</span>,</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="stringliteral">&#39;time&#39;</span>      =&gt; <span class="keyword">false</span>,</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        );</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        $atts = wp_parse_args( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>, $default_atts );</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">         * Gravity Forms code to adjust date to locally-configured Time Zone</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">         * @see GFCommon::format_date() for original code</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        $date_gmt_time        = mysql2date( <span class="charliteral">&#39;G&#39;</span>, $date_string );</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        $date_local_timestamp = GFCommon::get_local_timestamp( $date_gmt_time );</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a>       = <a class="code" href="class_g_v_1_1_utils.html#a744ef7454e48c5521c4c3ad3cf1b700b">\GV\Utils::get</a>( $atts, <span class="stringliteral">&#39;format&#39;</span> );</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        $is_human     = ! empty( $atts[<span class="stringliteral">&#39;human&#39;</span>] );</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        $is_diff      = ! empty( $atts[<span class="stringliteral">&#39;diff&#39;</span>] );</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        $is_raw       = ! empty( $atts[<span class="stringliteral">&#39;raw&#39;</span>] );</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        $is_timestamp = ! empty( $atts[<span class="stringliteral">&#39;timestamp&#39;</span>] );</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        $include_time = ! empty( $atts[<span class="stringliteral">&#39;time&#39;</span>] );</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="comment">// If we&#39;re using time diff, we want to have a different default format</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a> ) ) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="comment">/* translators: %s: relative time from now, used for generic date comparisons. &quot;1 day ago&quot;, or &quot;20 seconds ago&quot; */</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a> = $is_diff ? esc_html__( <span class="stringliteral">&#39;%s ago&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) : get_option( <span class="stringliteral">&#39;date_format&#39;</span> );</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="comment">// If raw was specified, don&#39;t modify the stored value</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">if</span> ( $is_raw ) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            $formatted_date = $date_string;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        } elseif ( $is_timestamp ) {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            $formatted_date = $date_local_timestamp;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        } elseif ( $is_diff ) {</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            $formatted_date = sprintf( <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a>, human_time_diff( $date_gmt_time ) );</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            $formatted_date = GFCommon::format_date( $date_string, $is_human, <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a>, $include_time );</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        unset( <a class="code" href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a>, $is_diff, $is_human, $is_timestamp, $is_raw, $date_gmt_time, $date_local_timestamp, $default_atts );</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">return</span> $formatted_date;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">     * Retrieve the label of a given field id (for a specific form)</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">     * @since 1.17 Added $field_value parameter</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">     * @param array        $form Gravity Forms form array</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">     * @param string       $field_id ID of the field. If an input, full input ID (like `1.3`)</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">     * @param string|array $field_value Raw value of the field.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">     * @return string</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a0e307b24465f273ac2e98cace6040a5a"> 1130</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a0e307b24465f273ac2e98cace6040a5a">get_field_label</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = array(), <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> = <span class="stringliteral">&#39;&#39;</span>, <a class="code" href="checkbox_8php.html#abd8615909223c22bd7f77a6919b10ab6">$field_value</a> = <span class="stringliteral">&#39;&#39;</span> ) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">if</span> ( empty( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> ) || empty( <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) ) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> = self::get_field( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> );</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a> = <a class="code" href="class_g_v_1_1_utils.html#a744ef7454e48c5521c4c3ad3cf1b700b">\GV\Utils::get</a>( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <span class="stringliteral">&#39;label&#39;</span> );</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> ( floor( <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) !== floatval( <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) ) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a> = GFFormsModel::get_choice_text( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <a class="code" href="checkbox_8php.html#abd8615909223c22bd7f77a6919b10ab6">$field_value</a>, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> );</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">     * Returns the field details array of a specific form given the field id</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">     * Alias of GFFormsModel::get_field</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">     * @since 1.19 Allow passing form ID as well as form array</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">     * @uses GFFormsModel::get_field</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">     * @see GFFormsModel::get_field</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">     * @param array|int  $form Form array or ID</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">     * @param string|int $field_id</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">     * @return GF_Field|null Gravity Forms field object, or NULL: Gravity Forms GFFormsModel does not exist or field at $field_id doesn&#39;t exist.</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="class_g_v_common.html#afc20a2d3db0c70c2a7c85b003c113558"> 1161</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#afc20a2d3db0c70c2a7c85b003c113558">get_field</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) {</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> = GFAPI::get_field( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> );</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="comment">// Maintain previous behavior by returning null instead of false.</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ? <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> : null;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    }</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">     * Check whether the post is GravityView</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">     * - Check post type. Is it `gravityview`?</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">     * - Check shortcode</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment">     * @param  WP_Post $post WordPress post object</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">     * @return boolean           True: yep, GravityView; No: not!</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="class_g_v_common.html#af1271ca05340cc1329443239e0d59a73"> 1178</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#af1271ca05340cc1329443239e0d59a73">has_gravityview_shortcode</a>( <a class="code" href="delete-entry_8php.html#a77c8faa27a630e0cfbe0fa5507c1a538">$post</a> = null ) {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">if</span> ( ! is_a( <a class="code" href="delete-entry_8php.html#a77c8faa27a630e0cfbe0fa5507c1a538">$post</a>, <span class="stringliteral">&#39;WP_Post&#39;</span> ) ) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;gravityview&#39;</span> === get_post_type( <a class="code" href="delete-entry_8php.html#a77c8faa27a630e0cfbe0fa5507c1a538">$post</a> ) ) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">return</span> self::has_shortcode_r( <a class="code" href="delete-entry_8php.html#a77c8faa27a630e0cfbe0fa5507c1a538">$post</a>-&gt;post_content, <span class="stringliteral">&#39;gravityview&#39;</span> ) ? true : <span class="keyword">false</span>;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">     * Placeholder until the recursive has_shortcode() patch is merged</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">     * @see https://core.trac.wordpress.org/ticket/26343#comment:10</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">     * @param string $content Content to check whether there&#39;s a shortcode</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">     * @param string $tag Current shortcode tag</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01199"></a><span class="lineno"><a class="line" href="class_g_v_common.html#acad2eee173143f70cbf9d3246a68e302"> 1199</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#acad2eee173143f70cbf9d3246a68e302">has_shortcode_r</a>( <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a>, $tag = <span class="stringliteral">&#39;gravityview&#39;</span> ) {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">if</span> ( <span class="keyword">false</span> === strpos( <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a>, <span class="charliteral">&#39;[&#39;</span> ) ) {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">if</span> ( shortcode_exists( $tag ) ) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            $shortcodes = array();</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            preg_match_all( <span class="charliteral">&#39;/&#39;</span> . get_shortcode_regex() . <span class="stringliteral">&#39;/s&#39;</span>, <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a>, $matches, PREG_SET_ORDER );</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="keywordflow">if</span> ( empty( $matches ) ) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <span class="keywordflow">foreach</span> ( $matches as $shortcode ) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                <span class="keywordflow">if</span> ( $tag === $shortcode[2] ) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    <span class="comment">// Changed this to $shortcode instead of true so we get the parsed atts.</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                    $shortcodes[] = $shortcode;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                } elseif ( isset( $shortcode[5] ) &amp;&amp; $results = self::has_shortcode_r( $shortcode[5], $tag ) ) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                    <span class="keywordflow">foreach</span> ( $results as $result ) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                        $shortcodes[] = $result;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordflow">return</span> $shortcodes;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">     * Get the views for a particular form</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">     * @since 1.15.2 Add $args array and limit posts_per_page to 500</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment">     * @uses get_posts()</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">     * @param  int   $form_id Gravity Forms form ID</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">     * @param  array $args Pass args sent to get_posts()</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">     * @return array          Array with view details, as returned by get_posts()</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="class_g_v_common.html#aeb0f25e8792725cc0a5107a215a1b906"> 1245</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#aeb0f25e8792725cc0a5107a215a1b906">get_connected_views</a>( <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a>, <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a> = array() ) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        global $wpdb;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        $defaults = array(</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <span class="stringliteral">&#39;post_type&#39;</span>      =&gt; <span class="stringliteral">&#39;gravityview&#39;</span>,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="stringliteral">&#39;posts_per_page&#39;</span> =&gt; 100,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <span class="stringliteral">&#39;meta_key&#39;</span>       =&gt; <span class="stringliteral">&#39;_gravityview_form_id&#39;</span>,</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="stringliteral">&#39;meta_value&#39;</span>     =&gt; (<span class="keywordtype">int</span>) <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a>,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        );</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>     = wp_parse_args( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>, $defaults );</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        $views    = get_posts( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a> );</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        $views_with_joins = $wpdb-&gt;get_results( <span class="stringliteral">&quot;SELECT `post_id`, `meta_value` FROM $wpdb-&gt;postmeta WHERE `meta_key` = &#39;_gravityview_form_joins&#39;&quot;</span> );</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        $joined_forms = array();</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">foreach</span> ( $views_with_joins as $view ) {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            $data = unserialize( $view-&gt;meta_value );</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="keywordflow">if</span> ( ! $data || ! is_array( $data ) ) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <span class="keywordflow">foreach</span> ( $data as $datum ) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <span class="keywordflow">if</span> ( ! empty( $datum[2] ) &amp;&amp; (<span class="keywordtype">int</span>) $datum[2] === (<span class="keywordtype">int</span>) $form_id ) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    $joined_forms[] = $view-&gt;post_id;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">if</span> ( $joined_forms ) {</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            $joined_args = array(</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <span class="stringliteral">&#39;post_type&#39;</span>      =&gt; <span class="stringliteral">&#39;gravityview&#39;</span>,</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                <span class="stringliteral">&#39;posts_per_page&#39;</span> =&gt; <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>[<span class="stringliteral">&#39;posts_per_page&#39;</span>],</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                <span class="stringliteral">&#39;post__in&#39;</span>       =&gt; $joined_forms,</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            );</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            $views       = array_merge( $views, get_posts( $joined_args ) );</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordflow">return</span> $views;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">     * Get the Gravity Forms form ID connected to a View</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">     * @param int $view_id The ID of the View to get the connected form of</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">     * @return false|string ID of the connected Form, if exists. Empty string if not. False if not the View ID isn&#39;t valid.</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a0a7b21d68bbe8d3ac0273c7ab60a591d"> 1295</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a0a7b21d68bbe8d3ac0273c7ab60a591d">get_meta_form_id</a>( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a> ) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">return</span> get_post_meta( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a>, <span class="stringliteral">&#39;_gravityview_form_id&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">     * Get the template ID (`list`, `table`, `datatables`, `map`) for a View</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">     * @see GravityView_Template::template_id</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">     * @param int $view_id The ID of the View to get the layout of</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">     * @return string GravityView_Template::template_id value. Empty string if not.</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a4956c79816813d244b93d058c33a1989"> 1308</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a4956c79816813d244b93d058c33a1989">get_meta_template_id</a>( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a> ) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">return</span> get_post_meta( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a>, <span class="stringliteral">&#39;_gravityview_directory_template&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">     * Get all the settings for a View</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">     * @uses  \GV\View_Settings::defaults() Parses the settings with the plugin defaults as backups.</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">     * @param  int $post_id View ID</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">     * @return array          Associative array of settings with plugin defaults used if not set by the View</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a078c050ff0ef95cd76dc7c3613d960f6"> 1320</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a078c050ff0ef95cd76dc7c3613d960f6">get_template_settings</a>( $post_id ) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> = get_post_meta( $post_id, <span class="stringliteral">&#39;_gravityview_template_settings&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">if</span> ( class_exists( <span class="stringliteral">&#39;\GV\View_Settings&#39;</span> ) ) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <span class="keywordflow">return</span> wp_parse_args( (array) <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>, \<a class="code" href="namespace_g_v.html">GV</a>\View_Settings::defaults() );</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="comment">// Backup, in case GravityView_View_Data isn&#39;t loaded yet.</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">     * Get the setting for a View</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">     * If the setting isn&#39;t set by the View, it returns the plugin default.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment">     * @param  int    $post_id View ID</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment">     * @param  string $key     Key for the setting</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">     * @return mixed|null          Setting value, or NULL if not set.</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a78c256e2294d2e224738b50b00d3aa1e"> 1343</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a78c256e2294d2e224738b50b00d3aa1e">get_template_setting</a>( $post_id, $key ) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> = self::get_template_settings( $post_id );</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> ( isset( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>[ $key ] ) ) {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>[ $key ];</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">     * Get the field configuration for the View</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment">     * array(</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">     *  [other zones]</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">     *  &#39;directory_list-title&#39; =&gt; array(</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">     *      [other fields]</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">     *      &#39;5372653f25d44&#39; =&gt; array(</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">     *          &#39;id&#39; =&gt; string &#39;9&#39; (length=1)</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">     *          &#39;label&#39; =&gt; string &#39;Screenshots&#39; (length=11)</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment">     *          &#39;show_label&#39; =&gt; string &#39;1&#39; (length=1)</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment">     *          &#39;custom_label&#39; =&gt; string &#39;&#39; (length=0)</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">     *          &#39;custom_class&#39; =&gt; string &#39;gv-gallery&#39; (length=10)</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">     *          &#39;only_loggedin&#39; =&gt; string &#39;0&#39; (length=1)</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">     *          &#39;only_loggedin_cap&#39; =&gt; string &#39;read&#39; (length=4)</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment">     *      )</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">     *      [other fields]</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">     *  )</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">     *  [other zones]</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">     * )</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">     * @since 1.17.4 Added $apply_filter parameter.</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment">     * @since 2.17   Added $form_id parameter.</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">     * @param  int   $post_id View ID.</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">     * @param  bool  $apply_filter Whether to apply the `gravityview/configuration/fields` filter [Default: true]</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">     * @return array Multi-array of fields with first level being the field zones. See code comment.</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01388"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a01dc4f42b232957199db0da462f120ae"> 1388</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a01dc4f42b232957199db0da462f120ae">get_directory_fields</a>( $post_id, $apply_filter = <span class="keyword">true</span>, <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> = 0 ) {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        $fields = get_post_meta( $post_id, <span class="stringliteral">&#39;_gravityview_directory_fields&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span> ( $apply_filter ) {<span class="comment"></span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">             * @filter `gravityview/configuration/fields` Filter the View fields&#39; configuration array</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">             * @since 1.6.5</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">             * @since 2.16.3 Added the $form_id parameter.</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">             *</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">             * @param $fields array Multi-array of fields with first level being the field zones</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">             * @param $post_id int Post ID</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">             * @param int $form_id The main form ID for the View.</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            $fields = apply_filters( <span class="stringliteral">&#39;gravityview/configuration/fields&#39;</span>, $fields, $post_id, <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">             * @filter `gravityview/view/configuration/fields` Filter the View fields&#39; configuration array.</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">             * @since 2.0</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">             * @since 2.16.3 Added the $form_id parameter.</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">             *</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">             * @param array $fields Multi-array of fields with first level being the field zones.</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">             * @param \GV\View $view The View the fields are being pulled for.</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">             * @param int $form_id The main form ID for the View.</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            $fields = apply_filters( <span class="stringliteral">&#39;gravityview/view/configuration/fields&#39;</span>, $fields, \<a class="code" href="namespace_g_v.html">GV</a>\View::by_id( $post_id ), <a class="code" href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a> );</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        }</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordflow">return</span> $fields;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">     * Get the widget configuration for a View</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">     * @param int  $view_id View ID</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">     * @param bool $json_decode Whether to JSON-decode the widget values. Default: `false`</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">     * @return array Multi-array of widgets, with the slug of each widget &quot;zone&quot; being the key (&quot;header_top&quot;), and each widget having their own &quot;id&quot;</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a760eecfa28aa04166fc51d52e01734c7"> 1426</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a760eecfa28aa04166fc51d52e01734c7">get_directory_widgets</a>( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a>, $json_decode = <span class="keyword">false</span> ) {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        $view_widgets = get_post_meta( <a class="code" href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a>, <span class="stringliteral">&#39;_gravityview_directory_widgets&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        $defaults = array(</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            <span class="stringliteral">&#39;header_top&#39;</span>   =&gt; array(),</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="stringliteral">&#39;header_left&#39;</span>  =&gt; array(),</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <span class="stringliteral">&#39;header_right&#39;</span> =&gt; array(),</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <span class="stringliteral">&#39;footer_left&#39;</span>  =&gt; array(),</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            <span class="stringliteral">&#39;footer_right&#39;</span> =&gt; array(),</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        );</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        $directory_widgets = wp_parse_args( $view_widgets, $defaults );</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">if</span> ( $json_decode ) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            $directory_widgets = <a class="code" href="helper-functions_8php.html#a04dcf2978969254876adc4471d7a17cb">gv_map_deep</a>( $directory_widgets, <span class="stringliteral">&#39;gv_maybe_json_decode&#39;</span> );</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        }</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="keywordflow">return</span> $directory_widgets;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">     * Render dropdown (select) with the list of sortable fields from a form ID</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">     * @param  int $formid Form ID</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">     * @return string         html</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01454"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a059c13af0ea6b2ca123c1a722ba6daba"> 1454</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a059c13af0ea6b2ca123c1a722ba6daba">get_sortable_fields</a>( $formid, $current = <span class="stringliteral">&#39;&#39;</span> ) {</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = <span class="stringliteral">&#39;&lt;option value=&quot;&quot; &#39;</span> . selected( <span class="stringliteral">&#39;&#39;</span>, $current, <span class="keyword">false</span> ) . <span class="charliteral">&#39;&gt;&#39;</span> . esc_html__( <span class="stringliteral">&#39;Default (Entry ID)&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) . <span class="stringliteral">&#39;&lt;/option&gt;&#39;</span>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keywordflow">if</span> ( empty( $formid ) ) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        $fields = self::get_sortable_fields_array( $formid );</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">if</span> ( ! empty( $fields ) ) {</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            $blocklist_field_types = array( <span class="stringliteral">&#39;list&#39;</span>, <span class="stringliteral">&#39;textarea&#39;</span> );</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            $blocklist_field_types = apply_filters_deprecated( <span class="stringliteral">&#39;gravityview_blacklist_field_types&#39;</span>, array( $blocklist_field_types, null ), <span class="stringliteral">&#39;2.14&#39;</span>, <span class="stringliteral">&#39;gravityview_blocklist_field_types&#39;</span> );</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            $blocklist_field_types = apply_filters( <span class="stringliteral">&#39;gravityview_blocklist_field_types&#39;</span>, $blocklist_field_types, null );</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            <span class="keywordflow">foreach</span> ( $fields as $id =&gt; <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                <span class="keywordflow">if</span> ( in_array( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;type&#39;</span>], $blocklist_field_types ) ) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> .= <span class="stringliteral">&#39;&lt;option value=&quot;&#39;</span> . $id . <span class="stringliteral">&#39;&quot; &#39;</span> . selected( $id, $current, <span class="keyword">false</span> ) . <span class="charliteral">&#39;&gt;&#39;</span> . esc_attr( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;label&#39;</span>] ) . <span class="stringliteral">&#39;&lt;/option&gt;&#39;</span>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">     * @param int   $formid Gravity Forms form ID</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">     * @param array $blocklist Field types to exclude</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">     * @since 1.8</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">     * @todo Get all fields, check if sortable dynamically</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a261495280da901f44cb7c0494e23e58b"> 1494</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a261495280da901f44cb7c0494e23e58b">get_sortable_fields_array</a>( $formid, $blocklist = array( <span class="stringliteral">&#39;list&#39;</span>, <span class="stringliteral">&#39;textarea&#39;</span> ) ) {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="comment">// Get fields with sub-inputs and no parent</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        $fields = self::get_form_fields( $formid, <span class="keyword">true</span>, <span class="keyword">false</span> );</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        $date_created = array(</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            <span class="stringliteral">&#39;date_created&#39;</span> =&gt; array(</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                <span class="stringliteral">&#39;type&#39;</span>  =&gt; <span class="stringliteral">&#39;date_created&#39;</span>,</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; __( <span class="stringliteral">&#39;Date Created&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            ),</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            <span class="stringliteral">&#39;date_updated&#39;</span> =&gt; array(</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="stringliteral">&#39;type&#39;</span>  =&gt; <span class="stringliteral">&#39;date_updated&#39;</span>,</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; __( <span class="stringliteral">&#39;Date Updated&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            ),</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        );</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        $fields = $date_created + $fields;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        $blocklist_field_types = $blocklist;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        $blocklist_field_types = apply_filters_deprecated( <span class="stringliteral">&#39;gravityview_blacklist_field_types&#39;</span>, array( $blocklist_field_types, null ), <span class="stringliteral">&#39;2.14&#39;</span>, <span class="stringliteral">&#39;gravityview_blocklist_field_types&#39;</span> );</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        $blocklist_field_types = apply_filters( <span class="stringliteral">&#39;gravityview_blocklist_field_types&#39;</span>, $blocklist_field_types, null );</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="comment">// TODO: Convert to using array_filter</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="keywordflow">foreach</span> ( $fields as $id =&gt; <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) {</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            <span class="keywordflow">if</span> ( in_array( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;type&#39;</span>], $blocklist_field_types ) ) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                unset( $fields[ $id ] );</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            }</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="comment">             * Merge date and time subfields.</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">if</span> ( in_array( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;type&#39;</span>], array( <span class="stringliteral">&#39;date&#39;</span>, <span class="stringliteral">&#39;time&#39;</span> ) ) &amp;&amp; ! empty( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>[<span class="stringliteral">&#39;parent&#39;</span>] ) ) {</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                $fields[ intval( $id ) ] = array(</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    <span class="stringliteral">&#39;label&#39;</span>      =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <span class="stringliteral">&#39;parent/label&#39;</span> ),</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                    <span class="stringliteral">&#39;parent&#39;</span>     =&gt; null,</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                    <span class="stringliteral">&#39;type&#39;</span>       =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <span class="stringliteral">&#39;parent/type&#39;</span> ),</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                    <span class="stringliteral">&#39;adminLabel&#39;</span> =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <span class="stringliteral">&#39;parent/adminLabel&#39;</span> ),</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                    <span class="stringliteral">&#39;adminOnly&#39;</span>  =&gt; \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>, <span class="stringliteral">&#39;parent/adminOnly&#39;</span> ),</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                );</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                unset( $fields[ $id ] );</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment">         * @filter `gravityview/common/sortable_fields` Filter the sortable fields</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">         * @since 1.12</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment">         * @param array $fields Sub-set of GF form fields that are sortable</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">         * @param int $formid The Gravity Forms form ID that the fields are from</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        $fields = apply_filters( <span class="stringliteral">&#39;gravityview/common/sortable_fields&#39;</span>, $fields, $formid );</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">return</span> $fields;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">     * Returns the GF Form field type for a certain field(id) of a form</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">     * @param  object $form     Gravity Forms form</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">     * @param  mixed  $field_id Field ID or Field array</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">     * @return string field type</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01559"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a417d2223c662af2d192dee8612035708"> 1559</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a417d2223c662af2d192dee8612035708">get_field_type</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = null, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> = <span class="stringliteral">&#39;&#39;</span> ) {</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">if</span> ( ! empty( <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) &amp;&amp; ! is_array( <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> ) ) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> = self::get_field( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a> );</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> = <a class="code" href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        }</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">return</span> class_exists( <span class="stringliteral">&#39;RGFormsModel&#39;</span> ) ? RGFormsModel::get_input_type( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) : <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">     * Checks if the field type is a &#39;numeric&#39; field type (e.g. to be used when sorting)</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">     * @param  int|array $form  form ID or form array</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment">     * @param  int|array $field field key or field array</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment">     * @return boolean</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01579"></a><span class="lineno"><a class="line" href="class_g_v_common.html#ab20055e419c54a93ed4dcd4990cc3a69"> 1579</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#ab20055e419c54a93ed4dcd4990cc3a69">is_field_numeric</a>( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = null, <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> = <span class="stringliteral">&#39;&#39;</span> ) {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordflow">if</span> ( ! is_array( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> ) &amp;&amp; ! is_array( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) ) {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = self::get_form( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> );</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        }</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="comment">// If entry meta, it&#39;s a string. Otherwise, numeric</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">if</span> ( ! is_numeric( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) &amp;&amp; is_string( <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> ) ) {</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            $type = <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            $type = self::get_field_type( <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>, <a class="code" href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a> );</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">         * @filter `gravityview/common/numeric_types` What types of fields are numeric?</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">         * @since 1.5.2</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">         * @param array $numeric_types Fields that are numeric. Default: `[ number, time ]`</span></div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        $numeric_types = apply_filters( <span class="stringliteral">&#39;gravityview/common/numeric_types&#39;</span>, array( <span class="stringliteral">&#39;number&#39;</span>, <span class="stringliteral">&#39;time&#39;</span> ) );</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="comment">// Defer to GravityView_Field setting, if the field type is registered and `is_numeric` is true</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="time_8php.html#a9e6d22b1bf883606d7de78df09f7efac">$gv_field</a> = <a class="code" href="class_gravity_view___fields.html#a4b0d369bfdd27cca3c401ba53565adb4">GravityView_Fields::get</a>( $type ) ) {</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <span class="keywordflow">if</span> ( <span class="keyword">true</span> === <a class="code" href="time_8php.html#a9e6d22b1bf883606d7de78df09f7efac">$gv_field</a>-&gt;is_numeric ) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                $numeric_types[] = <a class="code" href="time_8php.html#a9e6d22b1bf883606d7de78df09f7efac">$gv_field</a>-&gt;is_numeric;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            }</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        }</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        $return = in_array( $type, $numeric_types );</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">return</span> $return;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">     * Encrypt content using Javascript so that it&#39;s hidden when JS is disabled.</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">     * This is mostly used to hide email addresses from scraper bots.</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">     * @param string $content Content to encrypt</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">     * @param string $message Message shown if Javascript is disabled</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="comment">     * @see  https://github.com/katzwebservices/standalone-phpenkoder StandalonePHPEnkoder on Github</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">     * @since 1.7</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">     * @return string Content, encrypted</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="class_g_v_common.html#aee4f4efcf54da0c503d640f61877c563"> 1625</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#aee4f4efcf54da0c503d640f61877c563">js_encrypt</a>( <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a>, $message = <span class="stringliteral">&#39;&#39;</span> ) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a>;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">if</span> ( ! class_exists( <span class="stringliteral">&#39;StandalonePHPEnkoder&#39;</span> ) ) {</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            include_once <a class="code" href="gravityview_8php.html#a20e44631ea950946599dd5661090eb4d">GRAVITYVIEW_DIR</a> . <span class="stringliteral">&#39;includes/lib/StandalonePHPEnkoder.php&#39;</span>;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        }</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <span class="keywordflow">if</span> ( class_exists( <span class="stringliteral">&#39;StandalonePHPEnkoder&#39;</span> ) ) {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            $enkoder = <span class="keyword">new</span> StandalonePHPEnkoder();</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            $message = empty( $message ) ? __( <span class="stringliteral">&#39;Email hidden; Javascript is required.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) : $message;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">            /**</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">             * @filter `gravityview/phpenkoder/msg` Modify the message shown when Javascript is disabled and an encrypted email field is displayed</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">             * @since 1.7</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">             * @param string $message Existing message</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">             * @param string $content Content to encrypt</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            $enkoder-&gt;enkode_msg = apply_filters( <span class="stringliteral">&#39;gravityview/phpenkoder/msg&#39;</span>, $message, <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a> );</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = $enkoder-&gt;enkode( <a class="code" href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a> );</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">     * Do the same than parse_str without max_input_vars limitation:</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">     * Parses $string as if it were the query string passed via a URL and sets variables in the current scope.</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">     * @param $string string string to parse (not altered like in the original parse_str(), use the second parameter!)</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">     * @param $result array  If the second parameter is present, variables are stored in this variable as array elements</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">     * @return bool true or false if $string is an empty string</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">     * @since  1.5.3</span></div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">     * @see https://gist.github.com/rubo77/6821632</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment">     **/</span></div><div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a9f45856500b4741558dff421d70fed78"> 1665</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a9f45856500b4741558dff421d70fed78">gv_parse_str</a>( $string, &amp;$result ) {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">if</span> ( empty( $string ) ) {</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        $result = array();</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="comment">// find the pairs &quot;name=value&quot;</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        $pairs = explode( <span class="charliteral">&#39;&amp;&#39;</span>, $string );</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="keywordflow">foreach</span> ( $pairs as $pair ) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="comment">// use the original parse_str() on each element</span></div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            parse_str( $pair, $params );</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            $k = key( $params );</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            <span class="keywordflow">if</span> ( ! isset( $result[ $k ] ) ) {</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                $result += $params;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            } elseif ( array_key_exists( $k, $params ) &amp;&amp; is_array( $params[ $k ] ) ) {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                $result[ $k ] = self::array_merge_recursive_distinct( $result[ $k ], $params[ $k ] );</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">     * Generate an HTML anchor tag with a list of supported attributes</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment">     * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a Supported attributes defined here</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">     * @uses esc_url_raw() to sanitize $href</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="comment">     * @uses esc_attr() to sanitize $atts</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">     * @since 1.6</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment">     * @param string       $href URL of the link. Sanitized using `esc_url_raw()`</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment">     * @param string       $anchor_text The text or HTML inside the anchor. This is not sanitized in the function.</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment">     * @param array|string $atts Attributes to be added to the anchor tag. Parsed by `wp_parse_args()`, sanitized using `esc_attr()`</span></div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment">     * @return string HTML output of anchor link. If empty $href, returns NULL</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a0566bfa4a4073572150babf30736d180"> 1705</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a0566bfa4a4073572150babf30736d180">get_link_html</a>( <a class="code" href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a> = <span class="stringliteral">&#39;&#39;</span>, $anchor_text = <span class="stringliteral">&#39;&#39;</span>, $atts = array() ) {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="comment">// Supported attributes for anchor tags. HREF left out intentionally.</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        $allowed_atts = array(</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="stringliteral">&#39;href&#39;</span>        =&gt; null, <span class="comment">// Will override the $href argument if set</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <span class="stringliteral">&#39;title&#39;</span>       =&gt; null,</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            <span class="stringliteral">&#39;rel&#39;</span>         =&gt; null,</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            <span class="stringliteral">&#39;id&#39;</span>          =&gt; null,</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="stringliteral">&#39;class&#39;</span>       =&gt; null,</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="stringliteral">&#39;target&#39;</span>      =&gt; null,</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <span class="stringliteral">&#39;style&#39;</span>       =&gt; null,</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <span class="comment">// Used by GravityView</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <span class="stringliteral">&#39;data-viewid&#39;</span> =&gt; null,</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <span class="comment">// Not standard</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            <span class="stringliteral">&#39;hreflang&#39;</span>    =&gt; null,</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="stringliteral">&#39;type&#39;</span>        =&gt; null,</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            <span class="stringliteral">&#39;tabindex&#39;</span>    =&gt; null,</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            <span class="comment">// Deprecated HTML4 but still used</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            <span class="stringliteral">&#39;name&#39;</span>        =&gt; null,</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;            <span class="stringliteral">&#39;onclick&#39;</span>     =&gt; null,</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            <span class="stringliteral">&#39;onchange&#39;</span>    =&gt; null,</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            <span class="stringliteral">&#39;onkeyup&#39;</span>     =&gt; null,</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <span class="comment">// HTML5 only</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <span class="stringliteral">&#39;download&#39;</span>    =&gt; null,</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <span class="stringliteral">&#39;media&#39;</span>       =&gt; null,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="stringliteral">&#39;ping&#39;</span>        =&gt; null,</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        );</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">         * @filter `gravityview/get_link/allowed_atts` Modify the attributes that are allowed to be used in generating links</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">         * @since 1.6</span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">         * @param array $allowed_atts Array of attributes allowed</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        $allowed_atts = apply_filters( <span class="stringliteral">&#39;gravityview/get_link/allowed_atts&#39;</span>, $allowed_atts );</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="comment">// Make sure the attributes are formatted as array</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        $passed_atts = wp_parse_args( $atts );</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="comment">// Make sure the allowed attributes are only the ones in the $allowed_atts list</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        $final_atts = shortcode_atts( $allowed_atts, $passed_atts );</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="comment">// Remove attributes with empty values</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        $final_atts = array_filter( $final_atts );</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="comment">// If the href wasn&#39;t passed as an attribute, use the value passed to the function</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">if</span> ( empty( $final_atts[<span class="stringliteral">&#39;href&#39;</span>] ) &amp;&amp; ! empty( <a class="code" href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a> ) ) {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            $final_atts[<span class="stringliteral">&#39;href&#39;</span>] = <a class="code" href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a>;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        }</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">if</span> ( isset( $final_atts[<span class="stringliteral">&#39;href&#39;</span>] ) ) {</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            $final_atts[<span class="stringliteral">&#39;href&#39;</span>] = esc_url_raw( $final_atts[<span class="stringliteral">&#39;href&#39;</span>] );</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment">         * Fix potential security issue with target=_blank</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">         * @see https://dev.to/ben/the-targetblank-vulnerability-by-example</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;_blank&#39;</span> === \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $final_atts, <span class="stringliteral">&#39;target&#39;</span> ) ) {</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            $final_atts[<span class="stringliteral">&#39;rel&#39;</span>] = trim( \<a class="code" href="namespace_g_v.html">GV</a>\Utils::get( $final_atts, <span class="stringliteral">&#39;rel&#39;</span>, <span class="stringliteral">&#39;&#39;</span> ) . <span class="stringliteral">&#39; noopener noreferrer&#39;</span> );</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="comment">// Sort the attributes alphabetically, to help testing</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        ksort( $final_atts );</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="comment">// For each attribute, generate the code</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keywordflow">foreach</span> ( $final_atts as $attr =&gt; <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> ) {</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> .= sprintf( <span class="stringliteral">&#39; %s=&quot;%s&quot;&#39;</span>, $attr, esc_attr( <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> ) );</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;&#39;</span> !== <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> ) {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = <span class="stringliteral">&#39;&lt;a&#39;</span> . <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> . <span class="charliteral">&#39;&gt;&#39;</span> . $anchor_text . <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    }</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment">     * array_merge_recursive does indeed merge arrays, but it converts values with duplicate</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="comment">     * keys to arrays rather than overwriting the value in the first array with the duplicate</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment">     * value in the second array, as array_merge does.</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">     * @see http://php.net/manual/en/function.array-merge-recursive.php</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">     * @since  1.5.3</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="comment">     * @param array $array1</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="comment">     * @param array $array2</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="comment">     * @return array</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">     * @author Daniel &lt;daniel@danielsmedegaardbuus.dk&gt;</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">     * @author Gabriel Sobrinho &lt;gabriel.sobrinho@gmail.com&gt;</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01801"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a51a7a2f9d520f491ae70d06d740ba854"> 1801</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a51a7a2f9d520f491ae70d06d740ba854">array_merge_recursive_distinct</a>( array &amp;$array1, array &amp;$array2 ) {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        $merged = $array1;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <span class="keywordflow">foreach</span> ( $array2 as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> ) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">if</span> ( is_array( <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> ) &amp;&amp; isset( $merged[ $key ] ) &amp;&amp; is_array( $merged[ $key ] ) ) {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                $merged[ $key ] = self::array_merge_recursive_distinct( $merged[ $key ], <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> );</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            } elseif ( is_numeric( $key ) &amp;&amp; isset( $merged[ $key ] ) ) {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                $merged[] = <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a>;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                $merged[ $key ] = <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a>;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        }</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">return</span> $merged;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    }</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">     * Get WordPress users with reasonable limits set</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">     * @param string $context Where are we using this information (e.g. change_entry_creator, search_widget ..)</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">     * @param array  $args Arguments to modify the user query. See get_users() {@since 1.14}</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">     * @return array Array of WP_User objects.</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="class_g_v_common.html#ab10d91714b52d9a06d73cf2f03c1816f"> 1823</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#ab10d91714b52d9a06d73cf2f03c1816f">get_users</a>( $context = <span class="stringliteral">&#39;change_entry_creator&#39;</span>, <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a> = array() ) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        $default_args = array(</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            <span class="stringliteral">&#39;number&#39;</span>  =&gt; 2000,</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <span class="stringliteral">&#39;orderby&#39;</span> =&gt; <span class="stringliteral">&#39;display_name&#39;</span>,</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            <span class="stringliteral">&#39;order&#39;</span>   =&gt; <span class="stringliteral">&#39;ASC&#39;</span>,</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <span class="stringliteral">&#39;fields&#39;</span>  =&gt; array( <span class="stringliteral">&#39;ID&#39;</span>, <span class="stringliteral">&#39;display_name&#39;</span>, <span class="stringliteral">&#39;user_login&#39;</span>, <span class="stringliteral">&#39;user_nicename&#39;</span> ),</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        );</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="comment">// Merge in the passed arg</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        $get_users_settings = wp_parse_args( <a class="code" href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a>, $default_args );</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">         * @filter `gravityview/get_users/{$context}` There are issues with too many users using [get_users()](http://codex.wordpress.org/Function_Reference/get_users) where it breaks the select. We try to keep it at a reasonable number. \n</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">         * `$context` is where are we using this information (e.g. change_entry_creator, search_widget ..)</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">         * @param array $settings Settings array, with `number` key defining the # of users to display</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        $get_users_settings = apply_filters( <span class="stringliteral">&#39;gravityview/get_users/&#39;</span> . $context, apply_filters( <span class="stringliteral">&#39;gravityview_change_entry_creator_user_parameters&#39;</span>, $get_users_settings ) );</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_g_v_common.html#ab10d91714b52d9a06d73cf2f03c1816f">get_users</a>( $get_users_settings );</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">     * Display updated/error notice</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="comment">     * @since 1.19.2 Added $cap and $object_id parameters</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="comment">     * @param string $notice text/HTML of notice</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="comment">     * @param string $class CSS class for notice (`updated` or `error`)</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">     * @param string $cap [Optional] Define a capability required to show a notice. If not set, displays to all caps.</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="comment">     * @return string</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01857"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a1fc708707084bf3db38af55a362a9a1a"> 1857</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a1fc708707084bf3db38af55a362a9a1a">generate_notice</a>( $notice, <a class="code" href="entry__approval_8php.html#a252ba022809910ea710a068fc1bab657">$class</a> = <span class="stringliteral">&#39;&#39;</span>, $cap = <span class="stringliteral">&#39;&#39;</span>, $object_id = null ) {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="comment">// If $cap is defined, only show notice if user has capability</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <span class="keywordflow">if</span> ( $cap &amp;&amp; ! self::has_cap( $cap, $object_id ) ) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&lt;div class=&quot;gv-notice &#39;</span> . gravityview_sanitize_html_class( <a class="code" href="entry__approval_8php.html#a252ba022809910ea710a068fc1bab657">$class</a> ) . <span class="stringliteral">&#39;&quot;&gt;&#39;</span> . $notice . <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    }</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment">     * Inspired on \GFCommon::encode_shortcodes, reverse the encoding by replacing the ascii characters by the shortcode brackets</span></div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">     * @since 1.16.5</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">     * @param string $string Input string to decode</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">     * @return string $string Output string</span></div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01874"></a><span class="lineno"><a class="line" href="class_g_v_common.html#abdacbdc3dd2de559de17927bfeba9299"> 1874</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#abdacbdc3dd2de559de17927bfeba9299">decode_shortcodes</a>( $string ) {</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        $replace = array( <span class="charliteral">&#39;[&#39;</span>, <span class="charliteral">&#39;]&#39;</span>, <span class="charliteral">&#39;&quot;&#39;</span> );</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        $find    = array( <span class="stringliteral">&#39;&amp;#91;&#39;</span>, <span class="stringliteral">&#39;&amp;#93;&#39;</span>, <span class="stringliteral">&#39;&amp;quot;&#39;</span> );</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        $string  = str_replace( $find, $replace, $string );</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">return</span> $string;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    }</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">     * Send email using GFCommon::send_email()</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">     * @since 1.17</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">     * @see GFCommon::send_email This just makes the method public</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">     * @param string       $from               Sender address (required)</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">     * @param string       $to                 Recipient address (required)</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">     * @param string       $bcc                BCC recipients (required)</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">     * @param string       $reply_to           Reply-to address (required)</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment">     * @param string       $subject            Subject line (required)</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="comment">     * @param string       $message            Message body (required)</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="comment">     * @param string       $from_name          Displayed name of the sender</span></div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;<span class="comment">     * @param string       $message_format     If &quot;html&quot;, sent text as `text/html`. Otherwise, `text/plain`. Default: &quot;html&quot;.</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment">     * @param string|array $attachments  Optional. Files to attach. {@see wp_mail()} for usage. Default: &quot;&quot;.</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="comment">     * @param array|false  $entry         Gravity Forms entry array, related to the email. Default: false.</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="comment">     * @param array|false  $notification  Gravity Forms notification that triggered the email. {@see GFCommon::send_notification}. Default:false.</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01902"></a><span class="lineno"><a class="line" href="class_g_v_common.html#a491a0502a623e33c54d5651e149aca37"> 1902</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_g_v_common.html#a491a0502a623e33c54d5651e149aca37">send_email</a>( $from, $to, $bcc, $reply_to, $subject, $message, $from_name = <span class="stringliteral">&#39;&#39;</span>, $message_format = <span class="stringliteral">&#39;html&#39;</span>, $attachments = <span class="stringliteral">&#39;&#39;</span>, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a> = <span class="keyword">false</span>, $notification = <span class="keyword">false</span> ) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        $SendEmail = <span class="keyword">new</span> ReflectionMethod( <span class="stringliteral">&#39;GFCommon&#39;</span>, <span class="stringliteral">&#39;send_email&#39;</span> );</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <span class="comment">// It was private; let&#39;s make it public</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        $SendEmail-&gt;setAccessible( <span class="keyword">true</span> );</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="comment">// Required: $from, $to, $bcc, $replyTo, $subject, $message</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        <span class="comment">// Optional: $from_name, $message_format, $attachments, $lead, $notification</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        $SendEmail-&gt;invoke( <span class="keyword">new</span> GFCommon(), $from, $to, $bcc, $reply_to, $subject, $message, $from_name, $message_format, $attachments, <a class="code" href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a>, $notification );</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}<span class="comment">//end class</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment"> * Generate an HTML anchor tag with a list of supported attributes</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment"> * @see GVCommon::get_link_html()</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment"> * @since 1.6</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment"> * @param string       $href URL of the link.</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment"> * @param string       $anchor_text The text or HTML inside the anchor. This is not sanitized in the function.</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment"> * @param array|string $atts Attributes to be added to the anchor tag</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment"> * @return string HTML output of anchor link. If empty $href, returns NULL</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="class-common_8php.html#a194da0145d30db917c261143ed919d9c"> 1931</a></span>&#160;<span class="keyword">function</span> <a class="code" href="class-common_8php.html#a194da0145d30db917c261143ed919d9c">gravityview_get_link</a>( <a class="code" href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a> = <span class="stringliteral">&#39;&#39;</span>, $anchor_text = <span class="stringliteral">&#39;&#39;</span>, $atts = array() ) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_g_v_common.html#a0566bfa4a4073572150babf30736d180">GVCommon::get_link_html</a>( <a class="code" href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a>, $anchor_text, $atts );</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;}</div><div class="ttc" id="multiple-entries_8php_html_ac7c3353107070daa85f641882931b358"><div class="ttname"><a href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a></div><div class="ttdeci">$settings</div><div class="ttdef"><b>Definition:</b> <a href="multiple-entries_8php_source.html#l00014">multiple-entries.php:14</a></div></div>
<div class="ttc" id="gravityview_8php_html_a20e44631ea950946599dd5661090eb4d"><div class="ttname"><a href="gravityview_8php.html#a20e44631ea950946599dd5661090eb4d">GRAVITYVIEW_DIR</a></div><div class="ttdeci">const GRAVITYVIEW_DIR</div><div class="ttdoc">&quot;GRAVITYVIEW_DIR&quot; &quot;./&quot; The absolute path to the plugin directory, with trailing slash ...</div><div class="ttdef"><b>Definition:</b> <a href="gravityview_8php_source.html#l00049">gravityview.php:49</a></div></div>
<div class="ttc" id="class_g_v_common_html_af0cbb91a687ce445c775ddb96b111133"><div class="ttname"><a href="class_g_v_common.html#af0cbb91a687ce445c775ddb96b111133">GVCommon\get_entry_meta</a></div><div class="ttdeci">static get_entry_meta( $form_id, $only_default_column=true)</div><div class="ttdoc">get extra fields from entry meta </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00449">class-common.php:449</a></div></div>
<div class="ttc" id="class_g_v_common_html_a51028f05082d16f2c2f90e68129628ed"><div class="ttname"><a href="class_g_v_common.html#a51028f05082d16f2c2f90e68129628ed">GVCommon\has_product_field</a></div><div class="ttdeci">static has_product_field( $form=array())</div><div class="ttdoc">Check whether a form has product fields. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00165">class-common.php:165</a></div></div>
<div class="ttc" id="class_g_v_common_html_acad2eee173143f70cbf9d3246a68e302"><div class="ttname"><a href="class_g_v_common.html#acad2eee173143f70cbf9d3246a68e302">GVCommon\has_shortcode_r</a></div><div class="ttdeci">static has_shortcode_r( $content, $tag='gravityview')</div><div class="ttdoc">Placeholder until the recursive has_shortcode() patch is merged. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01199">class-common.php:1199</a></div></div>
<div class="ttc" id="class_g_v_common_html_aee4f4efcf54da0c503d640f61877c563"><div class="ttname"><a href="class_g_v_common.html#aee4f4efcf54da0c503d640f61877c563">GVCommon\js_encrypt</a></div><div class="ttdeci">static js_encrypt( $content, $message='')</div><div class="ttdoc">Encrypt content using Javascript so that it&amp;#39;s hidden when JS is disabled. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01625">class-common.php:1625</a></div></div>
<div class="ttc" id="class_g_v_common_html_a01dc4f42b232957199db0da462f120ae"><div class="ttname"><a href="class_g_v_common.html#a01dc4f42b232957199db0da462f120ae">GVCommon\get_directory_fields</a></div><div class="ttdeci">static get_directory_fields( $post_id, $apply_filter=true, $form_id=0)</div><div class="ttdoc">Get the field configuration for the View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01388">class-common.php:1388</a></div></div>
<div class="ttc" id="class_g_v_1_1_utils_html_af11e54f642e42ef98082de907a8310a1"><div class="ttname"><a href="class_g_v_1_1_utils.html#af11e54f642e42ef98082de907a8310a1">GV\Utils\_GET</a></div><div class="ttdeci">static _GET( $name, $default=null)</div><div class="ttdoc">Grab a value from the _GET superglobal or default. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-utils_8php_source.html#l00021">class-gv-utils.php:21</a></div></div>
<div class="ttc" id="helper-functions_8php_html_a67be17ea31c1717f73c48329a4fa7d6b"><div class="ttname"><a href="helper-functions_8php.html#a67be17ea31c1717f73c48329a4fa7d6b">gravityview_maybe_convert_date_string_to_timestamp</a></div><div class="ttdeci">gravityview_maybe_convert_date_string_to_timestamp( $value='')</div><div class="ttdoc">Convert a string to a timestamp if it&amp;#39;s a valid date or a relative date prefixed with &quot;relative:&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="helper-functions_8php_source.html#l00669">helper-functions.php:669</a></div></div>
<div class="ttc" id="data-source_8php_html_a8dcd469e6c336555e43c3003b0a0da54"><div class="ttname"><a href="data-source_8php.html#a8dcd469e6c336555e43c3003b0a0da54">$forms</a></div><div class="ttdeci">$forms</div><div class="ttdef"><b>Definition:</b> <a href="data-source_8php_source.html#l00019">data-source.php:19</a></div></div>
<div class="ttc" id="class_g_v_common_html_ae0e9e4c45472ab8ce916f4c1e30f052a"><div class="ttname"><a href="class_g_v_common.html#ae0e9e4c45472ab8ce916f4c1e30f052a">GVCommon\get_entry_id_from_slug</a></div><div class="ttdeci">static get_entry_id_from_slug( $slug)</div><div class="ttdoc">Get the entry ID from the entry slug, which may or may not be the entry ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00235">class-common.php:235</a></div></div>
<div class="ttc" id="class_g_v_common_html_a51a7a2f9d520f491ae70d06d740ba854"><div class="ttname"><a href="class_g_v_common.html#a51a7a2f9d520f491ae70d06d740ba854">GVCommon\array_merge_recursive_distinct</a></div><div class="ttdeci">static array_merge_recursive_distinct(array &amp;$array1, array &amp;$array2)</div><div class="ttdoc">array_merge_recursive does indeed merge arrays, but it converts values with duplicate keys to arrays ...</div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01801">class-common.php:1801</a></div></div>
<div class="ttc" id="class_g_v_common_html_a760eecfa28aa04166fc51d52e01734c7"><div class="ttname"><a href="class_g_v_common.html#a760eecfa28aa04166fc51d52e01734c7">GVCommon\get_directory_widgets</a></div><div class="ttdeci">static get_directory_widgets( $view_id, $json_decode=false)</div><div class="ttdoc">Get the widget configuration for a View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01426">class-common.php:1426</a></div></div>
<div class="ttc" id="class_g_v_common_html_aeb0f25e8792725cc0a5107a215a1b906"><div class="ttname"><a href="class_g_v_common.html#aeb0f25e8792725cc0a5107a215a1b906">GVCommon\get_connected_views</a></div><div class="ttdeci">static get_connected_views( $form_id, $args=array())</div><div class="ttdoc">Get the views for a particular form. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01245">class-common.php:1245</a></div></div>
<div class="ttc" id="class_g_v_common_html_a5c5662c2705510300ee46409eff21ac5"><div class="ttname"><a href="class_g_v_common.html#a5c5662c2705510300ee46409eff21ac5">GVCommon\get_form_fields</a></div><div class="ttdeci">static get_form_fields( $form='', $add_default_properties=false, $include_parent_field=true)</div><div class="ttdoc">Return array of fields&amp;#39; id and label, for a given Form ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00344">class-common.php:344</a></div></div>
<div class="ttc" id="class_g_v_common_html_aadc35c2ec6ec2df1de62c160992271c1"><div class="ttname"><a href="class_g_v_common.html#aadc35c2ec6ec2df1de62c160992271c1">GVCommon\entry_has_transaction_data</a></div><div class="ttdeci">static entry_has_transaction_data( $entry=array())</div><div class="ttdoc">Check if an entry has transaction data. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00201">class-common.php:201</a></div></div>
<div class="ttc" id="class_g_v_common_html_acd8f8050e03fa0a66ac04b6f353ad601"><div class="ttname"><a href="class_g_v_common.html#acd8f8050e03fa0a66ac04b6f353ad601">GVCommon\calculate_get_entries_criteria</a></div><div class="ttdeci">static calculate_get_entries_criteria( $passed_criteria=array(), $form_ids=array())</div><div class="ttdoc">Calculates the Search Criteria used on the self::get_entries / self::get_entry methods. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00494">class-common.php:494</a></div></div>
<div class="ttc" id="class-cache_8php_html_ab2587fbc83498842c60461baaf3f4638"><div class="ttname"><a href="class-cache_8php.html#ab2587fbc83498842c60461baaf3f4638">GravityView_Cache</a></div><div class="ttdeci">new GravityView_Cache</div><div class="ttdef"><b>Definition:</b> <a href="class-cache_8php_source.html#l00666">class-cache.php:666</a></div></div>
<div class="ttc" id="class_g_v_common_html_a2623f3dcb8e9e3839d50c7ff0d2a1b92"><div class="ttname"><a href="class_g_v_common.html#a2623f3dcb8e9e3839d50c7ff0d2a1b92">GVCommon\get_form_from_entry_id</a></div><div class="ttdeci">static get_form_from_entry_id( $entry_slug)</div><div class="ttdoc">Get the form array for an entry based only on the entry ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00142">class-common.php:142</a></div></div>
<div class="ttc" id="class_gravity_view___view___data_html_a675d8b1454543d5bcef330c3686aff61"><div class="ttname"><a href="class_gravity_view___view___data.html#a675d8b1454543d5bcef330c3686aff61">GravityView_View_Data\getInstance</a></div><div class="ttdeci">static getInstance( $passed_post=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="class-data_8php_source.html#l00122">class-data.php:122</a></div></div>
<div class="ttc" id="class_g_v_common_html_a78c256e2294d2e224738b50b00d3aa1e"><div class="ttname"><a href="class_g_v_common.html#a78c256e2294d2e224738b50b00d3aa1e">GVCommon\get_template_setting</a></div><div class="ttdeci">static get_template_setting( $post_id, $key)</div><div class="ttdoc">Get the setting for a View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01343">class-common.php:1343</a></div></div>
<div class="ttc" id="gquiz__percent_8php_html_a07730772ea6cbaeb4da5852301d300ff"><div class="ttname"><a href="gquiz__percent_8php.html#a07730772ea6cbaeb4da5852301d300ff">$format</a></div><div class="ttdeci">if(gv_empty( $field['value'], false, false)) $format</div><div class="ttdef"><b>Definition:</b> <a href="gquiz__percent_8php_source.html#l00021">gquiz_percent.php:21</a></div></div>
<div class="ttc" id="class_g_v_common_html_a528386001f5926ebfac341558031673d"><div class="ttname"><a href="class_g_v_common.html#a528386001f5926ebfac341558031673d">GVCommon\get_forms</a></div><div class="ttdeci">static get_forms( $active=true, $trash=false, $order_by='id', $order='ASC')</div><div class="ttdoc">Alias of GFAPI::get_forms() </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00317">class-common.php:317</a></div></div>
<div class="ttc" id="namespace_g_v_common_html"><div class="ttname"><a href="namespace_g_v_common.html">GVCommon</a></div></div>
<div class="ttc" id="class_gravity_view___fields_html_a4b0d369bfdd27cca3c401ba53565adb4"><div class="ttname"><a href="class_gravity_view___fields.html#a4b0d369bfdd27cca3c401ba53565adb4">GravityView_Fields\get</a></div><div class="ttdeci">static get( $field_name)</div><div class="ttdoc">Alias for get_instance() </div><div class="ttdef"><b>Definition:</b> <a href="class-gravityview-fields_8php_source.html#l00084">class-gravityview-fields.php:84</a></div></div>
<div class="ttc" id="class_g_v_common_html_a0a7b21d68bbe8d3ac0273c7ab60a591d"><div class="ttname"><a href="class_g_v_common.html#a0a7b21d68bbe8d3ac0273c7ab60a591d">GVCommon\get_meta_form_id</a></div><div class="ttdeci">static get_meta_form_id( $view_id)</div><div class="ttdoc">Get the Gravity Forms form ID connected to a View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01295">class-common.php:1295</a></div></div>
<div class="ttc" id="class_g_v_common_html_a2042d229cf88793671c983595f8536c6"><div class="ttname"><a href="class_g_v_common.html#a2042d229cf88793671c983595f8536c6">GVCommon\get_forms_as_options</a></div><div class="ttdeci">static get_forms_as_options( $active=true, $trash=false, $sort_column='id', $sort_dir='ASC')</div><div class="ttdoc">Get all forms to use as options in View settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00283">class-common.php:283</a></div></div>
<div class="ttc" id="namespace_g_v_html"><div class="ttname"><a href="namespace_g_v.html">GV</a></div></div>
<div class="ttc" id="search-field-date__range_8php_html_a177af2bf70bede02de3d05a425fb8e43"><div class="ttname"><a href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a></div><div class="ttdeci">$label</div><div class="ttdef"><b>Definition:</b> <a href="search-field-date__range_8php_source.html#l00011">search-field-date_range.php:11</a></div></div>
<div class="ttc" id="class_gravity_view___roles___capabilities_html_a2cd58b39963dd93e6238a297411b734f"><div class="ttname"><a href="class_gravity_view___roles___capabilities.html#a2cd58b39963dd93e6238a297411b734f">GravityView_Roles_Capabilities\has_cap</a></div><div class="ttdeci">static has_cap( $caps_to_check='', $object_id=null, $user_id=null)</div><div class="ttdoc">Check whether the current user has a capability. </div><div class="ttdef"><b>Definition:</b> <a href="class-gravityview-roles-capabilities_8php_source.html#l00336">class-gravityview-roles-capabilities.php:336</a></div></div>
<div class="ttc" id="class_g_v_common_html_abdacbdc3dd2de559de17927bfeba9299"><div class="ttname"><a href="class_g_v_common.html#abdacbdc3dd2de559de17927bfeba9299">GVCommon\decode_shortcodes</a></div><div class="ttdeci">static decode_shortcodes( $string)</div><div class="ttdoc">Inspired on ::encode_shortcodes, reverse the encoding by replacing the ascii characters by the shortc...</div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01874">class-common.php:1874</a></div></div>
<div class="ttc" id="entry__approval_8php_html_a252ba022809910ea710a068fc1bab657"><div class="ttname"><a href="entry__approval_8php.html#a252ba022809910ea710a068fc1bab657">$class</a></div><div class="ttdeci">$class</div><div class="ttdef"><b>Definition:</b> <a href="entry__approval_8php_source.html#l00024">entry_approval.php:24</a></div></div>
<div class="ttc" id="class_g_v_common_html_a1fc708707084bf3db38af55a362a9a1a"><div class="ttname"><a href="class_g_v_common.html#a1fc708707084bf3db38af55a362a9a1a">GVCommon\generate_notice</a></div><div class="ttdeci">static generate_notice( $notice, $class='', $cap='', $object_id=null)</div><div class="ttdoc">Display updated/error notice. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01857">class-common.php:1857</a></div></div>
<div class="ttc" id="other__entries_8php_html_affb4200921149b6126d0e51b415b2c75"><div class="ttname"><a href="other__entries_8php.html#affb4200921149b6126d0e51b415b2c75">$entries</a></div><div class="ttdeci">$entries</div><div class="ttdef"><b>Definition:</b> <a href="other__entries_8php_source.html#l00057">other_entries.php:57</a></div></div>
<div class="ttc" id="class-common_8php_html_a194da0145d30db917c261143ed919d9c"><div class="ttname"><a href="class-common_8php.html#a194da0145d30db917c261143ed919d9c">gravityview_get_link</a></div><div class="ttdeci">gravityview_get_link( $href='', $anchor_text='', $atts=array())</div><div class="ttdoc">Generate an HTML anchor tag with a list of supported attributes. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01931">class-common.php:1931</a></div></div>
<div class="ttc" id="class_g_v_common_html_a059c13af0ea6b2ca123c1a722ba6daba"><div class="ttname"><a href="class_g_v_common.html#a059c13af0ea6b2ca123c1a722ba6daba">GVCommon\get_sortable_fields</a></div><div class="ttdeci">static get_sortable_fields( $formid, $current='')</div><div class="ttdoc">Render dropdown (select) with the list of sortable fields from a form ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01454">class-common.php:1454</a></div></div>
<div class="ttc" id="class_g_v_common_html_a9f45856500b4741558dff421d70fed78"><div class="ttname"><a href="class_g_v_common.html#a9f45856500b4741558dff421d70fed78">GVCommon\gv_parse_str</a></div><div class="ttdeci">static gv_parse_str( $string, &amp;$result)</div><div class="ttdoc">Do the same than parse_str without max_input_vars limitation: Parses $string as if it were the query ...</div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01665">class-common.php:1665</a></div></div>
<div class="ttc" id="delete__link_8php_html_a521fd441a5ad4952b00a1591a4d4590d"><div class="ttname"><a href="delete__link_8php.html#a521fd441a5ad4952b00a1591a4d4590d">$view_id</a></div><div class="ttdeci">$view_id</div><div class="ttdef"><b>Definition:</b> <a href="delete__link_8php_source.html#l00010">delete_link.php:10</a></div></div>
<div class="ttc" id="delete-entry_8php_html_a77c8faa27a630e0cfbe0fa5507c1a538"><div class="ttname"><a href="delete-entry_8php.html#a77c8faa27a630e0cfbe0fa5507c1a538">$post</a></div><div class="ttdeci">global $post</div><div class="ttdef"><b>Definition:</b> <a href="delete-entry_8php_source.html#l00007">delete-entry.php:7</a></div></div>
<div class="ttc" id="namespace_g_v_html_a91e7726d3809355b12b0634174bbaf76"><div class="ttname"><a href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">GV\$form</a></div><div class="ttdeci">if(gravityview() -&gt;plugin-&gt;is_GF_25()) $form</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00526">class-gv-settings-plugin.php:526</a></div></div>
<div class="ttc" id="class_g_v_common_html_a5bf518397353a13fc16c1df22f9684ae"><div class="ttname"><a href="class_g_v_common.html#a5bf518397353a13fc16c1df22f9684ae">GVCommon\matches_operation</a></div><div class="ttdeci">static matches_operation( $val1, $val2, $operation)</div><div class="ttdoc">Wrapper for the GFFormsModel::matches_operation() method that adds additional comparisons, including: &amp;#39;equals&amp;#39;, &amp;#39;greater_than_or_is&amp;#39;, &amp;#39;greater_than_or_equals&amp;#39;, &amp;#39;less_than_or_is&amp;#39;, &amp;#39;less_than_or_equals&amp;#39;, &amp;#39;not_contains&amp;#39;, &amp;#39;in&amp;#39;, and &amp;#39;not_in&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00812">class-common.php:812</a></div></div>
<div class="ttc" id="search-field-submit_8php_html_a67e94494731d99ed23b123e95175bc10"><div class="ttname"><a href="search-field-submit_8php.html#a67e94494731d99ed23b123e95175bc10">$args</a></div><div class="ttdeci">$args</div><div class="ttdef"><b>Definition:</b> <a href="search-field-submit_8php_source.html#l00015">search-field-submit.php:15</a></div></div>
<div class="ttc" id="other__entries_8php_html_a8fb6cbc3fdb7f5e52650648b36d55077"><div class="ttname"><a href="other__entries_8php.html#a8fb6cbc3fdb7f5e52650648b36d55077">$criteria</a></div><div class="ttdeci">$criteria['paging']</div><div class="ttdoc">Modify the search parameters before the entries are fetched. </div><div class="ttdef"><b>Definition:</b> <a href="other__entries_8php_source.html#l00028">other_entries.php:28</a></div></div>
<div class="ttc" id="search-field-chainedselect_8php_html_a83e4d6721f3491a4fd780dbd3ce1a3c0"><div class="ttname"><a href="search-field-chainedselect_8php.html#a83e4d6721f3491a4fd780dbd3ce1a3c0">$field</a></div><div class="ttdeci">$field</div><div class="ttdef"><b>Definition:</b> <a href="search-field-chainedselect_8php_source.html#l00029">search-field-chainedselect.php:29</a></div></div>
<div class="ttc" id="class_g_v_common_html_a078c050ff0ef95cd76dc7c3613d960f6"><div class="ttname"><a href="class_g_v_common.html#a078c050ff0ef95cd76dc7c3613d960f6">GVCommon\get_template_settings</a></div><div class="ttdeci">static get_template_settings( $post_id)</div><div class="ttdoc">Get all the settings for a View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01320">class-common.php:1320</a></div></div>
<div class="ttc" id="custom_8php_html_a3f01d67353876bc8fbf01a901ebfdc44"><div class="ttname"><a href="custom_8php.html#a3f01d67353876bc8fbf01a901ebfdc44">$content</a></div><div class="ttdeci">if(empty( $field_settings['content'])) $content</div><div class="ttdef"><b>Definition:</b> <a href="custom_8php_source.html#l00037">custom.php:37</a></div></div>
<div class="ttc" id="class_g_v_common_html_a7c671820fcc7dba1117e3bb7fb6338a1"><div class="ttname"><a href="class_g_v_common.html#a7c671820fcc7dba1117e3bb7fb6338a1">GVCommon\get_entry_id</a></div><div class="ttdeci">static get_entry_id( $entry_id_or_slug='', $force_allow_ids=false)</div><div class="ttdoc">Get the entry ID from a string that may be the Entry ID or the Entry Slug. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00697">class-common.php:697</a></div></div>
<div class="ttc" id="class_g_v_common_html_a80d129f1385d26044b40acb7b471ba7f"><div class="ttname"><a href="class_g_v_common.html#a80d129f1385d26044b40acb7b471ba7f">GVCommon\get_entry_ids</a></div><div class="ttdeci">static get_entry_ids( $form_id, $search_criteria=array())</div><div class="ttdoc">Wrapper for the Gravity Forms GFFormsModel::search_lead_ids() method. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00476">class-common.php:476</a></div></div>
<div class="ttc" id="helper-functions_8php_html_a04dcf2978969254876adc4471d7a17cb"><div class="ttname"><a href="helper-functions_8php.html#a04dcf2978969254876adc4471d7a17cb">gv_map_deep</a></div><div class="ttdeci">gv_map_deep( $value, $callback)</div><div class="ttdoc">Maps a function to all non-iterable elements of an array or an object. </div><div class="ttdef"><b>Definition:</b> <a href="helper-functions_8php_source.html#l00511">helper-functions.php:511</a></div></div>
<div class="ttc" id="class_g_v_common_html_a417d2223c662af2d192dee8612035708"><div class="ttname"><a href="class_g_v_common.html#a417d2223c662af2d192dee8612035708">GVCommon\get_field_type</a></div><div class="ttdeci">static get_field_type( $form=null, $field_id='')</div><div class="ttdoc">Returns the GF Form field type for a certain field(id) of a form. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01559">class-common.php:1559</a></div></div>
<div class="ttc" id="class_g_v_common_html_ac65e304ef1705695ca596c7ea47ce25c"><div class="ttname"><a href="class_g_v_common.html#ac65e304ef1705695ca596c7ea47ce25c">GVCommon\get_field_array</a></div><div class="ttdeci">static get_field_array( $field)</div><div class="ttdoc">Return a Gravity Forms field array, whether using GF 1.9 or not. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00089">class-common.php:89</a></div></div>
<div class="ttc" id="search-field-date__range_8php_html_a4016dad482628807137e0d337ac1cbc4"><div class="ttname"><a href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a></div><div class="ttdeci">$value</div><div class="ttdef"><b>Definition:</b> <a href="search-field-date__range_8php_source.html#l00010">search-field-date_range.php:10</a></div></div>
<div class="ttc" id="class_g_v_common_html_a9afd6ae67f0f8a3a278a4f095cdb6888"><div class="ttname"><a href="class_g_v_common.html#a9afd6ae67f0f8a3a278a4f095cdb6888">GVCommon\check_entry_display</a></div><div class="ttdeci">static check_entry_display( $entry, $view=null)</div><div class="ttdoc">Checks if a certain entry is valid according to the View search filters (specially the Adv Filters) ...</div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00936">class-common.php:936</a></div></div>
<div class="ttc" id="class_g_v_common_html_a6e4360081ee6d7a10c23dea3e70f4114"><div class="ttname"><a href="class_g_v_common.html#a6e4360081ee6d7a10c23dea3e70f4114">GVCommon\get_product_field_types</a></div><div class="ttdeci">static get_product_field_types()</div><div class="ttdoc">Return array of product field types. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00183">class-common.php:183</a></div></div>
<div class="ttc" id="class_g_v_common_html_afc20a2d3db0c70c2a7c85b003c113558"><div class="ttname"><a href="class_g_v_common.html#afc20a2d3db0c70c2a7c85b003c113558">GVCommon\get_field</a></div><div class="ttdeci">static get_field( $form, $field_id)</div><div class="ttdoc">Returns the field details array of a specific form given the field id. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01161">class-common.php:1161</a></div></div>
<div class="ttc" id="time_8php_html_a9e6d22b1bf883606d7de78df09f7efac"><div class="ttname"><a href="time_8php.html#a9e6d22b1bf883606d7de78df09f7efac">$gv_field</a></div><div class="ttdeci">$gv_field</div><div class="ttdef"><b>Definition:</b> <a href="time_8php_source.html#l00011">time.php:11</a></div></div>
<div class="ttc" id="class_gravity_view___ajax_html_a202adda8870c69960c3eb59781165772"><div class="ttname"><a href="class_gravity_view___ajax.html#a202adda8870c69960c3eb59781165772">GravityView_Ajax\pre_get_form_fields</a></div><div class="ttdeci">static pre_get_form_fields( $template_id='')</div><div class="ttdoc">Get the form fields for a preset (no form created yet) </div><div class="ttdef"><b>Definition:</b> <a href="class-ajax_8php_source.html#l00319">class-ajax.php:319</a></div></div>
<div class="ttc" id="class_g_v_common_html_a491a0502a623e33c54d5651e149aca37"><div class="ttname"><a href="class_g_v_common.html#a491a0502a623e33c54d5651e149aca37">GVCommon\send_email</a></div><div class="ttdeci">static send_email( $from, $to, $bcc, $reply_to, $subject, $message, $from_name='', $message_format='html', $attachments='', $entry=false, $notification=false)</div><div class="ttdoc">Send email using GFCommon::send_email() </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01902">class-common.php:1902</a></div></div>
<div class="ttc" id="class_g_v_common_html_ab20055e419c54a93ed4dcd4990cc3a69"><div class="ttname"><a href="class_g_v_common.html#ab20055e419c54a93ed4dcd4990cc3a69">GVCommon\is_field_numeric</a></div><div class="ttdeci">static is_field_numeric( $form=null, $field='')</div><div class="ttdoc">Checks if the field type is a &amp;#39;numeric&amp;#39; field type (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01579">class-common.php:1579</a></div></div>
<div class="ttc" id="class_g_v_common_html_a17eaa0cf946d6d75f65d82dde856bbbd"><div class="ttname"><a href="class_g_v_common.html#a17eaa0cf946d6d75f65d82dde856bbbd">GVCommon\get_form_or_form_template</a></div><div class="ttdeci">static get_form_or_form_template( $form_id=0)</div><div class="ttdoc">Returns form object for existing form or a form template. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00053">class-common.php:53</a></div></div>
<div class="ttc" id="class_g_v_1_1_view_html_a6bc5f9fc9851ae7941832614f288b5a0"><div class="ttname"><a href="class_g_v_1_1_view.html#a6bc5f9fc9851ae7941832614f288b5a0">GV\View\by_id</a></div><div class="ttdeci">static by_id( $post_id)</div><div class="ttdoc">Construct a  instance from a post ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-view_8php_source.html#l00818">class-gv-view.php:818</a></div></div>
<div class="ttc" id="class_g_v_common_html_ab10d91714b52d9a06d73cf2f03c1816f"><div class="ttname"><a href="class_g_v_common.html#ab10d91714b52d9a06d73cf2f03c1816f">GVCommon\get_users</a></div><div class="ttdeci">static get_users( $context='change_entry_creator', $args=array())</div><div class="ttdoc">Get WordPress users with reasonable limits set. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01823">class-common.php:1823</a></div></div>
<div class="ttc" id="class_g_v_common_html_a261495280da901f44cb7c0494e23e58b"><div class="ttname"><a href="class_g_v_common.html#a261495280da901f44cb7c0494e23e58b">GVCommon\get_sortable_fields_array</a></div><div class="ttdeci">static get_sortable_fields_array( $formid, $blocklist=array( 'list', 'textarea'))</div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01494">class-common.php:1494</a></div></div>
<div class="ttc" id="class_g_v_common_html_a7ba594ffe42489d5b006160d1f4e0d44"><div class="ttname"><a href="class_g_v_common.html#a7ba594ffe42489d5b006160d1f4e0d44">GVCommon\format_date</a></div><div class="ttdeci">static format_date( $date_string='', $args=array())</div><div class="ttdoc">Allow formatting date and time based on GravityView standards. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01070">class-common.php:1070</a></div></div>
<div class="ttc" id="class_g_v_common_html_a41018a6aacc3abc92f9c996e6974e1a8"><div class="ttname"><a href="class_g_v_common.html#a41018a6aacc3abc92f9c996e6974e1a8">GVCommon\get_entries</a></div><div class="ttdeci">static get_entries( $form_ids=null, $passed_criteria=null, &amp;$total=null)</div><div class="ttdoc">Retrieve entries given search, sort, paging criteria. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00595">class-common.php:595</a></div></div>
<div class="ttc" id="class_g_v_common_html_af1271ca05340cc1329443239e0d59a73"><div class="ttname"><a href="class_g_v_common.html#af1271ca05340cc1329443239e0d59a73">GVCommon\has_gravityview_shortcode</a></div><div class="ttdeci">static has_gravityview_shortcode( $post=null)</div><div class="ttdoc">Check whether the post is GravityView. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01178">class-common.php:1178</a></div></div>
<div class="ttc" id="other__entries_8php_html_a61ce92a251f8ce1d28919fdfc3dd33a7"><div class="ttname"><a href="other__entries_8php.html#a61ce92a251f8ce1d28919fdfc3dd33a7">$form_id</a></div><div class="ttdeci">if(empty( $created_by)) $form_id</div><div class="ttdef"><b>Definition:</b> <a href="other__entries_8php_source.html#l00020">other_entries.php:20</a></div></div>
<div class="ttc" id="edit__link_8php_html_a73004ce9cd673c1bfafd1dc351134797"><div class="ttname"><a href="edit__link_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a></div><div class="ttdeci">$output</div><div class="ttdef"><b>Definition:</b> <a href="edit__link_8php_source.html#l00018">edit_link.php:18</a></div></div>
<div class="ttc" id="class_g_v_1_1_utils_html_a744ef7454e48c5521c4c3ad3cf1b700b"><div class="ttname"><a href="class_g_v_1_1_utils.html#a744ef7454e48c5521c4c3ad3cf1b700b">GV\Utils\get</a></div><div class="ttdeci">static get( $array, $key, $default=null)</div><div class="ttdoc">Grab a value from an array or an object or default. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-utils_8php_source.html#l00072">class-gv-utils.php:72</a></div></div>
<div class="ttc" id="future_2gravityview_8php_html_a79069f890c1b3e8e26ecc53ec99853bb"><div class="ttname"><a href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a></div><div class="ttdeci">gravityview()</div><div class="ttdoc">The main GravityView wrapper function. </div><div class="ttdef"><b>Definition:</b> <a href="future_2gravityview_8php_source.html#l00026">future/gravityview.php:26</a></div></div>
<div class="ttc" id="class_g_v_common_html_a0e307b24465f273ac2e98cace6040a5a"><div class="ttname"><a href="class_g_v_common.html#a0e307b24465f273ac2e98cace6040a5a">GVCommon\get_field_label</a></div><div class="ttdeci">static get_field_label( $form=array(), $field_id='', $field_value='')</div><div class="ttdoc">Retrieve the label of a given field id (for a specific form) </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01130">class-common.php:1130</a></div></div>
<div class="ttc" id="class_gravity_view___fields_html_a55afc18888b905ed1037ad08a054ea64"><div class="ttname"><a href="class_gravity_view___fields.html#a55afc18888b905ed1037ad08a054ea64">GravityView_Fields\get_all</a></div><div class="ttdeci">static get_all( $groups='')</div><div class="ttdoc">Get all fields. </div><div class="ttdef"><b>Definition:</b> <a href="class-gravityview-fields_8php_source.html#l00117">class-gravityview-fields.php:117</a></div></div>
<div class="ttc" id="class-api_8php_html_a1e24d5ed137a17f1b6694d7594eeacf5"><div class="ttname"><a href="class-api_8php.html#a1e24d5ed137a17f1b6694d7594eeacf5">gravityview_get_context</a></div><div class="ttdeci">gravityview_get_context()</div><div class="ttdoc">Returns the current GravityView context, or empty string if not GravityView. </div><div class="ttdef"><b>Definition:</b> <a href="class-api_8php_source.html#l01330">class-api.php:1330</a></div></div>
<div class="ttc" id="notes_8php_html_af3cd029e4e35c91b8ed42ffd1b77a3d1"><div class="ttname"><a href="notes_8php.html#af3cd029e4e35c91b8ed42ffd1b77a3d1">$entry_slug</a></div><div class="ttdeci">$entry_slug</div><div class="ttdef"><b>Definition:</b> <a href="notes_8php_source.html#l00030">notes.php:30</a></div></div>
<div class="ttc" id="class_g_v_common_html_a594821d84ac8bbed3060117dab39e1c0"><div class="ttname"><a href="class_g_v_common.html#a594821d84ac8bbed3060117dab39e1c0">GVCommon\get_entry</a></div><div class="ttdeci">static get_entry( $entry_slug, $force_allow_ids=false, $check_entry_display=true, $view=null)</div><div class="ttdoc">Return a single entry object. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00749">class-common.php:749</a></div></div>
<div class="ttc" id="class_g_v_common_html_abc061ebe78d31e57863f641ffe3e6042"><div class="ttname"><a href="class_g_v_common.html#abc061ebe78d31e57863f641ffe3e6042">GVCommon\has_cap</a></div><div class="ttdeci">static has_cap( $caps='', $object_id=null, $user_id=null)</div><div class="ttdoc">Alias of GravityView_Roles_Capabilities::has_cap() </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00077">class-common.php:77</a></div></div>
<div class="ttc" id="class_g_v_common_html_a4956c79816813d244b93d058c33a1989"><div class="ttname"><a href="class_g_v_common.html#a4956c79816813d244b93d058c33a1989">GVCommon\get_meta_template_id</a></div><div class="ttdeci">static get_meta_template_id( $view_id)</div><div class="ttdoc">Get the template ID (list, table, datatables, map) for a View. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01308">class-common.php:1308</a></div></div>
<div class="ttc" id="notes_8php_html_aa5233ed44daaa56d417d58cc4d8f64c2"><div class="ttname"><a href="notes_8php.html#aa5233ed44daaa56d417d58cc4d8f64c2">$entry</a></div><div class="ttdeci">$entry</div><div class="ttdef"><b>Definition:</b> <a href="notes_8php_source.html#l00027">notes.php:27</a></div></div>
<div class="ttc" id="time_8php_html_a391bb7936af986b27b996d1a6c2e142c"><div class="ttname"><a href="time_8php.html#a391bb7936af986b27b996d1a6c2e142c">$field_id</a></div><div class="ttdeci">if(false !==strpos( $value, '00:00')) $field_id</div><div class="ttdoc">string $field_id ID of the field being displayed </div><div class="ttdef"><b>Definition:</b> <a href="time_8php_source.html#l00022">time.php:22</a></div></div>
<div class="ttc" id="class_g_v_common_html_a19465ca8d26538c4aed1b270a5ab3519"><div class="ttname"><a href="class_g_v_common.html#a19465ca8d26538c4aed1b270a5ab3519">GVCommon\get_all_views</a></div><div class="ttdeci">static get_all_views( $args=array())</div><div class="ttdoc">Get all existing Views. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00114">class-common.php:114</a></div></div>
<div class="ttc" id="delete__link_8php_html_ae858fe52917aca7da3e5f64ac5bf665a"><div class="ttname"><a href="delete__link_8php.html#ae858fe52917aca7da3e5f64ac5bf665a">$href</a></div><div class="ttdeci">$href</div><div class="ttdef"><b>Definition:</b> <a href="delete__link_8php_source.html#l00023">delete_link.php:23</a></div></div>
<div class="ttc" id="class_g_v_common_html_a0566bfa4a4073572150babf30736d180"><div class="ttname"><a href="class_g_v_common.html#a0566bfa4a4073572150babf30736d180">GVCommon\get_link_html</a></div><div class="ttdeci">static get_link_html( $href='', $anchor_text='', $atts=array())</div><div class="ttdoc">Generate an HTML anchor tag with a list of supported attributes. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l01705">class-common.php:1705</a></div></div>
<div class="ttc" id="class_g_v_common_html_ac5d2d3814787594bb2edaee95b470484"><div class="ttname"><a href="class_g_v_common.html#ac5d2d3814787594bb2edaee95b470484">GVCommon\get_form</a></div><div class="ttdeci">static get_form( $form_id)</div><div class="ttdoc">Returns the form object for a given Form ID. </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00027">class-common.php:27</a></div></div>
<div class="ttc" id="checkbox_8php_html_abd8615909223c22bd7f77a6919b10ab6"><div class="ttname"><a href="checkbox_8php.html#abd8615909223c22bd7f77a6919b10ab6">$field_value</a></div><div class="ttdeci">$field_value</div><div class="ttdef"><b>Definition:</b> <a href="checkbox_8php_source.html#l00024">checkbox.php:24</a></div></div>
<div class="ttc" id="class_gravity_view__frontend_html_ac93fbec81f07e5d15f80db907e63dc10"><div class="ttname"><a href="class_gravity_view__frontend.html#ac93fbec81f07e5d15f80db907e63dc10">GravityView_frontend\getInstance</a></div><div class="ttdeci">static getInstance()</div><div class="ttdoc">Get the one true instantiated self. </div><div class="ttdef"><b>Definition:</b> <a href="class-frontend-views_8php_source.html#l00119">class-frontend-views.php:119</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<script type="text/javascript">
    jQuery( document ).ready( function( $ ) {
        $( 'a.anchor[id^=_filters],a.anchor[id^=_actions]' ).each( function() {
            $( this )
                .text('#')
                .attr( 'href', function() {
                    return '#' + $( this ).attr( 'id' );
                }).prependTo( $( this ).parent('dt' ).next('dd') );
        });
    });
</script>
</body>
</html>
