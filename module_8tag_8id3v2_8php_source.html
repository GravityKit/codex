<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>GravityView: module.tag.id3v2.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GravityView
   &#160;<span id="projectnumber">1.16.1</span>
   </div>
   <div id="projectbrief">Beautifully display your Gravity Forms data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f202f45fd139109afdc6cee542e9540d.html">tmp</a></li><li class="navelem"><a class="el" href="dir_bab4839c1ebfd97cab4362c92e1efb01.html">wordpress</a></li><li class="navelem"><a class="el" href="dir_0c5b427b534187271510e552c629993b.html">wp-includes</a></li><li class="navelem"><a class="el" href="dir_6ff3eae701cdcb001c105f317d07aa9e.html">ID3</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">module.tag.id3v2.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="module_8tag_8id3v2_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/// getID3() by James Heinrich &lt;info@getid3.org&gt;               //</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span><span class="comment">//  available at http://getid3.sourceforge.net                 //</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//            or http://www.getid3.org                         //</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//          also https://github.com/JamesHeinrich/getID3       //</span><span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span><span class="comment">// See readme.txt for more details                             //</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">///                                                            //</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">// module.tag.id3v2.php                                        //</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// module for analyzing ID3v2 tags                             //</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// dependencies: module.tag.id3v1.php                          //</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//                                                            ///</span><span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<a class="code" href="classgetid3__lib.html#aea2ff9ca0319f1702e6d216059954b01">getid3_lib::IncludeDependency</a>(GETID3_INCLUDEPATH.<span class="stringliteral">&#39;module.tag.id3v1.php&#39;</span>, __FILE__, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html">   19</a></span>&#160;<span class="keyword">class </span><a class="code" href="classgetid3__id3v2.html">getid3_id3v2</a> <span class="keyword">extends</span> <a class="code" href="classgetid3__handler.html">getid3_handler</a></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a4ceac70926bdbb66a93ae2cbd357e913">   21</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classgetid3__id3v2.html#a4ceac70926bdbb66a93ae2cbd357e913">$StartingOffset</a> = 0;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a3158626801c0cc1828626c64df3c93a9">   23</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a3158626801c0cc1828626c64df3c93a9">Analyze</a>() {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        $info = &amp;$this-&gt;getid3-&gt;info;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="comment">//    Overall tag structure:</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="comment">//        |      Header (10 bytes)      |</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="comment">//        |       Extended Header       |</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="comment">//        | (variable length, OPTIONAL) |</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="comment">//        |   Frames (variable length)  |</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="comment">//        |           Padding           |</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment">//        | (variable length, OPTIONAL) |</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">//        | Footer (10 bytes, OPTIONAL) |</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">//        +-----------------------------+</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">//    Header</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="comment">//        ID3v2/file identifier      &quot;ID3&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">//        ID3v2 version              $04 00</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="comment">//        ID3v2 flags                (%ab000000 in v2.2, %abc00000 in v2.3, %abcd0000 in v2.4.x)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">//        ID3v2 size             4 * %0xxxxxxx</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="comment">// shortcuts</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;header&#39;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        $thisfile_id3v2                  = &amp;$info[<span class="stringliteral">&#39;id3v2&#39;</span>];</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        $thisfile_id3v2[<span class="stringliteral">&#39;flags&#39;</span>]         =  array();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        $thisfile_id3v2_flags            = &amp;$thisfile_id3v2[<span class="stringliteral">&#39;flags&#39;</span>];</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        $this-&gt;<a class="code" href="classgetid3__handler.html#adaff7c3b9d075fad5baca35553c8ce4a">fseek</a>($this-&gt;StartingOffset);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        $header = $this-&gt;<a class="code" href="classgetid3__handler.html#a82974a114cc1e6e25696fdb587adde04">fread</a>(10);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">if</span> (substr($header, 0, 3) == <span class="stringliteral">&#39;ID3&#39;</span>  &amp;&amp;  strlen($header) == 10) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            $thisfile_id3v2[<span class="stringliteral">&#39;majorversion&#39;</span>] = ord($header{3});</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            $thisfile_id3v2[<span class="stringliteral">&#39;minorversion&#39;</span>] = ord($header{4});</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="comment">// shortcut</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            $id3v2_majorversion = &amp;$thisfile_id3v2[<span class="stringliteral">&#39;majorversion&#39;</span>];</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            unset($info[<span class="stringliteral">&#39;id3v2&#39;</span>]);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> ($id3v2_majorversion &gt; 4) { <span class="comment">// this script probably won&#39;t correctly parse ID3v2.5.x and above (if it ever exists)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            $info[<span class="stringliteral">&#39;error&#39;</span>][] = <span class="stringliteral">&#39;this script only parses up to ID3v2.4.x - this tag is ID3v2.&#39;</span>.$id3v2_majorversion.<span class="charliteral">&#39;.&#39;</span>.$thisfile_id3v2[<span class="stringliteral">&#39;minorversion&#39;</span>];</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        $id3_flags = ord($header{5});</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">switch</span> ($id3v2_majorversion) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="comment">// %ab000000 in v2.2</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;unsynch&#39;</span>]     = (bool) ($id3_flags &amp; 0x80); <span class="comment">// a - Unsynchronisation</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;compression&#39;</span>] = (bool) ($id3_flags &amp; 0x40); <span class="comment">// b - Compression</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="comment">// %abc00000 in v2.3</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;unsynch&#39;</span>]     = (bool) ($id3_flags &amp; 0x80); <span class="comment">// a - Unsynchronisation</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;exthead&#39;</span>]     = (bool) ($id3_flags &amp; 0x40); <span class="comment">// b - Extended header</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;experim&#39;</span>]     = (bool) ($id3_flags &amp; 0x20); <span class="comment">// c - Experimental indicator</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="comment">// %abcd0000 in v2.4</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;unsynch&#39;</span>]     = (bool) ($id3_flags &amp; 0x80); <span class="comment">// a - Unsynchronisation</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;exthead&#39;</span>]     = (bool) ($id3_flags &amp; 0x40); <span class="comment">// b - Extended header</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;experim&#39;</span>]     = (bool) ($id3_flags &amp; 0x20); <span class="comment">// c - Experimental indicator</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;isfooter&#39;</span>]    = (bool) ($id3_flags &amp; 0x10); <span class="comment">// d - Footer present</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        $thisfile_id3v2[<span class="stringliteral">&#39;headerlength&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($header, 6, 4), 1) + 10; <span class="comment">// length of ID3v2 tag in 10-byte header doesn&#39;t include 10-byte header length</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        $thisfile_id3v2[<span class="stringliteral">&#39;tag_offset_start&#39;</span>] = <a class="code" href="classgetid3__id3v2.html#a4ceac70926bdbb66a93ae2cbd357e913">$this-&gt;StartingOffset</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        $thisfile_id3v2[<span class="stringliteral">&#39;tag_offset_end&#39;</span>]   = $thisfile_id3v2[<span class="stringliteral">&#39;tag_offset_start&#39;</span>] + $thisfile_id3v2[<span class="stringliteral">&#39;headerlength&#39;</span>];</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="comment">// create &#39;encoding&#39; key - used by getid3::HandleAllTags()</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// in ID3v2 every field can have it&#39;s own encoding type</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// so force everything to UTF-8 so it can be handled consistantly</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        $thisfile_id3v2[<span class="stringliteral">&#39;encoding&#39;</span>] = <span class="stringliteral">&#39;UTF-8&#39;</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">//    Frames</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">//        All ID3v2 frames consists of one frame header followed by one or more</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">//        fields containing the actual information. The header is always 10</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">//        bytes and laid out as follows:</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">//        Frame ID      $xx xx xx xx  (four characters)</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">//        Size      4 * %0xxxxxxx</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">//        Flags         $xx xx</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        $sizeofframes = $thisfile_id3v2[<span class="stringliteral">&#39;headerlength&#39;</span>] - 10; <span class="comment">// not including 10-byte initial header</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">if</span> (!empty($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>])) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            $sizeofframes -= ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] + 4);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (!empty($thisfile_id3v2_flags[<span class="stringliteral">&#39;isfooter&#39;</span>])) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            $sizeofframes -= 10; <span class="comment">// footer takes last 10 bytes of ID3v2 header, after frame data, before audio</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> ($sizeofframes &gt; 0) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            $framedata = $this-&gt;<a class="code" href="classgetid3__handler.html#a82974a114cc1e6e25696fdb587adde04">fread</a>($sizeofframes); <span class="comment">// read all frames from file into $framedata variable</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="comment">//    if entire frame data is unsynched, de-unsynch it now (ID3v2.3.x)</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">if</span> (!empty($thisfile_id3v2_flags[<span class="stringliteral">&#39;unsynch&#39;</span>]) &amp;&amp; ($id3v2_majorversion &lt;= 3)) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                $framedata = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ae4a3ac7d63ad1db4004e47eaf3af546f">DeUnsynchronise</a>($framedata);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="comment">//        [in ID3v2.4.0] Unsynchronisation [S:6.1] is done on frame level, instead</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="comment">//        of on tag level, making it easier to skip frames, increasing the streamability</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="comment">//        of the tag. The unsynchronisation flag in the header [S:3.1] indicates that</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="comment">//        there exists an unsynchronised frame, while the new unsynchronisation flag in</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="comment">//        the frame header [S:4.1.2] indicates unsynchronisation.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="comment">//$framedataoffset = 10 + ($thisfile_id3v2[&#39;exthead&#39;][&#39;length&#39;] ? $thisfile_id3v2[&#39;exthead&#39;][&#39;length&#39;] + 4 : 0); // how many bytes into the stream - start from after the 10-byte header (and extended header length+4, if present)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            $framedataoffset = 10; <span class="comment">// how many bytes into the stream - start from after the 10-byte header</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">//    Extended Header</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">if</span> (!empty($thisfile_id3v2_flags[<span class="stringliteral">&#39;exthead&#39;</span>])) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                $extended_header_offset = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">if</span> ($id3v2_majorversion == 3) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="comment">// v2.3 definition:</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    <span class="comment">//Extended header size  $xx xx xx xx   // 32-bit integer</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="comment">//Extended Flags        $xx xx</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="comment">//     %x0000000 %00000000 // v2.3</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="comment">//     x - CRC data present</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="comment">//Size of padding       $xx xx xx xx</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 4), 0);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    $extended_header_offset += 4;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>] = 2;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>]));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    $extended_header_offset += $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>];</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>] = (bool) ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] &amp; 0x8000);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;padding_size&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 4));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    $extended_header_offset += 4;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>]) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_data&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 4));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        $extended_header_offset += 4;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    $extended_header_offset += $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;padding_size&#39;</span>];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($id3v2_majorversion == 4) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    <span class="comment">// v2.4 definition:</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="comment">//Extended header size   4 * %0xxxxxxx // 28-bit synchsafe integer</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="comment">//Number of flag bytes       $01</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="comment">//Extended Flags             $xx</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="comment">//     %0bcd0000 // v2.4</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="comment">//     b - Tag is an update</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="comment">//         Flag data length       $00</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    <span class="comment">//     c - CRC data present</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    <span class="comment">//         Flag data length       $05</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    <span class="comment">//         Total frame CRC    5 * %0xxxxxxx</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <span class="comment">//     d - Tag restrictions</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="comment">//         Flag data length       $01</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 4), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    $extended_header_offset += 4;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 1)); <span class="comment">// should always be 1</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    $extended_header_offset += 1;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>]));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    $extended_header_offset += $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_bytes&#39;</span>];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;update&#39;</span>]       = (bool) ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] &amp; 0x40);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>]          = (bool) ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] &amp; 0x20);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>] = (bool) ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_raw&#39;</span>] &amp; 0x10);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;update&#39;</span>]) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        $ext_header_chunk_length = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 1)); <span class="comment">// should be 0</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        $extended_header_offset += 1;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>]) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        $ext_header_chunk_length = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 1)); <span class="comment">// should be 5</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        $extended_header_offset += 1;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flag_data&#39;</span>][<span class="stringliteral">&#39;crc&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, $ext_header_chunk_length), <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        $extended_header_offset += $ext_header_chunk_length;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>]) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        $ext_header_chunk_length = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 1)); <span class="comment">// should be 1</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        $extended_header_offset += 1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <span class="comment">// %ppqrrstt</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        $restrictions_raw = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($framedata, $extended_header_offset, 1));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        $extended_header_offset += 1;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;tagsize&#39;</span>]  = ($restrictions_raw &amp; 0xC0) &gt;&gt; 6; <span class="comment">// p - Tag size restrictions</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;textenc&#39;</span>]  = ($restrictions_raw &amp; 0x20) &gt;&gt; 5; <span class="comment">// q - Text encoding restrictions</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;textsize&#39;</span>] = ($restrictions_raw &amp; 0x18) &gt;&gt; 3; <span class="comment">// r - Text fields size restrictions</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;imgenc&#39;</span>]   = ($restrictions_raw &amp; 0x04) &gt;&gt; 2; <span class="comment">// s - Image encoding restrictions</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;imgsize&#39;</span>]  = ($restrictions_raw &amp; 0x03) &gt;&gt; 0; <span class="comment">// t - Image size restrictions</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions_text&#39;</span>][<span class="stringliteral">&#39;tagsize&#39;</span>]  = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a49cda552bee0b7955d6e9cc5397b4d27">LookupExtendedHeaderRestrictionsTagSizeLimits</a>($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;tagsize&#39;</span>]);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions_text&#39;</span>][<span class="stringliteral">&#39;textenc&#39;</span>]  = $this-&gt;<a class="code" href="classgetid3__id3v2.html#af37a558ff5f251988ed243b13fed2269">LookupExtendedHeaderRestrictionsTextEncodings</a>($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;textenc&#39;</span>]);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions_text&#39;</span>][<span class="stringliteral">&#39;textsize&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#acb88d5f1310c04cd345929dadc042aa3">LookupExtendedHeaderRestrictionsTextFieldSize</a>($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;textsize&#39;</span>]);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions_text&#39;</span>][<span class="stringliteral">&#39;imgenc&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a9430f5be086948b156b1e87feec920ae">LookupExtendedHeaderRestrictionsImageEncoding</a>($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;imgenc&#39;</span>]);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        $thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions_text&#39;</span>][<span class="stringliteral">&#39;imgsize&#39;</span>]  = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ae510c25328a6c0df5b117b4af3c403dd">LookupExtendedHeaderRestrictionsImageSizeSize</a>($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;restrictions&#39;</span>][<span class="stringliteral">&#39;imgsize&#39;</span>]);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] != $extended_header_offset) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2.4 extended header length mismatch (expecting &#39;</span>.intval($thisfile_id3v2[<span class="stringliteral">&#39;exthead&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>]).<span class="stringliteral">&#39;, found &#39;</span>.intval($extended_header_offset).<span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                $framedataoffset += $extended_header_offset;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                $framedata = substr($framedata, $extended_header_offset);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            } <span class="comment">// end extended header</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">while</span> (isset($framedata) &amp;&amp; (strlen($framedata) &gt; 0)) { <span class="comment">// cycle through until no more frame data is left to parse</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span> (strlen($framedata) &lt;= $this-&gt;<a class="code" href="classgetid3__id3v2.html#af6d8516e165063f1b01aaa903962ad2a">ID3v2HeaderLength</a>($id3v2_majorversion)) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <span class="comment">// insufficient room left in ID3v2 header for actual data - must be padding</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;start&#39;</span>]  = $framedataoffset;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] = strlen($framedata);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;valid&#39;</span>]  = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>]; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        <span class="keywordflow">if</span> ($framedata{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>} != <span class="stringliteral">&quot;\x00&quot;</span>) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                            $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;valid&#39;</span>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                            $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;errorpos&#39;</span>] = $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;start&#39;</span>] + <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid ID3v2 padding found at offset &#39;</span>.$thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;errorpos&#39;</span>].<span class="stringliteral">&#39; (the remaining &#39;</span>.($thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] - <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>).<span class="stringliteral">&#39; bytes are considered invalid)&#39;</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">// skip rest of ID3v2 header</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">if</span> ($id3v2_majorversion == 2) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    <span class="comment">// Frame ID  $xx xx xx (three characters)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="comment">// Size      $xx xx xx (24-bit integer)</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="comment">// Flags     $xx xx</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    $frame_header = substr($framedata, 0, 6); <span class="comment">// take next 6 bytes for header</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    $framedata    = substr($framedata, 6);    <span class="comment">// and leave the rest in $framedata</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    $frame_name   = substr($frame_header, 0, 3);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    $frame_size   = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 3, 3), 0);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    $frame_flags  = 0; <span class="comment">// not used for anything in ID3v2.2, just set to avoid E_NOTICEs</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($id3v2_majorversion &gt; 2) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="comment">// Frame ID  $xx xx xx xx (four characters)</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <span class="comment">// Size      $xx xx xx xx (32-bit integer in v2.3, 28-bit synchsafe in v2.4+)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <span class="comment">// Flags     $xx xx</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    $frame_header = substr($framedata, 0, 10); <span class="comment">// take next 10 bytes for header</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    $framedata    = substr($framedata, 10);    <span class="comment">// and leave the rest in $framedata</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    $frame_name = substr($frame_header, 0, 4);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <span class="keywordflow">if</span> ($id3v2_majorversion == 3) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        $frame_size = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 4, 4), 0); <span class="comment">// 32-bit integer</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    } <span class="keywordflow">else</span> { <span class="comment">// ID3v2.4+</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        $frame_size = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 4, 4), 1); <span class="comment">// 32-bit synchsafe integer (28-bit value)</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">if</span> ($frame_size &lt; (strlen($framedata) + 4)) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        $nextFrameID = substr($framedata, $frame_size, 4);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>($nextFrameID, $id3v2_majorversion)) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                            <span class="comment">// next frame is OK</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($frame_name == <span class="stringliteral">&quot;\x00&quot;</span>.<span class="stringliteral">&#39;MP3&#39;</span>) || ($frame_name == <span class="stringliteral">&quot;\x00\x00&quot;</span>.<span class="stringliteral">&#39;MP&#39;</span>) || ($frame_name == <span class="stringliteral">&#39; MP3&#39;</span>) || ($frame_name == <span class="stringliteral">&#39;MP3e&#39;</span>)) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                            <span class="comment">// MP3ext known broken frames - &quot;ok&quot; for the purposes of this test</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion == 4) &amp;&amp; ($this-&gt;<a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>(substr($framedata, <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 4, 4), 0), 4), 3))) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2 tag written as ID3v2.4, but with non-synchsafe integers (ID3v2.3 style). Older versions of (Helium2; iTunes) are known culprits of this. Tag has been parsed as ID3v2.3&#39;</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                            $id3v2_majorversion = 3;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                            $frame_size = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 4, 4), 0); <span class="comment">// 32-bit integer</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    $frame_flags = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_header, 8, 2));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">if</span> ((($id3v2_majorversion == 2) &amp;&amp; ($frame_name == <span class="stringliteral">&quot;\x00\x00\x00&quot;</span>)) || ($frame_name == <span class="stringliteral">&quot;\x00\x00\x00\x00&quot;</span>)) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <span class="comment">// padding encountered</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;start&#39;</span>]  = $framedataoffset;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] = strlen($frame_header) + strlen($framedata);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;valid&#39;</span>]  = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    $len = strlen($framedata);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; $len; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <span class="keywordflow">if</span> ($framedata{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>} != <span class="stringliteral">&quot;\x00&quot;</span>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                            $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;valid&#39;</span>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                            $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;errorpos&#39;</span>] = $thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;start&#39;</span>] + <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid ID3v2 padding found at offset &#39;</span>.$thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;errorpos&#39;</span>].<span class="stringliteral">&#39; (the remaining &#39;</span>.($thisfile_id3v2[<span class="stringliteral">&#39;padding&#39;</span>][<span class="stringliteral">&#39;length&#39;</span>] - <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>).<span class="stringliteral">&#39; bytes are considered invalid)&#39;</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">// skip rest of ID3v2 header</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordflow">if</span> ($frame_name == <span class="stringliteral">&#39;COM &#39;</span>) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;error parsing &quot;&#39;</span>.$frame_name.<span class="stringliteral">&#39;&quot; (&#39;</span>.$framedataoffset.<span class="stringliteral">&#39; bytes into the ID3v2.&#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39; tag). (ERROR: IsValidID3v2FrameName(&quot;&#39;</span>.<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&quot;\x00&quot;</span>, <span class="charliteral">&#39; &#39;</span>, $frame_name).<span class="stringliteral">&#39;&quot;, &#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39;))). [Note: this particular error has been known to happen with tags edited by iTunes (versions &quot;X v2.0.3&quot;, &quot;v3.0.1&quot; are known-guilty, probably others too)]&#39;</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    $frame_name = <span class="stringliteral">&#39;COMM&#39;</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">if</span> (($frame_size &lt;= strlen($framedata)) &amp;&amp; ($this-&gt;<a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>($frame_name, $id3v2_majorversion))) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    unset($parsedFrame);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]      = $frame_name;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] = $frame_flags;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]            = substr($framedata, 0, $frame_size);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;datalength&#39;</span>]      = <a class="code" href="classgetid3__lib.html#ae95f2e11557947080b0dfe122fb8938e">getid3_lib::CastAsInt</a>($frame_size);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;dataoffset&#39;</span>]      = $framedataoffset;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    $this-&gt;<a class="code" href="classgetid3__id3v2.html#ab41e4328bd0863bd201c390c13dd101e">ParseID3v2Frame</a>($parsedFrame);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    $thisfile_id3v2[$frame_name][] = $parsedFrame;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    $framedata = substr($framedata, $frame_size);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                } <span class="keywordflow">else</span> { <span class="comment">// invalid frame length or FrameID</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <span class="keywordflow">if</span> ($frame_size &lt;= strlen($framedata)) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>(substr($framedata, $frame_size, 4), $id3v2_majorversion)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                            <span class="comment">// next frame is valid, just skip the current frame</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                            $framedata = substr($framedata, $frame_size);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Next ID3v2 frame is valid, skipping current frame.&#39;</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                            <span class="comment">// next frame is invalid too, abort processing</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                            <span class="comment">//unset($framedata);</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                            $framedata = <a class="code" href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                            $info[<span class="stringliteral">&#39;error&#39;</span>][] = <span class="stringliteral">&#39;Next ID3v2 frame is also invalid, aborting processing.&#39;</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                        }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($frame_size == strlen($framedata)) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                        <span class="comment">// this is the last frame, just skip</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;This was the last ID3v2 frame.&#39;</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        <span class="comment">// next frame is invalid too, abort processing</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <span class="comment">//unset($framedata);</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        $framedata = <a class="code" href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid ID3v2 frame size, aborting.&#39;</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>($frame_name, $id3v2_majorversion)) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                        <span class="keywordflow">switch</span> ($frame_name) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&quot;\x00\x00&quot;</span>.<span class="stringliteral">&#39;MP&#39;</span>:</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&quot;\x00&quot;</span>.<span class="stringliteral">&#39;MP3&#39;</span>:</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&#39; MP3&#39;</span>:</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&#39;MP3e&#39;</span>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&quot;\x00&quot;</span>.<span class="stringliteral">&#39;MP&#39;</span>:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&#39; MP&#39;</span>:</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                            <span class="keywordflow">case</span> <span class="stringliteral">&#39;MP3&#39;</span>:</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;error parsing &quot;&#39;</span>.$frame_name.<span class="stringliteral">&#39;&quot; (&#39;</span>.$framedataoffset.<span class="stringliteral">&#39; bytes into the ID3v2.&#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39; tag). (ERROR: !IsValidID3v2FrameName(&quot;&#39;</span>.<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&quot;\x00&quot;</span>, <span class="charliteral">&#39; &#39;</span>, $frame_name).<span class="stringliteral">&#39;&quot;, &#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39;))). [Note: this particular error has been known to happen with tags edited by &quot;MP3ext (www.mutschler.de/mp3ext/)&quot;]&#39;</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;error parsing &quot;&#39;</span>.$frame_name.<span class="stringliteral">&#39;&quot; (&#39;</span>.$framedataoffset.<span class="stringliteral">&#39; bytes into the ID3v2.&#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39; tag). (ERROR: !IsValidID3v2FrameName(&quot;&#39;</span>.<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&quot;\x00&quot;</span>, <span class="charliteral">&#39; &#39;</span>, $frame_name).<span class="stringliteral">&#39;&quot;, &#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39;))).&#39;</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (!isset($framedata) || ($frame_size &gt; strlen($framedata))) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        $info[<span class="stringliteral">&#39;error&#39;</span>][] = <span class="stringliteral">&#39;error parsing &quot;&#39;</span>.$frame_name.<span class="stringliteral">&#39;&quot; (&#39;</span>.$framedataoffset.<span class="stringliteral">&#39; bytes into the ID3v2.&#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39; tag). (ERROR: $frame_size (&#39;</span>.$frame_size.<span class="stringliteral">&#39;) &gt; strlen($framedata) (&#39;</span>.(isset($framedata) ? strlen($framedata) : <span class="stringliteral">&#39;null&#39;</span>).<span class="stringliteral">&#39;)).&#39;</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        $info[<span class="stringliteral">&#39;error&#39;</span>][] = <span class="stringliteral">&#39;error parsing &quot;&#39;</span>.$frame_name.<span class="stringliteral">&#39;&quot; (&#39;</span>.$framedataoffset.<span class="stringliteral">&#39; bytes into the ID3v2.&#39;</span>.$id3v2_majorversion.<span class="stringliteral">&#39; tag).&#39;</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                $framedataoffset += ($frame_size + $this-&gt;<a class="code" href="classgetid3__id3v2.html#af6d8516e165063f1b01aaa903962ad2a">ID3v2HeaderLength</a>($id3v2_majorversion));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">//    Footer</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">//    The footer is a copy of the header, but with a different identifier.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">//        ID3v2 identifier           &quot;3DI&quot;</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">//        ID3v2 version              $04 00</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">//        ID3v2 flags                %abcd0000</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">//        ID3v2 size             4 * %0xxxxxxx</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> (isset($thisfile_id3v2_flags[<span class="stringliteral">&#39;isfooter&#39;</span>]) &amp;&amp; $thisfile_id3v2_flags[<span class="stringliteral">&#39;isfooter&#39;</span>]) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            $footer = $this-&gt;<a class="code" href="classgetid3__handler.html#a82974a114cc1e6e25696fdb587adde04">fread</a>(10);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span> (substr($footer, 0, 3) == <span class="stringliteral">&#39;3DI&#39;</span>) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                $thisfile_id3v2[<span class="stringliteral">&#39;footer&#39;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                $thisfile_id3v2[<span class="stringliteral">&#39;majorversion_footer&#39;</span>] = ord($footer{3});</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                $thisfile_id3v2[<span class="stringliteral">&#39;minorversion_footer&#39;</span>] = ord($footer{4});</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">if</span> ($thisfile_id3v2[<span class="stringliteral">&#39;majorversion_footer&#39;</span>] &lt;= 4) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                $id3_flags = ord(substr($footer{5}));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;unsynch_footer&#39;</span>]  = (bool) ($id3_flags &amp; 0x80);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;extfoot_footer&#39;</span>]  = (bool) ($id3_flags &amp; 0x40);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;experim_footer&#39;</span>]  = (bool) ($id3_flags &amp; 0x20);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                $thisfile_id3v2_flags[<span class="stringliteral">&#39;isfooter_footer&#39;</span>] = (bool) ($id3_flags &amp; 0x10);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                $thisfile_id3v2[<span class="stringliteral">&#39;footerlength&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($footer, 6, 4), 1);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        } <span class="comment">// end footer</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (isset($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;genre&#39;</span>])) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">foreach</span> ($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;genre&#39;</span>] as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                unset($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;genre&#39;</span>][$key]);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                $thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>] = <a class="code" href="classgetid3__lib.html#ad474517558c5b9427814d8d45b6c00a4">getid3_lib::array_merge_noclobber</a>($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>], array(<span class="stringliteral">&#39;genre&#39;</span>=&gt;$this-&gt;<a class="code" href="classgetid3__id3v2.html#a5a49119d9ea2795f473c366fe7648d17">ParseID3v2GenreString</a>(<a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>)));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> (isset($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>])) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">foreach</span> ($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>] as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keywordflow">if</span> (strstr(<a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>, <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    <a class="code" href="namespacelist.html">list</a>($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;tracknum&#39;</span>][$key], $thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;totaltracks&#39;</span>][$key]) = explode(<span class="charliteral">&#39;/&#39;</span>, $thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][$key]);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">if</span> (!isset($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;year&#39;</span>]) &amp;&amp; !empty($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;recording_time&#39;</span>][0]) &amp;&amp; preg_match(<span class="stringliteral">&#39;#^([0-9]{4})#&#39;</span>, trim($thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;recording_time&#39;</span>][0]), $matches)) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            $thisfile_id3v2[<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;year&#39;</span>] = array($matches[1]);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">if</span> (!empty($thisfile_id3v2[<span class="stringliteral">&#39;TXXX&#39;</span>])) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="comment">// MediaMonkey does this, maybe others: write a blank RGAD frame, but put replay-gain adjustment values in TXXX frames</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">foreach</span> ($thisfile_id3v2[<span class="stringliteral">&#39;TXXX&#39;</span>] as $txxx_array) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">switch</span> ($txxx_array[<span class="stringliteral">&#39;description&#39;</span>]) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;replaygain_track_gain&#39;</span>:</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        <span class="keywordflow">if</span> (empty($info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>]) &amp;&amp; !empty($txxx_array[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = floatval(trim(<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&#39;dB&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, $txxx_array[<span class="stringliteral">&#39;data&#39;</span>])));</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;replaygain_track_peak&#39;</span>:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        <span class="keywordflow">if</span> (empty($info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;peak&#39;</span>]) &amp;&amp; !empty($txxx_array[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;peak&#39;</span>] = floatval($txxx_array[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;replaygain_album_gain&#39;</span>:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        <span class="keywordflow">if</span> (empty($info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>]) &amp;&amp; !empty($txxx_array[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = floatval(trim(<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&#39;dB&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, $txxx_array[<span class="stringliteral">&#39;data&#39;</span>])));</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="comment">// Set avdataoffset</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        $info[<span class="stringliteral">&#39;avdataoffset&#39;</span>] = $thisfile_id3v2[<span class="stringliteral">&#39;headerlength&#39;</span>];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (isset($thisfile_id3v2[<span class="stringliteral">&#39;footer&#39;</span>])) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            $info[<span class="stringliteral">&#39;avdataoffset&#39;</span>] += 10;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a5a49119d9ea2795f473c366fe7648d17">  498</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a5a49119d9ea2795f473c366fe7648d17">ParseID3v2GenreString</a>($genrestring) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="comment">// Parse genres into arrays of genreName and genreID</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">// ID3v2.2.x, ID3v2.3.x: &#39;(21)&#39; or &#39;(4)Eurodisco&#39; or &#39;(51)(39)&#39; or &#39;(55)((I think...)&#39;</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// ID3v2.4.x: &#39;21&#39; $00 &#39;Eurodisco&#39; $00</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        $clean_genres = array();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (strpos($genrestring, <span class="stringliteral">&quot;\x00&quot;</span>) === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            $genrestring = preg_replace(<span class="stringliteral">&#39;#\(([0-9]{1,3})\)#&#39;</span>, <span class="stringliteral">&#39;$1&#39;</span>.<span class="stringliteral">&quot;\x00&quot;</span>, $genrestring);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        $genre_elements = explode(<span class="stringliteral">&quot;\x00&quot;</span>, $genrestring);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">foreach</span> ($genre_elements as $element) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            $element = trim($element);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span> ($element) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">&#39;#^[0-9]{1,3}#&#39;</span>, $element)) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    $clean_genres[] = <a class="code" href="classgetid3__id3v1.html#ab0a352114f1412ba543903e9e597e50e">getid3_id3v1::LookupGenreName</a>($element);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    $clean_genres[] = <a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&#39;((&#39;</span>, <span class="charliteral">&#39;(&#39;</span>, $element);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">return</span> $clean_genres;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ab41e4328bd0863bd201c390c13dd101e">  521</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ab41e4328bd0863bd201c390c13dd101e">ParseID3v2Frame</a>(&amp;$parsedFrame) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// shortcuts</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        $info = &amp;$this-&gt;getid3-&gt;info;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        $id3v2_majorversion = $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;majorversion&#39;</span>];</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        $parsedFrame[<span class="stringliteral">&#39;framenamelong&#39;</span>]  = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a830a198ea9c2677706584bd8b7c76453">FrameNameLongLookup</a>($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (empty($parsedFrame[<span class="stringliteral">&#39;framenamelong&#39;</span>])) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;framenamelong&#39;</span>]);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        $parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ade054d5e8ebb41a5323a17d6e6f0b260">FrameNameShortLookup</a>($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">if</span> (empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>])) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">if</span> ($id3v2_majorversion &gt;= 3) { <span class="comment">// frame flags are not part of the ID3v2.2 standard</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">if</span> ($id3v2_majorversion == 3) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="comment">//    Frame Header Flags</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="comment">//    %abc00000 %ijk00000</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;TagAlterPreservation&#39;</span>]  = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x8000); <span class="comment">// a - Tag alter preservation</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;FileAlterPreservation&#39;</span>] = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x4000); <span class="comment">// b - File alter preservation</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;ReadOnly&#39;</span>]              = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x2000); <span class="comment">// c - Read only</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;compression&#39;</span>]           = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0080); <span class="comment">// i - Compression</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;Encryption&#39;</span>]            = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0040); <span class="comment">// j - Encryption</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;GroupingIdentity&#39;</span>]      = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0020); <span class="comment">// k - Grouping identity</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($id3v2_majorversion == 4) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="comment">//    Frame Header Flags</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="comment">//    %0abc0000 %0h00kmnp</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;TagAlterPreservation&#39;</span>]  = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x4000); <span class="comment">// a - Tag alter preservation</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;FileAlterPreservation&#39;</span>] = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x2000); <span class="comment">// b - File alter preservation</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;ReadOnly&#39;</span>]              = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x1000); <span class="comment">// c - Read only</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;GroupingIdentity&#39;</span>]      = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0040); <span class="comment">// h - Grouping identity</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;compression&#39;</span>]           = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0008); <span class="comment">// k - Compression</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;Encryption&#39;</span>]            = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0004); <span class="comment">// m - Encryption</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;Unsynchronisation&#39;</span>]     = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0002); <span class="comment">// n - Unsynchronisation</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;DataLengthIndicator&#39;</span>]   = (bool) ($parsedFrame[<span class="stringliteral">&#39;frame_flags_raw&#39;</span>] &amp; 0x0001); <span class="comment">// p - Data length indicator</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="comment">// Frame-level de-unsynchronisation - ID3v2.4</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;Unsynchronisation&#39;</span>]) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ae4a3ac7d63ad1db4004e47eaf3af546f">DeUnsynchronise</a>($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;DataLengthIndicator&#39;</span>]) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;data_length_indicator&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 0, 4), 1);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]                  =                           substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 4);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="comment">//    Frame-level de-compression</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;compression&#39;</span>]) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;decompressed_size&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 0, 4));</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">if</span> (!function_exists(<span class="stringliteral">&#39;gzuncompress&#39;</span>)) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;gzuncompress() support required to decompress ID3v2 frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <span class="keywordflow">if</span> ($decompresseddata = @gzuncompress(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 4))) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <span class="comment">//if ($decompresseddata = @gzuncompress($parsedFrame[&#39;data&#39;])) {</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = $decompresseddata;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                        unset($decompresseddata);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;gzuncompress() failed on compressed contents of ID3v2 frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;DataLengthIndicator&#39;</span>])) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;data_length_indicator&#39;</span>] != strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2 frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; should be &#39;</span>.$parsedFrame[<span class="stringliteral">&#39;data_length_indicator&#39;</span>].<span class="stringliteral">&#39; bytes long according to DataLengthIndicator, but found &#39;</span>.strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]).<span class="stringliteral">&#39; bytes of data&#39;</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span> (isset($parsedFrame[<span class="stringliteral">&#39;datalength&#39;</span>]) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;datalength&#39;</span>] == 0)) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            $warning = <span class="stringliteral">&#39;Frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; at offset &#39;</span>.$parsedFrame[<span class="stringliteral">&#39;dataoffset&#39;</span>].<span class="stringliteral">&#39; has no data portion&#39;</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">switch</span> ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&#39;WCOM&#39;</span>:</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    $warning .= <span class="stringliteral">&#39; (this is known to happen with files tagged by RioPort)&#39;</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = $warning;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;UFID&#39;</span>)) || <span class="comment">// 4.1   UFID Unique file identifier</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;UFI&#39;</span>))) {  <span class="comment">// 4.1   UFI  Unique file identifier</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="comment">//   There may be more than one &#39;UFID&#39; frame in a tag,</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="comment">//   but only one with the same &#39;Owner identifier&#39;.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="comment">// &lt;Header for &#39;Unique file identifier&#39;, ID: &#39;UFID&#39;&gt;</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="comment">// Owner identifier        &lt;text string&gt; $00</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="comment">// Identifier              &lt;up to 64 bytes binary data&gt;</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            $exploded = explode(<span class="stringliteral">&quot;\x00&quot;</span>, $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 2);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>] = (isset($exploded[0]) ? $exploded[0] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]    = (isset($exploded[1]) ? $exploded[1] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;TXXX&#39;</span>)) || <span class="comment">// 4.2.2 TXXX User defined text information frame</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;TXX&#39;</span>))) {    <span class="comment">// 4.2.2 TXX  User defined text information frame</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="comment">//   There may be more than one &#39;TXXX&#39; frame in each tag,</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="comment">//   but only one with the same description.</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="comment">// &lt;Header for &#39;User defined text information frame&#39;, ID: &#39;TXXX&#39;&gt;</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="comment">// Text encoding     $xx</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">// Description       &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="comment">// Value             &lt;text string according to encoding&gt;</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]  = $frame_textencoding;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]    = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = trim(<a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $frame_description));</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                $commentkey = ($parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] ? $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] : (isset($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) ? count($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) : 0));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">if</span> (!isset($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) || !array_key_exists($commentkey, $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]])) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][$commentkey] = trim(<a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]));</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][]            = trim(<a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">//unset($parsedFrame[&#39;data&#39;]); do not unset, may be needed elsewhere, e.g. for replaygain</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]{0} == <span class="charliteral">&#39;T&#39;</span>) { <span class="comment">// 4.2. T??[?] Text information frame</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="comment">//   There may only be one text information frame of its kind in an tag.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="comment">// &lt;Header for &#39;Text information frame&#39;, ID: &#39;T000&#39; - &#39;TZZZ&#39;,</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="comment">// excluding &#39;TXXX&#39; described in 4.2.6.&gt;</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="comment">// Text encoding                $xx</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="comment">// Information                  &lt;text string(s) according to encoding&gt;</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>] = $frame_textencoding;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="comment">// ID3v2.3 specs say that TPE1 (and others) can contain multiple artist values separated with /</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="comment">// This of course breaks when an artist name contains slash character, e.g. &quot;AC/DC&quot;</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <span class="comment">// MP3tag (maybe others) implement alternative system where multiple artists are null-separated, which makes more sense</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="comment">// getID3 will split null-separated artists into multiple artists and leave slash-separated ones to the user</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">switch</span> ($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-16&#39;</span>:</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-16BE&#39;</span>:</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-16LE&#39;</span>:</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        $wordsize = 2;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;ISO-8859-1&#39;</span>:</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-8&#39;</span>:</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        $wordsize = 1;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                $Txxx_elements = array();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                $Txxx_elements_start_offset = 0;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]); <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> += $wordsize) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <span class="keywordflow">if</span> (substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>, $wordsize) == str_repeat(<span class="stringliteral">&quot;\x00&quot;</span>, $wordsize)) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        $Txxx_elements[] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $Txxx_elements_start_offset, <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> - $Txxx_elements_start_offset);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        $Txxx_elements_start_offset = <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> + $wordsize;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                    }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                $Txxx_elements[] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $Txxx_elements_start_offset, <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> - $Txxx_elements_start_offset);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">foreach</span> ($Txxx_elements as $Txxx_element) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    $string = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $Txxx_element);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    <span class="keywordflow">if</span> (!empty($string)) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = $string;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                unset($string, $wordsize, <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>, $Txxx_elements, $Txxx_element, $Txxx_elements_start_offset);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;WXXX&#39;</span>)) || <span class="comment">// 4.3.2 WXXX User defined URL link frame</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;WXX&#39;</span>))) {    <span class="comment">// 4.3.2 WXX  User defined URL link frame</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="comment">//   There may be more than one &#39;WXXX&#39; frame in each tag,</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="comment">//   but only one with the same description</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="comment">// &lt;Header for &#39;User defined URL link frame&#39;, ID: &#39;WXXX&#39;&gt;</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="comment">// Text encoding     $xx</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="comment">// Description       &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="comment">// URL               &lt;text string&gt;</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">if</span> ($frame_terminatorpos) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <span class="comment">// there are null bytes after the data - this is not according to spec</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="comment">// only use data up to first null byte</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                $frame_urldata = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 0, $frame_terminatorpos);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                <span class="comment">// no null bytes following data, just use all data</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                $frame_urldata = (string) $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>];</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]  = $frame_textencoding;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]    = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]         = $frame_urldata;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = $frame_description;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>]{0} == <span class="charliteral">&#39;W&#39;</span>) { <span class="comment">// 4.3. W??? URL link frames</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="comment">//   There may only be one URL link frame of its kind in a tag,</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="comment">//   except when stated otherwise in the frame description</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="comment">// &lt;Header for &#39;URL link frame&#39;, ID: &#39;W000&#39; - &#39;WZZZ&#39;, excluding &#39;WXXX&#39;</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <span class="comment">// described in 4.3.2.&gt;</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="comment">// URL              &lt;text string&gt;</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>] = trim($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>];</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion == 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;IPLS&#39;</span>)) || <span class="comment">// 4.4  IPLS Involved people list (ID3v2.3 only)</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;IPL&#39;</span>))) {     <span class="comment">// 4.4  IPL  Involved people list (ID3v2.2 only)</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <span class="comment">// http://id3.org/id3v2.3.0#sec4.4</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="comment">//   There may only be one &#39;IPL&#39; frame in each tag</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="comment">// &lt;Header for &#39;User defined URL link frame&#39;, ID: &#39;IPL&#39;&gt;</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="comment">// Text encoding     $xx</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <span class="comment">// People list strings    &lt;textstrings&gt;</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>] = $frame_textencoding;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>]   = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="comment">// http://www.getid3.org/phpBB3/viewtopic.php?t=1369</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="comment">// &quot;this tag typically contains null terminated strings, which are associated in pairs&quot;</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="comment">// &quot;there are users that use the tag incorrectly&quot;</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            $IPLS_parts = array();</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span> (strpos($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>) !== <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                $IPLS_parts_unsorted = array();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="keywordflow">if</span> (((strlen($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>]) % 2) == 0) &amp;&amp; ((substr($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>], 0, 2) == <span class="stringliteral">&quot;\xFF\xFE&quot;</span>) || (substr($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>], 0, 2) == <span class="stringliteral">&quot;\xFE\xFF&quot;</span>))) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                    <span class="comment">// UTF-16, be careful looking for null bytes since most 2-byte characters may contain one; you need to find twin null bytes, and on even padding</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    $thisILPS  = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>]); <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> += 2) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        $twobytes = substr($parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>], <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>, 2);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        <span class="keywordflow">if</span> ($twobytes === <span class="stringliteral">&quot;\x00\x00&quot;</span>) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                            $IPLS_parts_unsorted[] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $thisILPS);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                            $thisILPS  = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                            $thisILPS .= $twobytes;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                        }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="keywordflow">if</span> (strlen($thisILPS) &gt; 2) { <span class="comment">// 2-byte BOM</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        $IPLS_parts_unsorted[] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $thisILPS);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <span class="comment">// ISO-8859-1 or UTF-8 or other single-byte-null character set</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    $IPLS_parts_unsorted = explode(<span class="stringliteral">&quot;\x00&quot;</span>, $parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>]);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <span class="keywordflow">if</span> (count($IPLS_parts_unsorted) == 1) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    <span class="comment">// just a list of names, e.g. &quot;Dino Baptiste, Jimmy Copley, John Gordon, Bernie Marsden, Sharon Watson&quot;</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <span class="keywordflow">foreach</span> ($IPLS_parts_unsorted as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        $IPLS_parts_sorted = preg_split(<span class="stringliteral">&#39;#[;,\\r\\n\\t]#&#39;</span>, <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                        $position = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <span class="keywordflow">foreach</span> ($IPLS_parts_sorted as $person) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                            $IPLS_parts[] = array(<span class="stringliteral">&#39;position&#39;</span>=&gt;$position, <span class="stringliteral">&#39;person&#39;</span>=&gt;$person);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                        }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((count($IPLS_parts_unsorted) % 2) == 0) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    $position = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    $person   = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    <span class="keywordflow">foreach</span> ($IPLS_parts_unsorted as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        <span class="keywordflow">if</span> (($key % 2) == 0) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                            $position = <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                            $person   = <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                            $IPLS_parts[] = array(<span class="stringliteral">&#39;position&#39;</span>=&gt;$position, <span class="stringliteral">&#39;person&#39;</span>=&gt;$person);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                            $position = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                            $person   = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <span class="keywordflow">foreach</span> ($IPLS_parts_unsorted as $key =&gt; <a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        $IPLS_parts[] = array(<a class="code" href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                $IPLS_parts = preg_split(<span class="stringliteral">&#39;#[;,\\r\\n\\t]#&#39;</span>, $parsedFrame[<span class="stringliteral">&#39;data_raw&#39;</span>]);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = $IPLS_parts;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>];</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;MCDI&#39;</span>)) || <span class="comment">// 4.4   MCDI Music CD identifier</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;MCI&#39;</span>))) {     <span class="comment">// 4.5   MCI  Music CD identifier</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="comment">//   There may only be one &#39;MCDI&#39; frame in each tag</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="comment">// &lt;Header for &#39;Music CD identifier&#39;, ID: &#39;MCDI&#39;&gt;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="comment">// CD TOC                &lt;binary data&gt;</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>];</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;ETCO&#39;</span>)) || <span class="comment">// 4.5   ETCO Event timing codes</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;ETC&#39;</span>))) {     <span class="comment">// 4.6   ETC  Event timing codes</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <span class="comment">//   There may only be one &#39;ETCO&#39; frame in each tag</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="comment">// &lt;Header for &#39;Event timing codes&#39;, ID: &#39;ETCO&#39;&gt;</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="comment">// Time stamp format    $xx</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">//   Where time stamp format is:</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="comment">// $01  (32-bit value) MPEG frames from beginning of file</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <span class="comment">// $02  (32-bit value) milliseconds from beginning of file</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="comment">//   Followed by a list of key events in the following format:</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="comment">// Type of event   $xx</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="comment">// Time stamp      $xx (xx ...)</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="comment">//   The &#39;Time stamp&#39; is set to zero if directly at the beginning of the sound</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="comment">//   or after the previous event. All events MUST be sorted in chronological order.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;timestampformat&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="keywordflow">while</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;typeid&#39;</span>]    = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;type&#39;</span>]      = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a852f9a7fde0cefa411d86bab885a96f4">ETCOEventLookup</a>($parsedFrame[<span class="stringliteral">&#39;typeid&#39;</span>]);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;timestamp&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                $frame_offset += 4;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;MLLT&#39;</span>)) || <span class="comment">// 4.6   MLLT MPEG location lookup table</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;MLL&#39;</span>))) {     <span class="comment">// 4.7   MLL MPEG location lookup table</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="comment">//   There may only be one &#39;MLLT&#39; frame in each tag</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="comment">// &lt;Header for &#39;Location lookup table&#39;, ID: &#39;MLLT&#39;&gt;</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <span class="comment">// MPEG frames between reference  $xx xx</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="comment">// Bytes between reference        $xx xx xx</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="comment">// Milliseconds between reference $xx xx xx</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="comment">// Bits for bytes deviation       $xx</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="comment">// Bits for milliseconds dev.     $xx</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="comment">//   Then for every reference the following data is included;</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="comment">// Deviation in bytes         %xxx....</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="comment">// Deviation in milliseconds  %xxx....</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;framesbetweenreferences&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 0, 2));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bytesbetweenreferences&#39;</span>]  = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 2, 3));</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;msbetweenreferences&#39;</span>]     = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 5, 3));</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bitsforbytesdeviation&#39;</span>]   = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 8, 1));</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bitsformsdeviation&#39;</span>]      = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 9, 1));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 10);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">while</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                $deviationbitstream .= <a class="code" href="classgetid3__lib.html#adae348e1f834b543d3ddb5f60c50c14f">getid3_lib::BigEndian2Bin</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            $reference_counter = 0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">while</span> (strlen($deviationbitstream) &gt; 0) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                $parsedFrame[$reference_counter][<span class="stringliteral">&#39;bytedeviation&#39;</span>] = bindec(substr($deviationbitstream, 0, $parsedFrame[<span class="stringliteral">&#39;bitsforbytesdeviation&#39;</span>]));</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                $parsedFrame[$reference_counter][<span class="stringliteral">&#39;msdeviation&#39;</span>]   = bindec(substr($deviationbitstream, $parsedFrame[<span class="stringliteral">&#39;bitsforbytesdeviation&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;bitsformsdeviation&#39;</span>]));</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                $deviationbitstream = substr($deviationbitstream, $parsedFrame[<span class="stringliteral">&#39;bitsforbytesdeviation&#39;</span>] + $parsedFrame[<span class="stringliteral">&#39;bitsformsdeviation&#39;</span>]);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                $reference_counter++;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;SYTC&#39;</span>)) || <span class="comment">// 4.7   SYTC Synchronised tempo codes</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                  (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;STC&#39;</span>))) {  <span class="comment">// 4.8   STC  Synchronised tempo codes</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="comment">//   There may only be one &#39;SYTC&#39; frame in each tag</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="comment">// &lt;Header for &#39;Synchronised tempo codes&#39;, ID: &#39;SYTC&#39;&gt;</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="comment">// Time stamp format   $xx</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="comment">// Tempo data          &lt;binary data&gt;</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="comment">//   Where time stamp format is:</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="comment">// $01  (32-bit value) MPEG frames from beginning of file</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            <span class="comment">// $02  (32-bit value) milliseconds from beginning of file</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;timestampformat&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            $timestamp_counter = 0;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="keywordflow">while</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                $parsedFrame[$timestamp_counter][<span class="stringliteral">&#39;tempo&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                <span class="keywordflow">if</span> ($parsedFrame[$timestamp_counter][<span class="stringliteral">&#39;tempo&#39;</span>] == 255) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    $parsedFrame[$timestamp_counter][<span class="stringliteral">&#39;tempo&#39;</span>] += ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                $parsedFrame[$timestamp_counter][<span class="stringliteral">&#39;timestamp&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                $frame_offset += 4;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                $timestamp_counter++;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;USLT&#39;</span>)) || <span class="comment">// 4.8   USLT Unsynchronised lyric/text transcription</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;ULT&#39;</span>))) {     <span class="comment">// 4.9   ULT  Unsynchronised lyric/text transcription</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="comment">//   There may be more than one &#39;Unsynchronised lyrics/text transcription&#39; frame</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="comment">//   in each tag, but only one with the same language and content descriptor.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="comment">// &lt;Header for &#39;Unsynchronised lyrics/text transcription&#39;, ID: &#39;USLT&#39;&gt;</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="comment">// Text encoding        $xx</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="comment">// Language             $xx xx xx</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="comment">// Content descriptor   &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="comment">// Lyrics/text          &lt;full text string according to encoding&gt;</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            $frame_language = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            $frame_offset += 3;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]   = $frame_textencoding;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]     = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]         = $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>];</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;language&#39;</span>]     = $frame_language;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;languagename&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">LanguageLookup</a>($frame_language, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>]  = $frame_description;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;SYLT&#39;</span>)) || <span class="comment">// 4.9   SYLT Synchronised lyric/text</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;SLT&#39;</span>))) {     <span class="comment">// 4.10  SLT  Synchronised lyric/text</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="comment">//   There may be more than one &#39;SYLT&#39; frame in each tag,</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="comment">//   but only one with the same language and content descriptor.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="comment">// &lt;Header for &#39;Synchronised lyrics/text&#39;, ID: &#39;SYLT&#39;&gt;</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <span class="comment">// Text encoding        $xx</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <span class="comment">// Language             $xx xx xx</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="comment">// Time stamp format    $xx</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="comment">//   $01  (32-bit value) MPEG frames from beginning of file</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="comment">//   $02  (32-bit value) milliseconds from beginning of file</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="comment">// Content type         $xx</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="comment">// Content descriptor   &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="comment">//   Terminated text to be synced (typically a syllable)</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="comment">//   Sync identifier (terminator to above string)   $00 (00)</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="comment">//   Time stamp                                     $xx (xx ...)</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            $frame_language = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            $frame_offset += 3;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;timestampformat&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;contenttypeid&#39;</span>]   = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;contenttype&#39;</span>]     = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ad670b7f4b2be8de1e367a9f36904b4d5">SYTLContentTypeLookup</a>($parsedFrame[<span class="stringliteral">&#39;contenttypeid&#39;</span>]);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]      = $frame_textencoding;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]        = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;language&#39;</span>]        = $frame_language;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;languagename&#39;</span>]    = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">LanguageLookup</a>($frame_language, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            $timestampindex = 0;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            $frame_remainingdata = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">while</span> (strlen($frame_remainingdata)) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                $frame_offset = 0;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                $frame_terminatorpos = strpos($frame_remainingdata, $frame_textencoding_terminator);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="keywordflow">if</span> ($frame_terminatorpos === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                    $frame_remainingdata = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                    <span class="keywordflow">if</span> (ord(substr($frame_remainingdata, $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                        $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;lyrics&#39;</span>][$timestampindex][<span class="stringliteral">&#39;data&#39;</span>] = substr($frame_remainingdata, $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    $frame_remainingdata = substr($frame_remainingdata, $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                    <span class="keywordflow">if</span> (($timestampindex == 0) &amp;&amp; (ord($frame_remainingdata{0}) != 0)) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                        <span class="comment">// timestamp probably omitted for first data item</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;lyrics&#39;</span>][$timestampindex][<span class="stringliteral">&#39;timestamp&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, 0, 4));</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                        $frame_remainingdata = substr($frame_remainingdata, 4);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                    }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    $timestampindex++;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;COMM&#39;</span>)) || <span class="comment">// 4.10  COMM Comments</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;COM&#39;</span>))) {     <span class="comment">// 4.11  COM  Comments</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="comment">//   There may be more than one comment frame in each tag,</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="comment">//   but only one with the same language and content descriptor.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            <span class="comment">// &lt;Header for &#39;Comment&#39;, ID: &#39;COMM&#39;&gt;</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="comment">// Text encoding          $xx</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="comment">// Language               $xx xx xx</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <span class="comment">// Short content descrip. &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="comment">// The actual text        &lt;full text string according to encoding&gt;</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <span class="keywordflow">if</span> (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &lt; 5) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid data (too short) for &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; frame at offset &#39;</span>.$parsedFrame[<span class="stringliteral">&#39;dataoffset&#39;</span>];</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                $frame_offset = 0;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                    $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                    $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                $frame_language = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                $frame_offset += 3;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                $frame_text = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]   = $frame_textencoding;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]     = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;language&#39;</span>]     = $frame_language;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;languagename&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">LanguageLookup</a>($frame_language, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>]  = $frame_description;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]         = $frame_text;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    $commentkey = ($parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] ? $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] : (!empty($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) ? count($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) : 0));</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    <span class="keywordflow">if</span> (!isset($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]]) || !array_key_exists($commentkey, $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]])) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                        $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][$commentkey] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                        $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][]            = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 4) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RVA2&#39;</span>)) { <span class="comment">// 4.11  RVA2 Relative volume adjustment (2) (ID3v2.4+ only)</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="comment">//   There may be more than one &#39;RVA2&#39; frame in each tag,</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="comment">//   but only one with the same identification string</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="comment">// &lt;Header for &#39;Relative volume adjustment (2)&#39;, ID: &#39;RVA2&#39;&gt;</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="comment">// Identification          &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <span class="comment">//   The &#39;identification&#39; string is used to identify the situation and/or</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="comment">//   device where this adjustment should apply. The following is then</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="comment">//   repeated for every channel:</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="comment">// Type of channel         $xx</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="comment">// Volume adjustment       $xx xx</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="comment">// Bits representing peak  $xx</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="comment">// Peak volume             $xx (xx ...)</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            $frame_idstring = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 0, $frame_terminatorpos);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">if</span> (ord($frame_idstring) === 0) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                $frame_idstring = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            $frame_remainingdata = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>));</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = $frame_idstring;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            $RVA2channelcounter = 0;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            <span class="keywordflow">while</span> (strlen($frame_remainingdata) &gt;= 5) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                $frame_offset = 0;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                $frame_channeltypeid = ord(substr($frame_remainingdata, $frame_offset++, 1));</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                $parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;channeltypeid&#39;</span>]  = $frame_channeltypeid;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                $parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;channeltype&#39;</span>]    = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a14b73dfae7c0b804d37420290ac66b2f">RVA2ChannelTypeLookup</a>($frame_channeltypeid);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                $parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;volumeadjust&#39;</span>]   = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, $frame_offset, 2), <span class="keyword">false</span>, <span class="keyword">true</span>); <span class="comment">// 16-bit signed</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                $frame_offset += 2;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                $parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;bitspeakvolume&#39;</span>] = ord(substr($frame_remainingdata, $frame_offset++, 1));</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                <span class="keywordflow">if</span> (($parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;bitspeakvolume&#39;</span>] &lt; 1) || ($parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;bitspeakvolume&#39;</span>] &gt; 4)) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2::RVA2 frame[&#39;</span>.$RVA2channelcounter.<span class="stringliteral">&#39;] contains invalid &#39;</span>.$parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;bitspeakvolume&#39;</span>].<span class="stringliteral">&#39;-byte bits-representing-peak value&#39;</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                $frame_bytespeakvolume = ceil($parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;bitspeakvolume&#39;</span>] / 8);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                $parsedFrame[$RVA2channelcounter][<span class="stringliteral">&#39;peakvolume&#39;</span>]     = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, $frame_offset, $frame_bytespeakvolume));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                $frame_remainingdata = substr($frame_remainingdata, $frame_offset + $frame_bytespeakvolume);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                $RVA2channelcounter++;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion == 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RVAD&#39;</span>)) || <span class="comment">// 4.12  RVAD Relative volume adjustment (ID3v2.3 only)</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                  (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RVA&#39;</span>))) {  <span class="comment">// 4.12  RVA  Relative volume adjustment (ID3v2.2 only)</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="comment">//   There may only be one &#39;RVA&#39; frame in each tag</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="comment">// &lt;Header for &#39;Relative volume adjustment&#39;, ID: &#39;RVA&#39;&gt;</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            <span class="comment">// ID3v2.2 =&gt; Increment/decrement     %000000ba</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="comment">// ID3v2.3 =&gt; Increment/decrement     %00fedcba</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="comment">// Bits used for volume descr.        $xx</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="comment">// Relative volume change, right      $xx xx (xx ...) // a</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="comment">// Relative volume change, left       $xx xx (xx ...) // b</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <span class="comment">// Peak volume right                  $xx xx (xx ...)</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <span class="comment">// Peak volume left                   $xx xx (xx ...)</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <span class="comment">//   ID3v2.3 only, optional (not present in ID3v2.2):</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="comment">// Relative volume change, right back $xx xx (xx ...) // c</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <span class="comment">// Relative volume change, left back  $xx xx (xx ...) // d</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <span class="comment">// Peak volume right back             $xx xx (xx ...)</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="comment">// Peak volume left back              $xx xx (xx ...)</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="comment">//   ID3v2.3 only, optional (not present in ID3v2.2):</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="comment">// Relative volume change, center     $xx xx (xx ...) // e</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <span class="comment">// Peak volume center                 $xx xx (xx ...)</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="comment">//   ID3v2.3 only, optional (not present in ID3v2.2):</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            <span class="comment">// Relative volume change, bass       $xx xx (xx ...) // f</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="comment">// Peak volume bass                   $xx xx (xx ...)</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            $frame_incrdecrflags = <a class="code" href="classgetid3__lib.html#adae348e1f834b543d3ddb5f60c50c14f">getid3_lib::BigEndian2Bin</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;right&#39;</span>] = (bool) substr($frame_incrdecrflags, 6, 1);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;left&#39;</span>]  = (bool) substr($frame_incrdecrflags, 7, 1);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bitsvolume&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            $frame_bytesvolume = ceil($parsedFrame[<span class="stringliteral">&#39;bitsvolume&#39;</span>] / 8);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;right&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;right&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;right&#39;</span>] *= -1;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;left&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;left&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;left&#39;</span>] *= -1;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;right&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;left&#39;</span>]  = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <span class="keywordflow">if</span> ($id3v2_majorversion == 3) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">if</span> (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &gt; 0) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;rightrear&#39;</span>] = (bool) substr($frame_incrdecrflags, 4, 1);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;leftrear&#39;</span>]  = (bool) substr($frame_incrdecrflags, 5, 1);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;rightrear&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;rightrear&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;rightrear&#39;</span>] *= -1;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;leftrear&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;leftrear&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;leftrear&#39;</span>] *= -1;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;rightrear&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;leftrear&#39;</span>]  = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                <span class="keywordflow">if</span> (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &gt; 0) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;center&#39;</span>] = (bool) substr($frame_incrdecrflags, 3, 1);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;center&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                    <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;center&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;center&#39;</span>] *= -1;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;center&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                <span class="keywordflow">if</span> (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &gt; 0) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;bass&#39;</span>] = (bool) substr($frame_incrdecrflags, 2, 1);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;bass&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    <span class="keywordflow">if</span> ($parsedFrame[<span class="stringliteral">&#39;incdec&#39;</span>][<span class="stringliteral">&#39;bass&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;volumechange&#39;</span>][<span class="stringliteral">&#39;bass&#39;</span>] *= -1;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;peakvolume&#39;</span>][<span class="stringliteral">&#39;bass&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesvolume));</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                    $frame_offset += $frame_bytesvolume;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 4) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;EQU2&#39;</span>)) { <span class="comment">// 4.12  EQU2 Equalisation (2) (ID3v2.4+ only)</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="comment">//   There may be more than one &#39;EQU2&#39; frame in each tag,</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            <span class="comment">//   but only one with the same identification string</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <span class="comment">// &lt;Header of &#39;Equalisation (2)&#39;, ID: &#39;EQU2&#39;&gt;</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <span class="comment">// Interpolation method  $xx</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            <span class="comment">//   $00  Band</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <span class="comment">//   $01  Linear</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <span class="comment">// Identification        &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <span class="comment">//   The following is then repeated for every adjustment point</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="comment">// Frequency          $xx xx</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="comment">// Volume adjustment  $xx xx</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            $frame_interpolationmethod = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            $frame_idstring = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="keywordflow">if</span> (ord($frame_idstring) === 0) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                $frame_idstring = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = $frame_idstring;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            $frame_remainingdata = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>));</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="keywordflow">while</span> (strlen($frame_remainingdata)) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                $frame_frequency = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, 0, 2)) / 2;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>][$frame_frequency] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, 2, 2), <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                $frame_remainingdata = substr($frame_remainingdata, 4);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;interpolationmethod&#39;</span>] = $frame_interpolationmethod;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion == 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;EQUA&#39;</span>)) || <span class="comment">// 4.12  EQUA Equalisation (ID3v2.3 only)</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;EQU&#39;</span>))) {     <span class="comment">// 4.13  EQU  Equalisation (ID3v2.2 only)</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="comment">//   There may only be one &#39;EQUA&#39; frame in each tag</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="comment">// &lt;Header for &#39;Relative volume adjustment&#39;, ID: &#39;EQU&#39;&gt;</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <span class="comment">// Adjustment bits    $xx</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="comment">//   This is followed by 2 bytes + (&#39;adjustment bits&#39; rounded up to the</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            <span class="comment">//   nearest byte) for every equalisation band in the following format,</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="comment">//   giving a frequency range of 0 - 32767Hz:</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <span class="comment">// Increment/decrement   %x (MSB of the Frequency)</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <span class="comment">// Frequency             (lower 15 bits)</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="comment">// Adjustment            $xx (xx ...)</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;adjustmentbits&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            $frame_adjustmentbytes = ceil($parsedFrame[<span class="stringliteral">&#39;adjustmentbits&#39;</span>] / 8);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            $frame_remainingdata = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="keywordflow">while</span> (strlen($frame_remainingdata) &gt; 0) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                $frame_frequencystr = <a class="code" href="classgetid3__lib.html#adae348e1f834b543d3ddb5f60c50c14f">getid3_lib::BigEndian2Bin</a>(substr($frame_remainingdata, 0, 2));</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                $frame_incdec    = (bool) substr($frame_frequencystr, 0, 1);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                $frame_frequency = bindec(substr($frame_frequencystr, 1, 15));</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                $parsedFrame[$frame_frequency][<span class="stringliteral">&#39;incdec&#39;</span>] = $frame_incdec;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                $parsedFrame[$frame_frequency][<span class="stringliteral">&#39;adjustment&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($frame_remainingdata, 2, $frame_adjustmentbytes));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <span class="keywordflow">if</span> ($parsedFrame[$frame_frequency][<span class="stringliteral">&#39;incdec&#39;</span>] === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    $parsedFrame[$frame_frequency][<span class="stringliteral">&#39;adjustment&#39;</span>] *= -1;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                $frame_remainingdata = substr($frame_remainingdata, 2 + $frame_adjustmentbytes);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RVRB&#39;</span>)) || <span class="comment">// 4.13  RVRB Reverb</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;REV&#39;</span>))) {     <span class="comment">// 4.14  REV  Reverb</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <span class="comment">//   There may only be one &#39;RVRB&#39; frame in each tag.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="comment">// &lt;Header for &#39;Reverb&#39;, ID: &#39;RVRB&#39;&gt;</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <span class="comment">// Reverb left (ms)                 $xx xx</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <span class="comment">// Reverb right (ms)                $xx xx</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="comment">// Reverb bounces, left             $xx</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <span class="comment">// Reverb bounces, right            $xx</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="comment">// Reverb feedback, left to left    $xx</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="comment">// Reverb feedback, left to right   $xx</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <span class="comment">// Reverb feedback, right to right  $xx</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            <span class="comment">// Reverb feedback, right to left   $xx</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="comment">// Premix left to right             $xx</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="comment">// Premix right to left             $xx</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;left&#39;</span>]  = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;right&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bouncesL&#39;</span>]      = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bouncesR&#39;</span>]      = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;feedbackLL&#39;</span>]    = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;feedbackLR&#39;</span>]    = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;feedbackRR&#39;</span>]    = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;feedbackRL&#39;</span>]    = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;premixLR&#39;</span>]      = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;premixRL&#39;</span>]      = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;APIC&#39;</span>)) || <span class="comment">// 4.14  APIC Attached picture</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;PIC&#39;</span>))) {     <span class="comment">// 4.15  PIC  Attached picture</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="comment">//   There may be several pictures attached to one file,</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">//   each in their individual &#39;APIC&#39; frame, but only one</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="comment">//   with the same content descriptor</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <span class="comment">// &lt;Header for &#39;Attached picture&#39;, ID: &#39;APIC&#39;&gt;</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="comment">// Text encoding      $xx</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <span class="comment">// ID3v2.3+ =&gt; MIME type          &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="comment">// ID3v2.2  =&gt; Image format       $xx xx xx</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="comment">// Picture type       $xx</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="comment">// Description        &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <span class="comment">// Picture data       &lt;binary data&gt;</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="keywordflow">if</span> ($id3v2_majorversion == 2 &amp;&amp; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &gt; $frame_offset) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                $frame_imagetype = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                <span class="keywordflow">if</span> (strtolower($frame_imagetype) == <span class="stringliteral">&#39;ima&#39;</span>) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                    <span class="comment">// complete hack for mp3Rage (www.chaoticsoftware.com) that puts ID3v2.3-formatted</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                    <span class="comment">// MIME type instead of 3-char ID3v2.2-format image type  (thanks xbhoffpacbell*net)</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                    $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    $frame_mimetype = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                    <span class="keywordflow">if</span> (ord($frame_mimetype) === 0) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                        $frame_mimetype = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                    }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                    $frame_imagetype = strtoupper(<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&#39;image/&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, strtolower($frame_mimetype)));</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                    <span class="keywordflow">if</span> ($frame_imagetype == <span class="stringliteral">&#39;JPEG&#39;</span>) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                        $frame_imagetype = <span class="stringliteral">&#39;JPG&#39;</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                    $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                    $frame_offset += 3;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <span class="keywordflow">if</span> ($id3v2_majorversion &gt; 2 &amp;&amp; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) &gt; $frame_offset) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                $frame_mimetype = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <span class="keywordflow">if</span> (ord($frame_mimetype) === 0) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                    $frame_mimetype = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            $frame_picturetype = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">if</span> ($frame_offset &gt;= $parsedFrame[<span class="stringliteral">&#39;datalength&#39;</span>]) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;data portion of APIC frame is missing at offset &#39;</span>.($parsedFrame[<span class="stringliteral">&#39;dataoffset&#39;</span>] + 8 + $frame_offset);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                    $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]       = $frame_textencoding;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]         = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <span class="keywordflow">if</span> ($id3v2_majorversion == 2) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;imagetype&#39;</span>]    = $frame_imagetype;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;mime&#39;</span>]         = $frame_mimetype;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;picturetypeid&#39;</span>]    = $frame_picturetype;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;picturetype&#39;</span>]      = $this-&gt;<a class="code" href="classgetid3__id3v2.html#afee3abb1693e8f5f9e41f1afc8fbab23">APICPictureTypeLookup</a>($frame_picturetype);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>]      = $frame_description;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]             = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator));</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;datalength&#39;</span>]       = strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;image_mime&#39;</span>] = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                $imageinfo = array();</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                $imagechunkcheck = <a class="code" href="classgetid3__lib.html#ae41ef91f05333c4b846f0db875d5ff33">getid3_lib::GetDataImageSize</a>($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $imageinfo);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                <span class="keywordflow">if</span> (($imagechunkcheck[2] &gt;= 1) &amp;&amp; ($imagechunkcheck[2] &lt;= 3)) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                    $parsedFrame[<span class="stringliteral">&#39;image_mime&#39;</span>]       = <span class="stringliteral">&#39;image/&#39;</span>.getid3_lib::ImageTypesLookup($imagechunkcheck[2]);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                    <span class="keywordflow">if</span> ($imagechunkcheck[0]) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;image_width&#39;</span>]  = $imagechunkcheck[0];</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                    <span class="keywordflow">if</span> ($imagechunkcheck[1]) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;image_height&#39;</span>] = $imagechunkcheck[1];</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                    }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                    <span class="keywordflow">if</span> ($this-&gt;getid3-&gt;option_save_attachments === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                        <span class="comment">// skip entirely</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                        unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                    }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                    <span class="keywordflow">if</span> ($this-&gt;getid3-&gt;option_save_attachments === <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                        <span class="comment">// great</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">                    } elseif (is_int($this-&gt;getid3-&gt;option_save_attachments)) {</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">                        if ($this-&gt;getid3-&gt;option_save_attachments &lt; $parsedFrame[&#39;data_length&#39;]) {</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">                            // too big, skip</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">                            $info[&#39;warning&#39;][] = &#39;attachment at &#39;.$frame_offset.&#39; is too large to process inline (&#39;.number_format($parsedFrame[&#39;data_length&#39;]).&#39; bytes)&#39;;</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">                            unset($parsedFrame[&#39;data&#39;]);</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="comment">                            break;</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment">                        }</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (is_string($this-&gt;getid3-&gt;option_save_attachments)) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                        <a class="code" href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a> = rtrim(<a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(array(<span class="charliteral">&#39;/&#39;</span>, <span class="charliteral">&#39;\\&#39;</span>), DIRECTORY_SEPARATOR, $this-&gt;getid3-&gt;option_save_attachments), DIRECTORY_SEPARATOR);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                        <span class="keywordflow">if</span> (!is_dir(<a class="code" href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>) || !is_writable(<a class="code" href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>)) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                            <span class="comment">// cannot write, skip</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;attachment at &#39;</span>.$frame_offset.<span class="stringliteral">&#39; cannot be saved to &quot;&#39;</span>.<a class="code" href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.<span class="stringliteral">&#39;&quot; (not writable)&#39;</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                        }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    <span class="comment">// if we get this far, must be OK</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    <span class="keywordflow">if</span> (is_string($this-&gt;getid3-&gt;option_save_attachments)) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        $destination_filename = <a class="code" href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.DIRECTORY_SEPARATOR.md5($info[<span class="stringliteral">&#39;filenamepath&#39;</span>]).<span class="charliteral">&#39;_&#39;</span>.$frame_offset;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                        <span class="keywordflow">if</span> (!file_exists($destination_filename) || is_writable($destination_filename)) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                            file_put_contents($destination_filename, $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                            $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;attachment at &#39;</span>.$frame_offset.<span class="stringliteral">&#39; cannot be saved to &quot;&#39;</span>.$destination_filename.<span class="stringliteral">&#39;&quot; (not writable)&#39;</span>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                        }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;data_filename&#39;</span>] = $destination_filename;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                        unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                        <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                            <span class="keywordflow">if</span> (!isset($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;picture&#39;</span>])) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;picture&#39;</span>] = array();</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                            }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                            $comments_picture_data = array();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                            <span class="keywordflow">foreach</span> (array(<span class="stringliteral">&#39;data&#39;</span>, <span class="stringliteral">&#39;image_mime&#39;</span>, <span class="stringliteral">&#39;image_width&#39;</span>, <span class="stringliteral">&#39;image_height&#39;</span>, <span class="stringliteral">&#39;imagetype&#39;</span>, <span class="stringliteral">&#39;picturetype&#39;</span>, <span class="stringliteral">&#39;description&#39;</span>, <span class="stringliteral">&#39;datalength&#39;</span>) as $picture_key) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                <span class="keywordflow">if</span> (isset($parsedFrame[$picture_key])) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                    $comments_picture_data[$picture_key] = $parsedFrame[$picture_key];</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                            }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                            $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][<span class="stringliteral">&#39;picture&#39;</span>][] = $comments_picture_data;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                            unset($comments_picture_data);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                        }</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                    }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                } <span class="keywordflow">while</span> (<span class="keyword">false</span>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;GEOB&#39;</span>)) || <span class="comment">// 4.15  GEOB General encapsulated object</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;GEO&#39;</span>))) {     <span class="comment">// 4.16  GEO  General encapsulated object</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="comment">//   There may be more than one &#39;GEOB&#39; frame in each tag,</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            <span class="comment">//   but only one with the same content descriptor</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="comment">// &lt;Header for &#39;General encapsulated object&#39;, ID: &#39;GEOB&#39;&gt;</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="comment">// Text encoding          $xx</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="comment">// MIME type              &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <span class="comment">// Filename               &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            <span class="comment">// Content description    &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            <span class="comment">// Encapsulated object    &lt;binary data&gt;</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            $frame_mimetype = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">if</span> (ord($frame_mimetype) === 0) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                $frame_mimetype = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            $frame_filename = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            <span class="keywordflow">if</span> (ord($frame_filename) === 0) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                $frame_filename = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            $frame_offset = $frame_terminatorpos + strlen($frame_textencoding_terminator);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            $frame_offset = $frame_terminatorpos + strlen($frame_textencoding_terminator);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;objectdata&#39;</span>]  = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]  = $frame_textencoding;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]    = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;mime&#39;</span>]        = $frame_mimetype;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;filename&#39;</span>]    = $frame_filename;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = $frame_description;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;PCNT&#39;</span>)) || <span class="comment">// 4.16  PCNT Play counter</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;CNT&#39;</span>))) {     <span class="comment">// 4.17  CNT  Play counter</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            <span class="comment">//   There may only be one &#39;PCNT&#39; frame in each tag.</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="comment">//   When the counter reaches all one&#39;s, one byte is inserted in</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            <span class="comment">//   front of the counter thus making the counter eight bits bigger</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            <span class="comment">// &lt;Header for &#39;Play counter&#39;, ID: &#39;PCNT&#39;&gt;</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="comment">// Counter        $xx xx xx xx (xx ...)</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]          = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;POPM&#39;</span>)) || <span class="comment">// 4.17  POPM Popularimeter</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;POP&#39;</span>))) {    <span class="comment">// 4.18  POP  Popularimeter</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="comment">//   There may be more than one &#39;POPM&#39; frame in each tag,</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            <span class="comment">//   but only one with the same email address</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="comment">// &lt;Header for &#39;Popularimeter&#39;, ID: &#39;POPM&#39;&gt;</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <span class="comment">// Email to user   &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="comment">// Rating          $xx</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="comment">// Counter         $xx xx xx xx (xx ...)</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            $frame_emailaddress = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <span class="keywordflow">if</span> (ord($frame_emailaddress) === 0) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                $frame_emailaddress = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            $frame_rating = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;counter&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset));</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;email&#39;</span>]   = $frame_emailaddress;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;rating&#39;</span>]  = $frame_rating;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RBUF&#39;</span>)) || <span class="comment">// 4.18  RBUF Recommended buffer size</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;BUF&#39;</span>))) {     <span class="comment">// 4.19  BUF  Recommended buffer size</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <span class="comment">//   There may only be one &#39;RBUF&#39; frame in each tag</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="comment">// &lt;Header for &#39;Recommended buffer size&#39;, ID: &#39;RBUF&#39;&gt;</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            <span class="comment">// Buffer size               $xx xx xx</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <span class="comment">// Embedded info flag        %0000000x</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="comment">// Offset to next tag        $xx xx xx xx</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;buffersize&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3));</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            $frame_offset += 3;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            $frame_embeddedinfoflags = <a class="code" href="classgetid3__lib.html#adae348e1f834b543d3ddb5f60c50c14f">getid3_lib::BigEndian2Bin</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;flags&#39;</span>][<span class="stringliteral">&#39;embededinfo&#39;</span>] = (bool) substr($frame_embeddedinfoflags, 7, 1);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;nexttagoffset&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;CRM&#39;</span>)) { <span class="comment">// 4.20  Encrypted meta frame (ID3v2.2 only)</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="comment">//   There may be more than one &#39;CRM&#39; frame in a tag,</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <span class="comment">//   but only one with the same &#39;owner identifier&#39;</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            <span class="comment">// &lt;Header for &#39;Encrypted meta frame&#39;, ID: &#39;CRM&#39;&gt;</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <span class="comment">// Owner identifier      &lt;textstring&gt; $00 (00)</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="comment">// Content/explanation   &lt;textstring&gt; $00 (00)</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="comment">// Encrypted datablock   &lt;binary data&gt;</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            $frame_ownerid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>]     = $frame_ownerid;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]        = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>] = $frame_description;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;AENC&#39;</span>)) || <span class="comment">// 4.19  AENC Audio encryption</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;CRA&#39;</span>))) {     <span class="comment">// 4.21  CRA  Audio encryption</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="comment">//   There may be more than one &#39;AENC&#39; frames in a tag,</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="comment">//   but only one with the same &#39;Owner identifier&#39;</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="comment">// &lt;Header for &#39;Audio encryption&#39;, ID: &#39;AENC&#39;&gt;</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="comment">// Owner identifier   &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="comment">// Preview start      $xx xx</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="comment">// Preview length     $xx xx</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <span class="comment">// Encryption info    &lt;binary data&gt;</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            $frame_ownerid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            <span class="keywordflow">if</span> (ord($frame_ownerid) === 0) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                $frame_ownerid == <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>] = $frame_ownerid;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;previewstart&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;previewlength&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encryptioninfo&#39;</span>] = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ((($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;LINK&#39;</span>)) || <span class="comment">// 4.20  LINK Linked information</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                (($id3v2_majorversion == 2) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;LNK&#39;</span>))) {    <span class="comment">// 4.22  LNK  Linked information</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="comment">//   There may be more than one &#39;LINK&#39; frame in a tag,</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            <span class="comment">//   but only one with the same contents</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="comment">// &lt;Header for &#39;Linked information&#39;, ID: &#39;LINK&#39;&gt;</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <span class="comment">// ID3v2.3+ =&gt; Frame identifier   $xx xx xx xx</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="comment">// ID3v2.2  =&gt; Frame identifier   $xx xx xx</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="comment">// URL                            &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <span class="comment">// ID and additional data         &lt;text string(s)&gt;</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keywordflow">if</span> ($id3v2_majorversion == 2) {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;frameid&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                $frame_offset += 3;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;frameid&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                $frame_offset += 4;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            $frame_url = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <span class="keywordflow">if</span> (ord($frame_url) === 0) {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                $frame_url = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>] = $frame_url;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;additionaldata&#39;</span>] = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; $parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = <a class="code" href="classgetid3__lib.html#a012fe6506194572058797f9bc115fcdb">getid3_lib::iconv_fallback_iso88591_utf8</a>($parsedFrame[<span class="stringliteral">&#39;url&#39;</span>]);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;POSS&#39;</span>)) { <span class="comment">// 4.21  POSS Position synchronisation frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="comment">//   There may only be one &#39;POSS&#39; frame in each tag</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="comment">// &lt;Head for &#39;Position synchronisation&#39;, ID: &#39;POSS&#39;&gt;</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="comment">// Time stamp format         $xx</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <span class="comment">// Position                  $xx (xx ...)</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;timestampformat&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;position&#39;</span>]        = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset));</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;USER&#39;</span>)) { <span class="comment">// 4.22  USER Terms of use (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="comment">//   There may be more than one &#39;Terms of use&#39; frame in a tag,</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="comment">//   but only one with the same &#39;Language&#39;</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <span class="comment">// &lt;Header for &#39;Terms of use frame&#39;, ID: &#39;USER&#39;&gt;</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <span class="comment">// Text encoding        $xx</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            <span class="comment">// Language             $xx xx xx</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            <span class="comment">// The actual text      &lt;text string according to encoding&gt;</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            $frame_language = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 3);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            $frame_offset += 3;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;language&#39;</span>]     = $frame_language;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;languagename&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">LanguageLookup</a>($frame_language, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]   = $frame_textencoding;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]     = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]         = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            <span class="keywordflow">if</span> (!empty($parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]) &amp;&amp; !empty($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;comments&#39;</span>][$parsedFrame[<span class="stringliteral">&#39;framenameshort&#39;</span>]][] = <a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;OWNE&#39;</span>)) { <span class="comment">// 4.23  OWNE Ownership frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <span class="comment">//   There may only be one &#39;OWNE&#39; frame in a tag</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <span class="comment">// &lt;Header for &#39;Ownership frame&#39;, ID: &#39;OWNE&#39;&gt;</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            <span class="comment">// Text encoding     $xx</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            <span class="comment">// Price paid        &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            <span class="comment">// Date of purch.    &lt;text string&gt;</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="comment">// Seller            &lt;text string according to encoding&gt;</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>] = $frame_textencoding;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            $frame_pricepaid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;pricepaid&#39;</span>][<span class="stringliteral">&#39;currencyid&#39;</span>] = substr($frame_pricepaid, 0, 3);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;pricepaid&#39;</span>][<span class="stringliteral">&#39;currency&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#adbcc1c0b8186f669b7e0b8ada17c6cc6">LookupCurrencyUnits</a>($parsedFrame[<span class="stringliteral">&#39;pricepaid&#39;</span>][<span class="stringliteral">&#39;currencyid&#39;</span>]);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;pricepaid&#39;</span>][<span class="stringliteral">&#39;value&#39;</span>]      = substr($frame_pricepaid, 3);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;purchasedate&#39;</span>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 8);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;            <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classgetid3__id3v2.html#a0fc0196b2b2bc0a0def170aec6c459aa">IsValidDateStampString</a>($parsedFrame[<span class="stringliteral">&#39;purchasedate&#39;</span>])) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;purchasedateunix&#39;</span>] = mktime (0, 0, 0, substr($parsedFrame[<span class="stringliteral">&#39;purchasedate&#39;</span>], 4, 2), substr($parsedFrame[<span class="stringliteral">&#39;purchasedate&#39;</span>], 6, 2), substr($parsedFrame[<span class="stringliteral">&#39;purchasedate&#39;</span>], 0, 4));</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            $frame_offset += 8;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;seller&#39;</span>] = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;COMR&#39;</span>)) { <span class="comment">// 4.24  COMR Commercial frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <span class="comment">//   There may be more than one &#39;commercial frame&#39; in a tag,</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <span class="comment">//   but no two may be identical</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="comment">// &lt;Header for &#39;Commercial frame&#39;, ID: &#39;COMR&#39;&gt;</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="comment">// Text encoding      $xx</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            <span class="comment">// Price string       &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="comment">// Valid until        &lt;text string&gt;</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <span class="comment">// Contact URL        &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            <span class="comment">// Received as        $xx</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="comment">// Name of seller     &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <span class="comment">// Description        &lt;text string according to encoding&gt; $00 (00)</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            <span class="comment">// Picture MIME type  &lt;string&gt; $00</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            <span class="comment">// Seller logo        &lt;binary data&gt;</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            $frame_textencoding = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            $frame_textencoding_terminator = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <span class="keywordflow">if</span> ((($id3v2_majorversion &lt;= 3) &amp;&amp; ($frame_textencoding &gt; 1)) || (($id3v2_majorversion == 4) &amp;&amp; ($frame_textencoding &gt; 3))) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;Invalid text encoding byte (&#39;</span>.$frame_textencoding.<span class="stringliteral">&#39;) in frame &quot;&#39;</span>.$parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>].<span class="stringliteral">&#39;&quot; - defaulting to ISO-8859-1 encoding&#39;</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                $frame_textencoding_terminator = <span class="stringliteral">&quot;\x00&quot;</span>;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            $frame_pricestring = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            $frame_rawpricearray = explode(<span class="charliteral">&#39;/&#39;</span>, $frame_pricestring);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">foreach</span> ($frame_rawpricearray as $key =&gt; $val) {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                $frame_currencyid = substr($val, 0, 3);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;price&#39;</span>][$frame_currencyid][<span class="stringliteral">&#39;currency&#39;</span>] = $this-&gt;<a class="code" href="classgetid3__id3v2.html#adbcc1c0b8186f669b7e0b8ada17c6cc6">LookupCurrencyUnits</a>($frame_currencyid);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;price&#39;</span>][$frame_currencyid][<span class="stringliteral">&#39;value&#39;</span>]    = substr($val, 3);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            $frame_datestring = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 8);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            $frame_offset += 8;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            $frame_contacturl = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            $frame_receivedasid = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            $frame_sellername = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">if</span> (ord($frame_sellername) === 0) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                $frame_sellername = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            $frame_offset = $frame_terminatorpos + strlen($frame_textencoding_terminator);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_textencoding_terminator, $frame_offset);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordflow">if</span> (ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_terminatorpos + strlen($frame_textencoding_terminator), 1)) === 0) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                $frame_terminatorpos++; <span class="comment">// strpos() fooled because 2nd byte of Unicode chars are often 0x00</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            $frame_description = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="keywordflow">if</span> (ord($frame_description) === 0) {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                $frame_description = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            $frame_offset = $frame_terminatorpos + strlen($frame_textencoding_terminator);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            $frame_mimetype = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            $frame_sellerlogo = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encodingid&#39;</span>]        = $frame_textencoding;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;encoding&#39;</span>]          = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($frame_textencoding);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;pricevaliduntil&#39;</span>]   = $frame_datestring;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;contacturl&#39;</span>]        = $frame_contacturl;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;receivedasid&#39;</span>]      = $frame_receivedasid;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;receivedas&#39;</span>]        = $this-&gt;<a class="code" href="classgetid3__id3v2.html#ae22e451e4d56e2348db9298800fd1901">COMRReceivedAsLookup</a>($frame_receivedasid);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;sellername&#39;</span>]        = $frame_sellername;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;description&#39;</span>]       = $frame_description;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;mime&#39;</span>]              = $frame_mimetype;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;logo&#39;</span>]              = $frame_sellerlogo;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;ENCR&#39;</span>)) { <span class="comment">// 4.25  ENCR Encryption method registration (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            <span class="comment">//   There may be several &#39;ENCR&#39; frames in a tag,</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="comment">//   but only one containing the same symbol</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="comment">//   and only one containing the same owner identifier</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <span class="comment">// &lt;Header for &#39;Encryption method registration&#39;, ID: &#39;ENCR&#39;&gt;</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="comment">// Owner identifier    &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="comment">// Method symbol       $xx</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            <span class="comment">// Encryption data     &lt;binary data&gt;</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            $frame_ownerid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <span class="keywordflow">if</span> (ord($frame_ownerid) === 0) {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                $frame_ownerid = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>]      = $frame_ownerid;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;methodsymbol&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]         = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;GRID&#39;</span>)) { <span class="comment">// 4.26  GRID Group identification registration (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="comment">//   There may be several &#39;GRID&#39; frames in a tag,</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            <span class="comment">//   but only one containing the same symbol</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <span class="comment">//   and only one containing the same owner identifier</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="comment">// &lt;Header for &#39;Group ID registration&#39;, ID: &#39;GRID&#39;&gt;</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="comment">// Owner identifier      &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="comment">// Group symbol          $xx</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="comment">// Group dependent data  &lt;binary data&gt;</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            $frame_ownerid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <span class="keywordflow">if</span> (ord($frame_ownerid) === 0) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                $frame_ownerid = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>]       = $frame_ownerid;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;groupsymbol&#39;</span>]   = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]          = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;PRIV&#39;</span>)) { <span class="comment">// 4.27  PRIV Private frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            <span class="comment">//   The tag may contain more than one &#39;PRIV&#39; frame</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            <span class="comment">//   but only with different contents</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <span class="comment">// &lt;Header for &#39;Private frame&#39;, ID: &#39;PRIV&#39;&gt;</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <span class="comment">// Owner identifier      &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            <span class="comment">// The private data      &lt;binary data&gt;</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            $frame_terminatorpos = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            $frame_ownerid = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_terminatorpos - $frame_offset);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keywordflow">if</span> (ord($frame_ownerid) === 0) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                $frame_ownerid = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            $frame_offset = $frame_terminatorpos + strlen(<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ownerid&#39;</span>] = $frame_ownerid;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]    = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 4) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;SIGN&#39;</span>)) { <span class="comment">// 4.28  SIGN Signature frame (ID3v2.4+ only)</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            <span class="comment">//   There may be more than one &#39;signature frame&#39; in a tag,</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="comment">//   but no two may be identical</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            <span class="comment">// &lt;Header for &#39;Signature frame&#39;, ID: &#39;SIGN&#39;&gt;</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <span class="comment">// Group symbol      $xx</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            <span class="comment">// Signature         &lt;binary data&gt;</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;groupsymbol&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]        = (string) substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 4) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;SEEK&#39;</span>)) { <span class="comment">// 4.29  SEEK Seek frame (ID3v2.4+ only)</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <span class="comment">//   There may only be one &#39;seek frame&#39; in a tag</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <span class="comment">// &lt;Header for &#39;Seek frame&#39;, ID: &#39;SEEK&#39;&gt;</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <span class="comment">// Minimum offset to next tag       $xx xx xx xx</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]          = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 4) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;ASPI&#39;</span>)) { <span class="comment">// 4.30  ASPI Audio seek point index (ID3v2.4+ only)</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="comment">//   There may only be one &#39;audio seek point index&#39; frame in a tag</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            <span class="comment">// &lt;Header for &#39;Seek Point Index&#39;, ID: &#39;ASPI&#39;&gt;</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            <span class="comment">// Indexed data start (S)         $xx xx xx xx</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="comment">// Indexed data length (L)        $xx xx xx xx</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="comment">// Number of index points (N)     $xx xx</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <span class="comment">// Bits per index point (b)       $xx</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <span class="comment">//   Then for every index point the following data is included:</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <span class="comment">// Fraction at index (Fi)          $xx (xx)</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;datastart&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;indexeddatalength&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;indexpoints&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;bitsperpoint&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset++, 1));</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            $frame_bytesperpoint = ceil($parsedFrame[<span class="stringliteral">&#39;bitsperpoint&#39;</span>] / 8);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; $parsedFrame[<span class="stringliteral">&#39;indexpoints&#39;</span>]; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;indexes&#39;</span>][<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $frame_bytesperpoint));</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                $frame_offset += $frame_bytesperpoint;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;RGAD&#39;</span>)) { <span class="comment">// Replay Gain Adjustment</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <span class="comment">// http://privatewww.essex.ac.uk/~djmrob/replaygain/file_format_id3v2.html</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <span class="comment">//   There may only be one &#39;RGAD&#39; frame in a tag</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <span class="comment">// &lt;Header for &#39;Replay Gain Adjustment&#39;, ID: &#39;RGAD&#39;&gt;</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            <span class="comment">// Peak Amplitude                      $xx $xx $xx $xx</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <span class="comment">// Radio Replay Gain Adjustment        %aaabbbcd %dddddddd</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            <span class="comment">// Audiophile Replay Gain Adjustment   %aaabbbcd %dddddddd</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <span class="comment">//   a - name code</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="comment">//   b - originator code</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="comment">//   c - sign bit</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <span class="comment">//   d - replay gain adjustment</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;peakamplitude&#39;</span>] = <a class="code" href="classgetid3__lib.html#afc38613d768c42746917cff285eac264">getid3_lib::BigEndian2Float</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            $rg_track_adjustment = <a class="code" href="classgetid3__lib.html#a7b33d46313aede2d044617f9be861fbf">getid3_lib::Dec2Bin</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            $rg_album_adjustment = <a class="code" href="classgetid3__lib.html#a7b33d46313aede2d044617f9be861fbf">getid3_lib::Dec2Bin</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            $frame_offset += 2;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]       = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_track_adjustment, 0, 3));</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_track_adjustment, 3, 3));</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;signbit&#39;</span>]    = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_track_adjustment, 6, 1));</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_track_adjustment, 7, 9));</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]       = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_album_adjustment, 0, 3));</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_album_adjustment, 3, 3));</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;signbit&#39;</span>]    = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_album_adjustment, 6, 1));</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = <a class="code" href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib::Bin2Dec</a>(substr($rg_album_adjustment, 7, 9));</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]       = <a class="code" href="classgetid3__lib.html#a0a877a93fb139677c4c114f475dc3e1a">getid3_lib::RGADnameLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = <a class="code" href="classgetid3__lib.html#a727de35418a909e7c9a0006ba7fc40e1">getid3_lib::RGADoriginatorLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>]);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = <a class="code" href="classgetid3__lib.html#a7f6c912256f040ec30b36febac875d54">getid3_lib::RGADadjustmentLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;signbit&#39;</span>]);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]       = <a class="code" href="classgetid3__lib.html#a0a877a93fb139677c4c114f475dc3e1a">getid3_lib::RGADnameLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>]);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = <a class="code" href="classgetid3__lib.html#a727de35418a909e7c9a0006ba7fc40e1">getid3_lib::RGADoriginatorLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>]);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = <a class="code" href="classgetid3__lib.html#a7f6c912256f040ec30b36febac875d54">getid3_lib::RGADadjustmentLookup</a>($parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>], $parsedFrame[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;signbit&#39;</span>]);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;peak&#39;</span>]       = $parsedFrame[<span class="stringliteral">&#39;peakamplitude&#39;</span>];</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = $parsedFrame[<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>];</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = $parsedFrame[<span class="stringliteral">&#39;track&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>];</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>] = $parsedFrame[<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;originator&#39;</span>];</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            $info[<span class="stringliteral">&#39;replay_gain&#39;</span>][<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>] = $parsedFrame[<span class="stringliteral">&#39;album&#39;</span>][<span class="stringliteral">&#39;adjustment&#39;</span>];</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            unset($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;CHAP&#39;</span>)) { <span class="comment">// CHAP Chapters frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            <span class="comment">// http://id3.org/id3v2-chapters-1.0</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <span class="comment">// &lt;ID3v2.3 or ID3v2.4 frame header, ID: &quot;CHAP&quot;&gt;           (10 bytes)</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <span class="comment">// Element ID      &lt;text string&gt; $00</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="comment">// Start time      $xx xx xx xx</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="comment">// End time        $xx xx xx xx</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="comment">// Start offset    $xx xx xx xx</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <span class="comment">// End offset      $xx xx xx xx</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;            <span class="comment">// &lt;Optional embedded sub-frames&gt;</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            @<a class="code" href="namespacelist.html">list</a>($parsedFrame[<span class="stringliteral">&#39;element_id&#39;</span>]) = explode(<span class="stringliteral">&quot;\x00&quot;</span>, $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 2);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            $frame_offset += strlen($parsedFrame[<span class="stringliteral">&#39;element_id&#39;</span>].<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;time_begin&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;time_end&#39;</span>]   = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <span class="keywordflow">if</span> (substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4) != <span class="stringliteral">&quot;\xFF\xFF\xFF\xFF&quot;</span>) {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                <span class="comment">// &quot;If these bytes are all set to 0xFF then the value should be ignored and the start time value should be utilized.&quot;</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;offset_begin&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            <span class="keywordflow">if</span> (substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4) != <span class="stringliteral">&quot;\xFF\xFF\xFF\xFF&quot;</span>) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                <span class="comment">// &quot;If these bytes are all set to 0xFF then the value should be ignored and the start time value should be utilized.&quot;</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;offset_end&#39;</span>]   = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            $frame_offset += 4;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            <span class="keywordflow">if</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;subframes&#39;</span>] = array();</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                <span class="keywordflow">while</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                    <span class="comment">// &lt;Optional embedded sub-frames&gt;</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    $subframe = array();</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                    $subframe[<span class="stringliteral">&#39;name&#39;</span>]      =                           substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                    $frame_offset += 4;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                    $subframe[<span class="stringliteral">&#39;size&#39;</span>]      = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                    $frame_offset += 4;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                    $subframe[<span class="stringliteral">&#39;flags_raw&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    $frame_offset += 2;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                    <span class="keywordflow">if</span> ($subframe[<span class="stringliteral">&#39;size&#39;</span>] &gt; (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) - $frame_offset)) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;CHAP subframe &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;name&#39;</span>].<span class="stringliteral">&#39;&quot; at frame offset &#39;</span>.$frame_offset.<span class="stringliteral">&#39; claims to be &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;size&#39;</span>].<span class="stringliteral">&#39;&quot; bytes, which is more than the available data (&#39;</span>.(strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) - $frame_offset).<span class="stringliteral">&#39; bytes)&#39;</span>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                    }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                    $subframe_rawdata = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $subframe[<span class="stringliteral">&#39;size&#39;</span>]);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                    $frame_offset += $subframe[<span class="stringliteral">&#39;size&#39;</span>];</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                    $subframe[<span class="stringliteral">&#39;encodingid&#39;</span>] = ord(substr($subframe_rawdata, 0, 1));</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                    $subframe[<span class="stringliteral">&#39;text&#39;</span>]       =     substr($subframe_rawdata, 1);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    $subframe[<span class="stringliteral">&#39;encoding&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($subframe[<span class="stringliteral">&#39;encodingid&#39;</span>]);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                    $encoding_converted_text = trim(<a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($subframe[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;encoding&#39;</span>], $subframe[<span class="stringliteral">&#39;text&#39;</span>]));;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                    <span class="keywordflow">switch</span> (substr($encoding_converted_text, 0, 2)) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                        <span class="keywordflow">case</span> <span class="stringliteral">&quot;\xFF\xFE&quot;</span>:</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                        <span class="keywordflow">case</span> <span class="stringliteral">&quot;\xFE\xFF&quot;</span>:</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                            <span class="keywordflow">switch</span> (strtoupper($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>])) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;ISO-8859-1&#39;</span>:</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-8&#39;</span>:</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                                    $encoding_converted_text = substr($encoding_converted_text, 2);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                                    <span class="comment">// remove unwanted byte-order-marks</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                                    <span class="comment">// ignore</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                            }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                            <span class="comment">// do not remove BOM</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                    }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                    <span class="keywordflow">if</span> (($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT2&#39;</span>) || ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT3&#39;</span>)) {</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                        <span class="keywordflow">if</span> ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT2&#39;</span>) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                            $parsedFrame[<span class="stringliteral">&#39;chapter_name&#39;</span>]        = $encoding_converted_text;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT3&#39;</span>) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                            $parsedFrame[<span class="stringliteral">&#39;chapter_description&#39;</span>] = $encoding_converted_text;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                        }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;subframes&#39;</span>][] = $subframe;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2.CHAP subframe &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;name&#39;</span>].<span class="stringliteral">&#39;&quot; not handled (only TIT2 and TIT3)&#39;</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                    }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                unset($subframe_rawdata, $subframe, $encoding_converted_text);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;            }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            $id3v2_chapter_entry = array();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keywordflow">foreach</span> (array(<span class="stringliteral">&#39;id&#39;</span>, <span class="stringliteral">&#39;time_begin&#39;</span>, <span class="stringliteral">&#39;time_end&#39;</span>, <span class="stringliteral">&#39;offset_begin&#39;</span>, <span class="stringliteral">&#39;offset_end&#39;</span>, <span class="stringliteral">&#39;chapter_name&#39;</span>, <span class="stringliteral">&#39;chapter_description&#39;</span>) as $id3v2_chapter_key) {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                <span class="keywordflow">if</span> (isset($parsedFrame[$id3v2_chapter_key])) {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                    $id3v2_chapter_entry[$id3v2_chapter_key] = $parsedFrame[$id3v2_chapter_key];</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            <span class="keywordflow">if</span> (!isset($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;chapters&#39;</span>])) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;chapters&#39;</span>] = array();</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            $info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;chapters&#39;</span>][] = $id3v2_chapter_entry;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            unset($id3v2_chapter_entry, $id3v2_chapter_key);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($id3v2_majorversion &gt;= 3) &amp;&amp; ($parsedFrame[<span class="stringliteral">&#39;frame_name&#39;</span>] == <span class="stringliteral">&#39;CTOC&#39;</span>)) { <span class="comment">// CTOC Chapters Table Of Contents frame (ID3v2.3+ only)</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            <span class="comment">// http://id3.org/id3v2-chapters-1.0</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="comment">// &lt;ID3v2.3 or ID3v2.4 frame header, ID: &quot;CTOC&quot;&gt;           (10 bytes)</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="comment">// Element ID      &lt;text string&gt; $00</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="comment">// CTOC flags        %xx</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            <span class="comment">// Entry count       $xx</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            <span class="comment">// Child Element ID  &lt;string&gt;$00   /* zero or more child CHAP or CTOC entries */</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <span class="comment">// &lt;Optional embedded sub-frames&gt;</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            $frame_offset = 0;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            @<a class="code" href="namespacelist.html">list</a>($parsedFrame[<span class="stringliteral">&#39;element_id&#39;</span>]) = explode(<span class="stringliteral">&quot;\x00&quot;</span>, $parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], 2);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            $frame_offset += strlen($parsedFrame[<span class="stringliteral">&#39;element_id&#39;</span>].<span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            $ctoc_flags_raw = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 1));</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            $frame_offset += 1;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;entry_count&#39;</span>] = ord(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 1));</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            $frame_offset += 1;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            $terminator_position = <a class="code" href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; $parsedFrame[<span class="stringliteral">&#39;entry_count&#39;</span>]; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++) {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                $terminator_position = strpos($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], <span class="stringliteral">&quot;\x00&quot;</span>, $frame_offset);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;child_element_ids&#39;</span>][<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>] = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $terminator_position - $frame_offset);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                $frame_offset = $terminator_position + 1;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ctoc_flags&#39;</span>][<span class="stringliteral">&#39;ordered&#39;</span>]   = (bool) ($ctoc_flags_raw &amp; 0x01);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            $parsedFrame[<span class="stringliteral">&#39;ctoc_flags&#39;</span>][<span class="stringliteral">&#39;top_level&#39;</span>] = (bool) ($ctoc_flags_raw &amp; 0x03);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            unset($ctoc_flags_raw, $terminator_position);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <span class="keywordflow">if</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                $parsedFrame[<span class="stringliteral">&#39;subframes&#39;</span>] = array();</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                <span class="keywordflow">while</span> ($frame_offset &lt; strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>])) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                    <span class="comment">// &lt;Optional embedded sub-frames&gt;</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                    $subframe = array();</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                    $subframe[<span class="stringliteral">&#39;name&#39;</span>]      =                           substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                    $frame_offset += 4;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                    $subframe[<span class="stringliteral">&#39;size&#39;</span>]      = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 4));</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                    $frame_offset += 4;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                    $subframe[<span class="stringliteral">&#39;flags_raw&#39;</span>] = <a class="code" href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib::BigEndian2Int</a>(substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, 2));</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                    $frame_offset += 2;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                    <span class="keywordflow">if</span> ($subframe[<span class="stringliteral">&#39;size&#39;</span>] &gt; (strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) - $frame_offset)) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;CTOS subframe &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;name&#39;</span>].<span class="stringliteral">&#39;&quot; at frame offset &#39;</span>.$frame_offset.<span class="stringliteral">&#39; claims to be &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;size&#39;</span>].<span class="stringliteral">&#39;&quot; bytes, which is more than the available data (&#39;</span>.(strlen($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>]) - $frame_offset).<span class="stringliteral">&#39; bytes)&#39;</span>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                    $subframe_rawdata = substr($parsedFrame[<span class="stringliteral">&#39;data&#39;</span>], $frame_offset, $subframe[<span class="stringliteral">&#39;size&#39;</span>]);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                    $frame_offset += $subframe[<span class="stringliteral">&#39;size&#39;</span>];</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                    $subframe[<span class="stringliteral">&#39;encodingid&#39;</span>] = ord(substr($subframe_rawdata, 0, 1));</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                    $subframe[<span class="stringliteral">&#39;text&#39;</span>]       =     substr($subframe_rawdata, 1);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                    $subframe[<span class="stringliteral">&#39;encoding&#39;</span>]   = $this-&gt;<a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($subframe[<span class="stringliteral">&#39;encodingid&#39;</span>]);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                    $encoding_converted_text = trim(<a class="code" href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib::iconv_fallback</a>($subframe[<span class="stringliteral">&#39;encoding&#39;</span>], $info[<span class="stringliteral">&#39;encoding&#39;</span>], $subframe[<span class="stringliteral">&#39;text&#39;</span>]));;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                    <span class="keywordflow">switch</span> (substr($encoding_converted_text, 0, 2)) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                        <span class="keywordflow">case</span> <span class="stringliteral">&quot;\xFF\xFE&quot;</span>:</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                        <span class="keywordflow">case</span> <span class="stringliteral">&quot;\xFE\xFF&quot;</span>:</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                            <span class="keywordflow">switch</span> (strtoupper($info[<span class="stringliteral">&#39;id3v2&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>])) {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;ISO-8859-1&#39;</span>:</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;UTF-8&#39;</span>:</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                                    $encoding_converted_text = substr($encoding_converted_text, 2);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                                    <span class="comment">// remove unwanted byte-order-marks</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                                    <span class="comment">// ignore</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                            }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                            <span class="comment">// do not remove BOM</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                    <span class="keywordflow">if</span> (($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT2&#39;</span>) || ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT3&#39;</span>)) {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                        <span class="keywordflow">if</span> ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT2&#39;</span>) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                            $parsedFrame[<span class="stringliteral">&#39;toc_name&#39;</span>]        = $encoding_converted_text;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                        } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ($subframe[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;TIT3&#39;</span>) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                            $parsedFrame[<span class="stringliteral">&#39;toc_description&#39;</span>] = $encoding_converted_text;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                        }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                        $parsedFrame[<span class="stringliteral">&#39;subframes&#39;</span>][] = $subframe;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                        $info[<span class="stringliteral">&#39;warning&#39;</span>][] = <span class="stringliteral">&#39;ID3v2.CTOC subframe &quot;&#39;</span>.$subframe[<span class="stringliteral">&#39;name&#39;</span>].<span class="stringliteral">&#39;&quot; not handled (only TIT2 and TIT3)&#39;</span>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                    }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                }</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                unset($subframe_rawdata, $subframe, $encoding_converted_text);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            }</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        }</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ae4a3ac7d63ad1db4004e47eaf3af546f"> 2155</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ae4a3ac7d63ad1db4004e47eaf3af546f">DeUnsynchronise</a>($data) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a>(<span class="stringliteral">&quot;\xFF\x00&quot;</span>, <span class="stringliteral">&quot;\xFF&quot;</span>, $data);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div>
<div class="line"><a name="l02159"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a49cda552bee0b7955d6e9cc5397b4d27"> 2159</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a49cda552bee0b7955d6e9cc5397b4d27">LookupExtendedHeaderRestrictionsTagSizeLimits</a>($index) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keyword">static</span> $LookupExtendedHeaderRestrictionsTagSizeLimits = array(</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;No more than 128 frames and 1 MB total tag size&#39;</span>,</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;No more than 64 frames and 128 KB total tag size&#39;</span>,</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;No more than 32 frames and 40 KB total tag size&#39;</span>,</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;No more than 32 frames and 4 KB total tag size&#39;</span>,</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        );</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordflow">return</span> (isset($LookupExtendedHeaderRestrictionsTagSizeLimits[$index]) ? $LookupExtendedHeaderRestrictionsTagSizeLimits[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#af37a558ff5f251988ed243b13fed2269"> 2169</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#af37a558ff5f251988ed243b13fed2269">LookupExtendedHeaderRestrictionsTextEncodings</a>($index) {</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keyword">static</span> $LookupExtendedHeaderRestrictionsTextEncodings = array(</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;No restrictions&#39;</span>,</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;Strings are only encoded with ISO-8859-1 or UTF-8&#39;</span>,</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        );</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="keywordflow">return</span> (isset($LookupExtendedHeaderRestrictionsTextEncodings[$index]) ? $LookupExtendedHeaderRestrictionsTextEncodings[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    }</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;</div>
<div class="line"><a name="l02177"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#acb88d5f1310c04cd345929dadc042aa3"> 2177</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#acb88d5f1310c04cd345929dadc042aa3">LookupExtendedHeaderRestrictionsTextFieldSize</a>($index) {</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="keyword">static</span> $LookupExtendedHeaderRestrictionsTextFieldSize = array(</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;No restrictions&#39;</span>,</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;No string is longer than 1024 characters&#39;</span>,</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;No string is longer than 128 characters&#39;</span>,</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;No string is longer than 30 characters&#39;</span>,</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        );</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <span class="keywordflow">return</span> (isset($LookupExtendedHeaderRestrictionsTextFieldSize[$index]) ? $LookupExtendedHeaderRestrictionsTextFieldSize[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div>
<div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a9430f5be086948b156b1e87feec920ae"> 2187</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a9430f5be086948b156b1e87feec920ae">LookupExtendedHeaderRestrictionsImageEncoding</a>($index) {</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <span class="keyword">static</span> $LookupExtendedHeaderRestrictionsImageEncoding = array(</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;No restrictions&#39;</span>,</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;Images are encoded only with PNG or JPEG&#39;</span>,</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        );</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">return</span> (isset($LookupExtendedHeaderRestrictionsImageEncoding[$index]) ? $LookupExtendedHeaderRestrictionsImageEncoding[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;</div>
<div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ae510c25328a6c0df5b117b4af3c403dd"> 2195</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ae510c25328a6c0df5b117b4af3c403dd">LookupExtendedHeaderRestrictionsImageSizeSize</a>($index) {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <span class="keyword">static</span> $LookupExtendedHeaderRestrictionsImageSizeSize = array(</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;No restrictions&#39;</span>,</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;All images are 256x256 pixels or smaller&#39;</span>,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;All images are 64x64 pixels or smaller&#39;</span>,</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;All images are exactly 64x64 pixels, unless required otherwise&#39;</span>,</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        );</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">return</span> (isset($LookupExtendedHeaderRestrictionsImageSizeSize[$index]) ? $LookupExtendedHeaderRestrictionsImageSizeSize[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#adbcc1c0b8186f669b7e0b8ada17c6cc6"> 2205</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#adbcc1c0b8186f669b7e0b8ada17c6cc6">LookupCurrencyUnits</a>($currencyid) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        $begin = __LINE__;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">        /** This is not a comment!</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">            AED Dirhams</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">            AFA Afghanis</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">            ALL Leke</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">            AMD Drams</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">            ANG Guilders</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">            AOA Kwanza</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="comment">            ARS Pesos</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="comment">            ATS Schillings</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">            AUD Dollars</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">            AWG Guilders</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">            AZM Manats</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">            BAM Convertible Marka</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">            BBD Dollars</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment">            BDT Taka</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">            BEF Francs</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">            BGL Leva</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">            BHD Dinars</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">            BIF Francs</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">            BMD Dollars</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">            BND Dollars</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">            BOB Bolivianos</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment">            BRL Brazil Real</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="comment">            BSD Dollars</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="comment">            BTN Ngultrum</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="comment">            BWP Pulas</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="comment">            BYR Rubles</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">            BZD Dollars</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="comment">            CAD Dollars</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="comment">            CDF Congolese Francs</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="comment">            CHF Francs</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="comment">            CLP Pesos</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="comment">            CNY Yuan Renminbi</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">            COP Pesos</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment">            CRC Colones</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment">            CUP Pesos</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">            CVE Escudos</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">            CYP Pounds</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">            CZK Koruny</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment">            DEM Deutsche Marks</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment">            DJF Francs</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment">            DKK Kroner</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="comment">            DOP Pesos</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="comment">            DZD Algeria Dinars</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="comment">            EEK Krooni</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="comment">            EGP Pounds</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="comment">            ERN Nakfa</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="comment">            ESP Pesetas</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;<span class="comment">            ETB Birr</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="comment">            EUR Euro</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="comment">            FIM Markkaa</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="comment">            FJD Dollars</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">            FKP Pounds</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="comment">            FRF Francs</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment">            GBP Pounds</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">            GEL Lari</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment">            GGP Pounds</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="comment">            GHC Cedis</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="comment">            GIP Pounds</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">            GMD Dalasi</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">            GNF Francs</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="comment">            GRD Drachmae</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="comment">            GTQ Quetzales</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="comment">            GYD Dollars</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="comment">            HKD Dollars</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">            HNL Lempiras</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">            HRK Kuna</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment">            HTG Gourdes</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">            HUF Forints</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">            IDR Rupiahs</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment">            IEP Pounds</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">            ILS New Shekels</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">            IMP Pounds</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">            INR Rupees</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="comment">            IQD Dinars</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">            IRR Rials</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">            ISK Kronur</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment">            ITL Lire</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="comment">            JEP Pounds</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="comment">            JMD Dollars</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="comment">            JOD Dinars</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="comment">            JPY Yen</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="comment">            KES Shillings</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment">            KGS Soms</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="comment">            KHR Riels</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="comment">            KMF Francs</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="comment">            KPW Won</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="comment">            KWD Dinars</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment">            KYD Dollars</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="comment">            KZT Tenge</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="comment">            LAK Kips</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">            LBP Pounds</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="comment">            LKR Rupees</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="comment">            LRD Dollars</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="comment">            LSL Maloti</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="comment">            LTL Litai</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="comment">            LUF Francs</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="comment">            LVL Lati</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="comment">            LYD Dinars</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">            MAD Dirhams</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">            MDL Lei</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="comment">            MGF Malagasy Francs</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="comment">            MKD Denars</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;<span class="comment">            MMK Kyats</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="comment">            MNT Tugriks</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="comment">            MOP Patacas</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="comment">            MRO Ouguiyas</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="comment">            MTL Liri</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;<span class="comment">            MUR Rupees</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;<span class="comment">            MVR Rufiyaa</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="comment">            MWK Kwachas</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="comment">            MXN Pesos</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="comment">            MYR Ringgits</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="comment">            MZM Meticais</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="comment">            NAD Dollars</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment">            NGN Nairas</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment">            NIO Gold Cordobas</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment">            NLG Guilders</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="comment">            NOK Krone</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment">            NPR Nepal Rupees</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment">            NZD Dollars</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">            OMR Rials</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">            PAB Balboa</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">            PEN Nuevos Soles</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">            PGK Kina</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">            PHP Pesos</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">            PKR Rupees</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="comment">            PLN Zlotych</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="comment">            PTE Escudos</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="comment">            PYG Guarani</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">            QAR Rials</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">            ROL Lei</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment">            RUR Rubles</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">            RWF Rwanda Francs</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment">            SAR Riyals</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">            SBD Dollars</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">            SCR Rupees</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">            SDD Dinars</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">            SEK Kronor</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">            SGD Dollars</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="comment">            SHP Pounds</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="comment">            SIT Tolars</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<span class="comment">            SKK Koruny</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="comment">            SLL Leones</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="comment">            SOS Shillings</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="comment">            SPL Luigini</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment">            SRG Guilders</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">            STD Dobras</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">            SVC Colones</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">            SYP Pounds</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">            SZL Emalangeni</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment">            THB Baht</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment">            TJR Rubles</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">            TMM Manats</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="comment">            TND Dinars</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="comment">            TOP Pa&#39;anga</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="comment">            TRL Liras</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="comment">            TTD Dollars</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<span class="comment">            TVD Tuvalu Dollars</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="comment">            TWD New Dollars</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">            TZS Shillings</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment">            UAH Hryvnia</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">            UGX Shillings</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">            USD Dollars</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="comment">            UYU Pesos</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<span class="comment">            UZS Sums</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="comment">            VAL Lire</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;<span class="comment">            VEB Bolivares</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="comment">            VND Dong</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="comment">            VUV Vatu</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<span class="comment">            WST Tala</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="comment">            XAF Francs</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="comment">            XAG Ounces</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">            XAU Ounces</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">            XCD Dollars</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">            XDR Special Drawing Rights</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;<span class="comment">            XPD Ounces</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="comment">            XPF Francs</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="comment">            XPT Ounces</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="comment">            YER Rials</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<span class="comment">            YUM New Dinars</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="comment">            ZAR Rand</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">            ZMK Kwacha</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">            ZWD Zimbabwe Dollars</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib::EmbeddedLookup</a>($currencyid, $begin, __LINE__, __FILE__, <span class="stringliteral">&#39;id3v2-currency-units&#39;</span>);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div>
<div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#aa192514ae2eed67288771f1fed029345"> 2402</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#aa192514ae2eed67288771f1fed029345">LookupCurrencyCountry</a>($currencyid) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        $begin = __LINE__;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="comment">        /** This is not a comment!</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<span class="comment">            AED United Arab Emirates</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;<span class="comment">            AFA Afghanistan</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;<span class="comment">            ALL Albania</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;<span class="comment">            AMD Armenia</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="comment">            ANG Netherlands Antilles</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">            AOA Angola</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">            ARS Argentina</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">            ATS Austria</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment">            AUD Australia</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">            AWG Aruba</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">            AZM Azerbaijan</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">            BAM Bosnia and Herzegovina</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">            BBD Barbados</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment">            BDT Bangladesh</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="comment">            BEF Belgium</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment">            BGL Bulgaria</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="comment">            BHD Bahrain</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment">            BIF Burundi</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">            BMD Bermuda</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="comment">            BND Brunei Darussalam</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="comment">            BOB Bolivia</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="comment">            BRL Brazil</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;<span class="comment">            BSD Bahamas</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;<span class="comment">            BTN Bhutan</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;<span class="comment">            BWP Botswana</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="comment">            BYR Belarus</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="comment">            BZD Belize</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;<span class="comment">            CAD Canada</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;<span class="comment">            CDF Congo/Kinshasa</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;<span class="comment">            CHF Switzerland</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;<span class="comment">            CLP Chile</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<span class="comment">            CNY China</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="comment">            COP Colombia</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="comment">            CRC Costa Rica</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;<span class="comment">            CUP Cuba</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;<span class="comment">            CVE Cape Verde</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;<span class="comment">            CYP Cyprus</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<span class="comment">            CZK Czech Republic</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="comment">            DEM Germany</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">            DJF Djibouti</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="comment">            DKK Denmark</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="comment">            DOP Dominican Republic</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;<span class="comment">            DZD Algeria</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="comment">            EEK Estonia</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment">            EGP Egypt</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="comment">            ERN Eritrea</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="comment">            ESP Spain</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="comment">            ETB Ethiopia</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">            EUR Euro Member Countries</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="comment">            FIM Finland</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="comment">            FJD Fiji</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="comment">            FKP Falkland Islands (Malvinas)</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="comment">            FRF France</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;<span class="comment">            GBP United Kingdom</span></div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;<span class="comment">            GEL Georgia</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;<span class="comment">            GGP Guernsey</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment">            GHC Ghana</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;<span class="comment">            GIP Gibraltar</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment">            GMD Gambia</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">            GNF Guinea</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment">            GRD Greece</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="comment">            GTQ Guatemala</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="comment">            GYD Guyana</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="comment">            HKD Hong Kong</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;<span class="comment">            HNL Honduras</span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="comment">            HRK Croatia</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="comment">            HTG Haiti</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="comment">            HUF Hungary</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="comment">            IDR Indonesia</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="comment">            IEP Ireland (Eire)</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="comment">            ILS Israel</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="comment">            IMP Isle of Man</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="comment">            INR India</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="comment">            IQD Iraq</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="comment">            IRR Iran</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="comment">            ISK Iceland</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">            ITL Italy</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">            JEP Jersey</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">            JMD Jamaica</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">            JOD Jordan</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="comment">            JPY Japan</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="comment">            KES Kenya</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="comment">            KGS Kyrgyzstan</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="comment">            KHR Cambodia</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment">            KMF Comoros</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="comment">            KPW Korea</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;<span class="comment">            KWD Kuwait</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;<span class="comment">            KYD Cayman Islands</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;<span class="comment">            KZT Kazakstan</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;<span class="comment">            LAK Laos</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;<span class="comment">            LBP Lebanon</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;<span class="comment">            LKR Sri Lanka</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;<span class="comment">            LRD Liberia</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="comment">            LSL Lesotho</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;<span class="comment">            LTL Lithuania</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="comment">            LUF Luxembourg</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="comment">            LVL Latvia</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<span class="comment">            LYD Libya</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="comment">            MAD Morocco</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="comment">            MDL Moldova</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;<span class="comment">            MGF Madagascar</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;<span class="comment">            MKD Macedonia</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<span class="comment">            MMK Myanmar (Burma)</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;<span class="comment">            MNT Mongolia</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="comment">            MOP Macau</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;<span class="comment">            MRO Mauritania</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;<span class="comment">            MTL Malta</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;<span class="comment">            MUR Mauritius</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;<span class="comment">            MVR Maldives (Maldive Islands)</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;<span class="comment">            MWK Malawi</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;<span class="comment">            MXN Mexico</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;<span class="comment">            MYR Malaysia</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;<span class="comment">            MZM Mozambique</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="comment">            NAD Namibia</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">            NGN Nigeria</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<span class="comment">            NIO Nicaragua</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="comment">            NLG Netherlands (Holland)</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="comment">            NOK Norway</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="comment">            NPR Nepal</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="comment">            NZD New Zealand</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="comment">            OMR Oman</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="comment">            PAB Panama</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="comment">            PEN Peru</span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment">            PGK Papua New Guinea</span></div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">            PHP Philippines</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">            PKR Pakistan</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="comment">            PLN Poland</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment">            PTE Portugal</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="comment">            PYG Paraguay</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;<span class="comment">            QAR Qatar</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="comment">            ROL Romania</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="comment">            RUR Russia</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="comment">            RWF Rwanda</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment">            SAR Saudi Arabia</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment">            SBD Solomon Islands</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment">            SCR Seychelles</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">            SDD Sudan</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="comment">            SEK Sweden</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;<span class="comment">            SGD Singapore</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;<span class="comment">            SHP Saint Helena</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;<span class="comment">            SIT Slovenia</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="comment">            SKK Slovakia</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="comment">            SLL Sierra Leone</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="comment">            SOS Somalia</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="comment">            SPL Seborga</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;<span class="comment">            SRG Suriname</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;<span class="comment">            STD So Tome and Principe</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;<span class="comment">            SVC El Salvador</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;<span class="comment">            SYP Syria</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;<span class="comment">            SZL Swaziland</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;<span class="comment">            THB Thailand</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;<span class="comment">            TJR Tajikistan</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;<span class="comment">            TMM Turkmenistan</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="comment">            TND Tunisia</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="comment">            TOP Tonga</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="comment">            TRL Turkey</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;<span class="comment">            TTD Trinidad and Tobago</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;<span class="comment">            TVD Tuvalu</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;<span class="comment">            TWD Taiwan</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="comment">            TZS Tanzania</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;<span class="comment">            UAH Ukraine</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;<span class="comment">            UGX Uganda</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<span class="comment">            USD United States of America</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;<span class="comment">            UYU Uruguay</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="comment">            UZS Uzbekistan</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;<span class="comment">            VAL Vatican City</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;<span class="comment">            VEB Venezuela</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;<span class="comment">            VND Viet Nam</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="comment">            VUV Vanuatu</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="comment">            WST Samoa</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="comment">            XAF Communaut Financire Africaine</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;<span class="comment">            XAG Silver</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;<span class="comment">            XAU Gold</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;<span class="comment">            XCD East Caribbean</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;<span class="comment">            XDR International Monetary Fund</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;<span class="comment">            XPD Palladium</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;<span class="comment">            XPF Comptoirs Franais du Pacifique</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;<span class="comment">            XPT Platinum</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;<span class="comment">            YER Yemen</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;<span class="comment">            YUM Yugoslavia</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;<span class="comment">            ZAR South Africa</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;<span class="comment">            ZMK Zambia</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;<span class="comment">            ZWD Zimbabwe</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib::EmbeddedLookup</a>($currencyid, $begin, __LINE__, __FILE__, <span class="stringliteral">&#39;id3v2-currency-country&#39;</span>);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    }</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div>
<div class="line"><a name="l02599"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5"> 2599</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">LanguageLookup</a>($languagecode, $casesensitive=<span class="keyword">false</span>) {</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <span class="keywordflow">if</span> (!$casesensitive) {</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;            $languagecode = strtolower($languagecode);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        }</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="comment">// http://www.id3.org/id3v2.4.0-structure.txt</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        <span class="comment">// [4.   ID3v2 frame overview]</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="comment">// The three byte language field, present in several frames, is used to</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        <span class="comment">// describe the language of the frame&#39;s content, according to ISO-639-2</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        <span class="comment">// [ISO-639-2]. The language should be represented in lower case. If the</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <span class="comment">// language is not known the string &quot;XXX&quot; should be used.</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="comment">// ISO 639-2 - http://www.id3.org/iso639-2.html</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        $begin = __LINE__;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="comment">        /** This is not a comment!</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="comment">            XXX unknown</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="comment">            xxx unknown</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="comment">            aar Afar</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="comment">            abk Abkhazian</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="comment">            ace Achinese</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="comment">            ach Acoli</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;<span class="comment">            ada Adangme</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<span class="comment">            afa Afro-Asiatic (Other)</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="comment">            afh Afrihili</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="comment">            afr Afrikaans</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment">            aka Akan</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="comment">            akk Akkadian</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="comment">            alb Albanian</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment">            ale Aleut</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="comment">            alg Algonquian Languages</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="comment">            amh Amharic</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment">            ang English, Old (ca. 450-1100)</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">            apa Apache Languages</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="comment">            ara Arabic</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="comment">            arc Aramaic</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="comment">            arm Armenian</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="comment">            arn Araucanian</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;<span class="comment">            arp Arapaho</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="comment">            art Artificial (Other)</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="comment">            arw Arawak</span></div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;<span class="comment">            asm Assamese</span></div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="comment">            ath Athapascan Languages</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="comment">            ava Avaric</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="comment">            ave Avestan</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="comment">            awa Awadhi</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="comment">            aym Aymara</span></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<span class="comment">            aze Azerbaijani</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="comment">            bad Banda</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="comment">            bai Bamileke Languages</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="comment">            bak Bashkir</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment">            bal Baluchi</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="comment">            bam Bambara</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="comment">            ban Balinese</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="comment">            baq Basque</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="comment">            bas Basa</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="comment">            bat Baltic (Other)</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;<span class="comment">            bej Beja</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="comment">            bel Byelorussian</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="comment">            bem Bemba</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;<span class="comment">            ben Bengali</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="comment">            ber Berber (Other)</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="comment">            bho Bhojpuri</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="comment">            bih Bihari</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="comment">            bik Bikol</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="comment">            bin Bini</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;<span class="comment">            bis Bislama</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;<span class="comment">            bla Siksika</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;<span class="comment">            bnt Bantu (Other)</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="comment">            bod Tibetan</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;<span class="comment">            bra Braj</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;<span class="comment">            bre Breton</span></div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;<span class="comment">            bua Buriat</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="comment">            bug Buginese</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;<span class="comment">            bul Bulgarian</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;<span class="comment">            bur Burmese</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;<span class="comment">            cad Caddo</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;<span class="comment">            cai Central American Indian (Other)</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;<span class="comment">            car Carib</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<span class="comment">            cat Catalan</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="comment">            cau Caucasian (Other)</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;<span class="comment">            ceb Cebuano</span></div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="comment">            cel Celtic (Other)</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="comment">            ces Czech</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="comment">            cha Chamorro</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="comment">            chb Chibcha</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;<span class="comment">            che Chechen</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="comment">            chg Chagatai</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="comment">            chi Chinese</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="comment">            chm Mari</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="comment">            chn Chinook jargon</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="comment">            cho Choctaw</span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;<span class="comment">            chr Cherokee</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="comment">            chu Church Slavic</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="comment">            chv Chuvash</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="comment">            chy Cheyenne</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="comment">            cop Coptic</span></div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="comment">            cor Cornish</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="comment">            cos Corsican</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="comment">            cpe Creoles and Pidgins, English-based (Other)</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="comment">            cpf Creoles and Pidgins, French-based (Other)</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<span class="comment">            cpp Creoles and Pidgins, Portuguese-based (Other)</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="comment">            cre Cree</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="comment">            crp Creoles and Pidgins (Other)</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="comment">            cus Cushitic (Other)</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="comment">            cym Welsh</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="comment">            cze Czech</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;<span class="comment">            dak Dakota</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="comment">            dan Danish</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="comment">            del Delaware</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="comment">            deu German</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="comment">            din Dinka</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="comment">            div Divehi</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="comment">            doi Dogri</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="comment">            dra Dravidian (Other)</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="comment">            dua Duala</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="comment">            dum Dutch, Middle (ca. 1050-1350)</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="comment">            dut Dutch</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="comment">            dyu Dyula</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="comment">            dzo Dzongkha</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="comment">            efi Efik</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="comment">            egy Egyptian (Ancient)</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;<span class="comment">            eka Ekajuk</span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="comment">            ell Greek, Modern (1453-)</span></div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="comment">            elx Elamite</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="comment">            eng English</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="comment">            enm English, Middle (ca. 1100-1500)</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="comment">            epo Esperanto</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">            esk Eskimo (Other)</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="comment">            esl Spanish</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="comment">            est Estonian</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;<span class="comment">            eus Basque</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="comment">            ewe Ewe</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="comment">            ewo Ewondo</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;<span class="comment">            fan Fang</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="comment">            fao Faroese</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment">            fas Persian</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="comment">            fat Fanti</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="comment">            fij Fijian</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;<span class="comment">            fin Finnish</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;<span class="comment">            fiu Finno-Ugrian (Other)</span></div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;<span class="comment">            fon Fon</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;<span class="comment">            fra French</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;<span class="comment">            fre French</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="comment">            frm French, Middle (ca. 1400-1600)</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="comment">            fro French, Old (842- ca. 1400)</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="comment">            fry Frisian</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="comment">            ful Fulah</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="comment">            gaa Ga</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="comment">            gae Gaelic (Scots)</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="comment">            gai Irish</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;<span class="comment">            gay Gayo</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="comment">            gdh Gaelic (Scots)</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="comment">            gem Germanic (Other)</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="comment">            geo Georgian</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="comment">            ger German</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="comment">            gez Geez</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="comment">            gil Gilbertese</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="comment">            glg Gallegan</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment">            gmh German, Middle High (ca. 1050-1500)</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="comment">            goh German, Old High (ca. 750-1050)</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="comment">            gon Gondi</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;<span class="comment">            got Gothic</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="comment">            grb Grebo</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">            grc Greek, Ancient (to 1453)</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="comment">            gre Greek, Modern (1453-)</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;<span class="comment">            grn Guarani</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;<span class="comment">            guj Gujarati</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="comment">            hai Haida</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="comment">            hau Hausa</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="comment">            haw Hawaiian</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="comment">            heb Hebrew</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment">            her Herero</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">            hil Hiligaynon</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="comment">            him Himachali</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="comment">            hin Hindi</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="comment">            hmo Hiri Motu</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="comment">            hun Hungarian</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment">            hup Hupa</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="comment">            hye Armenian</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="comment">            iba Iban</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="comment">            ibo Igbo</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="comment">            ice Icelandic</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;<span class="comment">            ijo Ijo</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="comment">            iku Inuktitut</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="comment">            ilo Iloko</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="comment">            ina Interlingua (International Auxiliary language Association)</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="comment">            inc Indic (Other)</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="comment">            ind Indonesian</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="comment">            ine Indo-European (Other)</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="comment">            ine Interlingue</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="comment">            ipk Inupiak</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="comment">            ira Iranian (Other)</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="comment">            iri Irish</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="comment">            iro Iroquoian uages</span></div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="comment">            isl Icelandic</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="comment">            ita Italian</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;<span class="comment">            jav Javanese</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment">            jaw Javanese</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="comment">            jpn Japanese</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="comment">            jpr Judeo-Persian</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="comment">            jrb Judeo-Arabic</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="comment">            kaa Kara-Kalpak</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="comment">            kab Kabyle</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="comment">            kac Kachin</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="comment">            kal Greenlandic</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="comment">            kam Kamba</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="comment">            kan Kannada</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="comment">            kar Karen</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="comment">            kas Kashmiri</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="comment">            kat Georgian</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="comment">            kau Kanuri</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="comment">            kaw Kawi</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">            kaz Kazakh</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">            kha Khasi</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">            khi Khoisan (Other)</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">            khm Khmer</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="comment">            kho Khotanese</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="comment">            kik Kikuyu</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;<span class="comment">            kin Kinyarwanda</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;<span class="comment">            kir Kirghiz</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="comment">            kok Konkani</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;<span class="comment">            kom Komi</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;<span class="comment">            kon Kongo</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="comment">            kor Korean</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;<span class="comment">            kpe Kpelle</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="comment">            kro Kru</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="comment">            kru Kurukh</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="comment">            kua Kuanyama</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;<span class="comment">            kum Kumyk</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;<span class="comment">            kur Kurdish</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;<span class="comment">            kus Kusaie</span></div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="comment">            kut Kutenai</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">            lad Ladino</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="comment">            lah Lahnda</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="comment">            lam Lamba</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;<span class="comment">            lao Lao</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;<span class="comment">            lat Latin</span></div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="comment">            lav Latvian</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;<span class="comment">            lez Lezghian</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<span class="comment">            lin Lingala</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;<span class="comment">            lit Lithuanian</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<span class="comment">            lol Mongo</span></div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;<span class="comment">            loz Lozi</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;<span class="comment">            ltz Letzeburgesch</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<span class="comment">            lub Luba-Katanga</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="comment">            lug Ganda</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="comment">            lui Luiseno</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="comment">            lun Lunda</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment">            luo Luo (Kenya and Tanzania)</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment">            mac Macedonian</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment">            mad Madurese</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">            mag Magahi</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="comment">            mah Marshall</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="comment">            mai Maithili</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;<span class="comment">            mak Macedonian</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="comment">            mak Makasar</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="comment">            mal Malayalam</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="comment">            man Mandingo</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="comment">            mao Maori</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="comment">            map Austronesian (Other)</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="comment">            mar Marathi</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="comment">            mas Masai</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="comment">            max Manx</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="comment">            may Malay</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;<span class="comment">            men Mende</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="comment">            mga Irish, Middle (900 - 1200)</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="comment">            mic Micmac</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="comment">            min Minangkabau</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="comment">            mis Miscellaneous (Other)</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="comment">            mkh Mon-Kmer (Other)</span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment">            mlg Malagasy</span></div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="comment">            mlt Maltese</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;<span class="comment">            mni Manipuri</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;<span class="comment">            mno Manobo Languages</span></div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;<span class="comment">            moh Mohawk</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;<span class="comment">            mol Moldavian</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;<span class="comment">            mon Mongolian</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="comment">            mos Mossi</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;<span class="comment">            mri Maori</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;<span class="comment">            msa Malay</span></div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="comment">            mul Multiple Languages</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="comment">            mun Munda Languages</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="comment">            mus Creek</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;<span class="comment">            mwr Marwari</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<span class="comment">            mya Burmese</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;<span class="comment">            myn Mayan Languages</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;<span class="comment">            nah Aztec</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;<span class="comment">            nai North American Indian (Other)</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;<span class="comment">            nau Nauru</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="comment">            nav Navajo</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;<span class="comment">            nbl Ndebele, South</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;<span class="comment">            nde Ndebele, North</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;<span class="comment">            ndo Ndongo</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;<span class="comment">            nep Nepali</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="comment">            new Newari</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="comment">            nic Niger-Kordofanian (Other)</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="comment">            niu Niuean</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment">            nla Dutch</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="comment">            nno Norwegian (Nynorsk)</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="comment">            non Norse, Old</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;<span class="comment">            nor Norwegian</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;<span class="comment">            nso Sotho, Northern</span></div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;<span class="comment">            nub Nubian Languages</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<span class="comment">            nya Nyanja</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;<span class="comment">            nym Nyamwezi</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;<span class="comment">            nyn Nyankole</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;<span class="comment">            nyo Nyoro</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="comment">            nzi Nzima</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="comment">            oci Langue d&#39;Oc (post 1500)</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="comment">            oji Ojibwa</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="comment">            ori Oriya</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="comment">            orm Oromo</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;<span class="comment">            osa Osage</span></div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<span class="comment">            oss Ossetic</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;<span class="comment">            ota Turkish, Ottoman (1500 - 1928)</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;<span class="comment">            oto Otomian Languages</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;<span class="comment">            paa Papuan-Australian (Other)</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<span class="comment">            pag Pangasinan</span></div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="comment">            pal Pahlavi</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="comment">            pam Pampanga</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;<span class="comment">            pan Panjabi</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="comment">            pap Papiamento</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;<span class="comment">            pau Palauan</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;<span class="comment">            peo Persian, Old (ca 600 - 400 B.C.)</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment">            per Persian</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;<span class="comment">            phn Phoenician</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="comment">            pli Pali</span></div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;<span class="comment">            pol Polish</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;<span class="comment">            pon Ponape</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;<span class="comment">            por Portuguese</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="comment">            pra Prakrit uages</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;<span class="comment">            pro Provencal, Old (to 1500)</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="comment">            pus Pushto</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;<span class="comment">            que Quechua</span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;<span class="comment">            raj Rajasthani</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;<span class="comment">            rar Rarotongan</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="comment">            roa Romance (Other)</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment">            roh Rhaeto-Romance</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="comment">            rom Romany</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="comment">            ron Romanian</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="comment">            rum Romanian</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="comment">            run Rundi</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="comment">            rus Russian</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="comment">            sad Sandawe</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<span class="comment">            sag Sango</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="comment">            sah Yakut</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="comment">            sai South American Indian (Other)</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="comment">            sal Salishan Languages</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="comment">            sam Samaritan Aramaic</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="comment">            san Sanskrit</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="comment">            sco Scots</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="comment">            scr Serbo-Croatian</span></div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="comment">            sel Selkup</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="comment">            sem Semitic (Other)</span></div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="comment">            sga Irish, Old (to 900)</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="comment">            shn Shan</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;<span class="comment">            sid Sidamo</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;<span class="comment">            sin Singhalese</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="comment">            sio Siouan Languages</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;<span class="comment">            sit Sino-Tibetan (Other)</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;<span class="comment">            sla Slavic (Other)</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;<span class="comment">            slk Slovak</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;<span class="comment">            slo Slovak</span></div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;<span class="comment">            slv Slovenian</span></div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;<span class="comment">            smi Sami Languages</span></div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;<span class="comment">            smo Samoan</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;<span class="comment">            sna Shona</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<span class="comment">            snd Sindhi</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;<span class="comment">            sog Sogdian</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="comment">            som Somali</span></div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="comment">            son Songhai</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment">            sot Sotho, Southern</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="comment">            spa Spanish</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<span class="comment">            sqi Albanian</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;<span class="comment">            srd Sardinian</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="comment">            srr Serer</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;<span class="comment">            ssa Nilo-Saharan (Other)</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="comment">            ssw Siswant</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;<span class="comment">            ssw Swazi</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="comment">            suk Sukuma</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="comment">            sun Sudanese</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="comment">            sus Susu</span></div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="comment">            sux Sumerian</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<span class="comment">            sve Swedish</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;<span class="comment">            swa Swahili</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="comment">            swe Swedish</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="comment">            syr Syriac</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="comment">            tah Tahitian</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;<span class="comment">            tam Tamil</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="comment">            tat Tatar</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="comment">            tel Telugu</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<span class="comment">            tem Timne</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="comment">            ter Tereno</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;<span class="comment">            tgk Tajik</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<span class="comment">            tgl Tagalog</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<span class="comment">            tha Thai</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;<span class="comment">            tib Tibetan</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="comment">            tig Tigre</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="comment">            tir Tigrinya</span></div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<span class="comment">            tiv Tivi</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;<span class="comment">            tli Tlingit</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;<span class="comment">            tmh Tamashek</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="comment">            tog Tonga (Nyasa)</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="comment">            ton Tonga (Tonga Islands)</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;<span class="comment">            tru Truk</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="comment">            tsi Tsimshian</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="comment">            tsn Tswana</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="comment">            tso Tsonga</span></div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="comment">            tuk Turkmen</span></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="comment">            tum Tumbuka</span></div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="comment">            tur Turkish</span></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment">            tut Altaic (Other)</span></div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="comment">            twi Twi</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="comment">            tyv Tuvinian</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="comment">            uga Ugaritic</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="comment">            uig Uighur</span></div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;<span class="comment">            ukr Ukrainian</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="comment">            umb Umbundu</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="comment">            und Undetermined</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="comment">            urd Urdu</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="comment">            uzb Uzbek</span></div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="comment">            vai Vai</span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="comment">            ven Venda</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="comment">            vie Vietnamese</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="comment">            vol Volapk</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="comment">            vot Votic</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="comment">            wak Wakashan Languages</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="comment">            wal Walamo</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="comment">            war Waray</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="comment">            was Washo</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">            wel Welsh</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">            wen Sorbian Languages</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">            wol Wolof</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="comment">            xho Xhosa</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="comment">            yao Yao</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="comment">            yap Yap</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;<span class="comment">            yid Yiddish</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;<span class="comment">            yor Yoruba</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;<span class="comment">            zap Zapotec</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;<span class="comment">            zen Zenaga</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<span class="comment">            zha Zhuang</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<span class="comment">            zho Chinese</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="comment">            zul Zulu</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="comment">            zun Zuni</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib::EmbeddedLookup</a>($languagecode, $begin, __LINE__, __FILE__, <span class="stringliteral">&#39;id3v2-languagecode&#39;</span>);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    }</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;</div>
<div class="line"><a name="l03055"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a852f9a7fde0cefa411d86bab885a96f4"> 3055</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a852f9a7fde0cefa411d86bab885a96f4">ETCOEventLookup</a>($index) {</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        <span class="keywordflow">if</span> (($index &gt;= 0x17) &amp;&amp; ($index &lt;= 0xDF)) {</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;reserved for future use&#39;</span>;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <span class="keywordflow">if</span> (($index &gt;= 0xE0) &amp;&amp; ($index &lt;= 0xEF)) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;not predefined synch 0-F&#39;</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;        <span class="keywordflow">if</span> (($index &gt;= 0xF0) &amp;&amp; ($index &lt;= 0xFC)) {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;reserved for future use&#39;</span>;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        <span class="keyword">static</span> $EventLookup = array(</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;padding (has no meaning)&#39;</span>,</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;end of initial silence&#39;</span>,</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;intro start&#39;</span>,</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;main part start&#39;</span>,</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            0x04 =&gt; <span class="stringliteral">&#39;outro start&#39;</span>,</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            0x05 =&gt; <span class="stringliteral">&#39;outro end&#39;</span>,</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            0x06 =&gt; <span class="stringliteral">&#39;verse start&#39;</span>,</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            0x07 =&gt; <span class="stringliteral">&#39;refrain start&#39;</span>,</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            0x08 =&gt; <span class="stringliteral">&#39;interlude start&#39;</span>,</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            0x09 =&gt; <span class="stringliteral">&#39;theme start&#39;</span>,</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            0x0A =&gt; <span class="stringliteral">&#39;variation start&#39;</span>,</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            0x0B =&gt; <span class="stringliteral">&#39;key change&#39;</span>,</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;            0x0C =&gt; <span class="stringliteral">&#39;time change&#39;</span>,</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            0x0D =&gt; <span class="stringliteral">&#39;momentary unwanted noise (Snap, Crackle &amp; Pop)&#39;</span>,</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;            0x0E =&gt; <span class="stringliteral">&#39;sustained noise&#39;</span>,</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            0x0F =&gt; <span class="stringliteral">&#39;sustained noise end&#39;</span>,</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;            0x10 =&gt; <span class="stringliteral">&#39;intro end&#39;</span>,</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            0x11 =&gt; <span class="stringliteral">&#39;main part end&#39;</span>,</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;            0x12 =&gt; <span class="stringliteral">&#39;verse end&#39;</span>,</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            0x13 =&gt; <span class="stringliteral">&#39;refrain end&#39;</span>,</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;            0x14 =&gt; <span class="stringliteral">&#39;theme end&#39;</span>,</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;            0x15 =&gt; <span class="stringliteral">&#39;profanity&#39;</span>,</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;            0x16 =&gt; <span class="stringliteral">&#39;profanity end&#39;</span>,</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;            0xFD =&gt; <span class="stringliteral">&#39;audio end (start of silence)&#39;</span>,</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;            0xFE =&gt; <span class="stringliteral">&#39;audio file ends&#39;</span>,</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;            0xFF =&gt; <span class="stringliteral">&#39;one more byte of events follows&#39;</span></div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        );</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <span class="keywordflow">return</span> (isset($EventLookup[$index]) ? $EventLookup[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    }</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;</div>
<div class="line"><a name="l03098"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ad670b7f4b2be8de1e367a9f36904b4d5"> 3098</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ad670b7f4b2be8de1e367a9f36904b4d5">SYTLContentTypeLookup</a>($index) {</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        <span class="keyword">static</span> $SYTLContentTypeLookup = array(</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;other&#39;</span>,</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;lyrics&#39;</span>,</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;text transcription&#39;</span>,</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;movement/part name&#39;</span>, <span class="comment">// (e.g. &#39;Adagio&#39;)</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            0x04 =&gt; <span class="stringliteral">&#39;events&#39;</span>,             <span class="comment">// (e.g. &#39;Don Quijote enters the stage&#39;)</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            0x05 =&gt; <span class="stringliteral">&#39;chord&#39;</span>,              <span class="comment">// (e.g. &#39;Bb F Fsus&#39;)</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            0x06 =&gt; <span class="stringliteral">&#39;trivia/\&#39;pop up\&#39; information&#39;</span>,</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            0x07 =&gt; <span class="stringliteral">&#39;URLs to webpages&#39;</span>,</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;            0x08 =&gt; <span class="stringliteral">&#39;URLs to images&#39;</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        );</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;        <span class="keywordflow">return</span> (isset($SYTLContentTypeLookup[$index]) ? $SYTLContentTypeLookup[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    }</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#afee3abb1693e8f5f9e41f1afc8fbab23"> 3114</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#afee3abb1693e8f5f9e41f1afc8fbab23">APICPictureTypeLookup</a>($index, $returnarray=<span class="keyword">false</span>) {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;        <span class="keyword">static</span> $APICPictureTypeLookup = array(</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;Other&#39;</span>,</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;32x32 pixels \&#39;file icon\&#39; (PNG only)&#39;</span>,</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;Other file icon&#39;</span>,</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;Cover (front)&#39;</span>,</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            0x04 =&gt; <span class="stringliteral">&#39;Cover (back)&#39;</span>,</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;            0x05 =&gt; <span class="stringliteral">&#39;Leaflet page&#39;</span>,</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;            0x06 =&gt; <span class="stringliteral">&#39;Media (e.g. label side of CD)&#39;</span>,</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;            0x07 =&gt; <span class="stringliteral">&#39;Lead artist/lead performer/soloist&#39;</span>,</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;            0x08 =&gt; <span class="stringliteral">&#39;Artist/performer&#39;</span>,</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;            0x09 =&gt; <span class="stringliteral">&#39;Conductor&#39;</span>,</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            0x0A =&gt; <span class="stringliteral">&#39;Band/Orchestra&#39;</span>,</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            0x0B =&gt; <span class="stringliteral">&#39;Composer&#39;</span>,</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            0x0C =&gt; <span class="stringliteral">&#39;Lyricist/text writer&#39;</span>,</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;            0x0D =&gt; <span class="stringliteral">&#39;Recording Location&#39;</span>,</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;            0x0E =&gt; <span class="stringliteral">&#39;During recording&#39;</span>,</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;            0x0F =&gt; <span class="stringliteral">&#39;During performance&#39;</span>,</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;            0x10 =&gt; <span class="stringliteral">&#39;Movie/video screen capture&#39;</span>,</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;            0x11 =&gt; <span class="stringliteral">&#39;A bright coloured fish&#39;</span>,</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;            0x12 =&gt; <span class="stringliteral">&#39;Illustration&#39;</span>,</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;            0x13 =&gt; <span class="stringliteral">&#39;Band/artist logotype&#39;</span>,</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            0x14 =&gt; <span class="stringliteral">&#39;Publisher/Studio logotype&#39;</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;        );</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        <span class="keywordflow">if</span> ($returnarray) {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;            <span class="keywordflow">return</span> $APICPictureTypeLookup;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="keywordflow">return</span> (isset($APICPictureTypeLookup[$index]) ? $APICPictureTypeLookup[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    }</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;</div>
<div class="line"><a name="l03144"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ae22e451e4d56e2348db9298800fd1901"> 3144</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ae22e451e4d56e2348db9298800fd1901">COMRReceivedAsLookup</a>($index) {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;        <span class="keyword">static</span> $COMRReceivedAsLookup = array(</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;Other&#39;</span>,</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;Standard CD album with other songs&#39;</span>,</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;Compressed audio on CD&#39;</span>,</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;File over the Internet&#39;</span>,</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            0x04 =&gt; <span class="stringliteral">&#39;Stream over the Internet&#39;</span>,</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            0x05 =&gt; <span class="stringliteral">&#39;As note sheets&#39;</span>,</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            0x06 =&gt; <span class="stringliteral">&#39;As note sheets in a book with other sheets&#39;</span>,</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            0x07 =&gt; <span class="stringliteral">&#39;Music on other media&#39;</span>,</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;            0x08 =&gt; <span class="stringliteral">&#39;Non-musical merchandise&#39;</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        );</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;        <span class="keywordflow">return</span> (isset($COMRReceivedAsLookup[$index]) ? $COMRReceivedAsLookup[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div>
<div class="line"><a name="l03160"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a14b73dfae7c0b804d37420290ac66b2f"> 3160</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a14b73dfae7c0b804d37420290ac66b2f">RVA2ChannelTypeLookup</a>($index) {</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        <span class="keyword">static</span> $RVA2ChannelTypeLookup = array(</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            0x00 =&gt; <span class="stringliteral">&#39;Other&#39;</span>,</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            0x01 =&gt; <span class="stringliteral">&#39;Master volume&#39;</span>,</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            0x02 =&gt; <span class="stringliteral">&#39;Front right&#39;</span>,</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            0x03 =&gt; <span class="stringliteral">&#39;Front left&#39;</span>,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;            0x04 =&gt; <span class="stringliteral">&#39;Back right&#39;</span>,</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            0x05 =&gt; <span class="stringliteral">&#39;Back left&#39;</span>,</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            0x06 =&gt; <span class="stringliteral">&#39;Front centre&#39;</span>,</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            0x07 =&gt; <span class="stringliteral">&#39;Back centre&#39;</span>,</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;            0x08 =&gt; <span class="stringliteral">&#39;Subwoofer&#39;</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;        );</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;        <span class="keywordflow">return</span> (isset($RVA2ChannelTypeLookup[$index]) ? $RVA2ChannelTypeLookup[$index] : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    }</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;</div>
<div class="line"><a name="l03176"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a830a198ea9c2677706584bd8b7c76453"> 3176</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a830a198ea9c2677706584bd8b7c76453">FrameNameLongLookup</a>($framename) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        $begin = __LINE__;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;<span class="comment">        /** This is not a comment!</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="comment">            AENC    Audio encryption</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="comment">            APIC    Attached picture</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;<span class="comment">            ASPI    Audio seek point index</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="comment">            BUF Recommended buffer size</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="comment">            CNT Play counter</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;<span class="comment">            COM Comments</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="comment">            COMM    Comments</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="comment">            COMR    Commercial frame</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<span class="comment">            CRA Audio encryption</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="comment">            CRM Encrypted meta frame</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="comment">            ENCR    Encryption method registration</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment">            EQU Equalisation</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">            EQU2    Equalisation (2)</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="comment">            EQUA    Equalisation</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="comment">            ETC Event timing codes</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="comment">            ETCO    Event timing codes</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="comment">            GEO General encapsulated object</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="comment">            GEOB    General encapsulated object</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="comment">            GRID    Group identification registration</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="comment">            IPL Involved people list</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="comment">            IPLS    Involved people list</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="comment">            LINK    Linked information</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="comment">            LNK Linked information</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<span class="comment">            MCDI    Music CD identifier</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="comment">            MCI Music CD Identifier</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="comment">            MLL MPEG location lookup table</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="comment">            MLLT    MPEG location lookup table</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="comment">            OWNE    Ownership frame</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="comment">            PCNT    Play counter</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;<span class="comment">            PIC Attached picture</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="comment">            POP Popularimeter</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="comment">            POPM    Popularimeter</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="comment">            POSS    Position synchronisation frame</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="comment">            PRIV    Private frame</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<span class="comment">            RBUF    Recommended buffer size</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="comment">            REV Reverb</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="comment">            RVA Relative volume adjustment</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="comment">            RVA2    Relative volume adjustment (2)</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">            RVAD    Relative volume adjustment</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="comment">            RVRB    Reverb</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="comment">            SEEK    Seek frame</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="comment">            SIGN    Signature frame</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">            SLT Synchronised lyric/text</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">            STC Synced tempo codes</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">            SYLT    Synchronised lyric/text</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">            SYTC    Synchronised tempo codes</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">            TAL Album/Movie/Show title</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">            TALB    Album/Movie/Show title</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment">            TBP BPM (Beats Per Minute)</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="comment">            TBPM    BPM (beats per minute)</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="comment">            TCM Composer</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="comment">            TCMP    Part of a compilation</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="comment">            TCO Content type</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="comment">            TCOM    Composer</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="comment">            TCON    Content type</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="comment">            TCOP    Copyright message</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="comment">            TCP Part of a compilation</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">            TCR Copyright message</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment">            TDA Date</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="comment">            TDAT    Date</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="comment">            TDEN    Encoding time</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="comment">            TDLY    Playlist delay</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="comment">            TDOR    Original release time</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="comment">            TDRC    Recording time</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="comment">            TDRL    Release time</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="comment">            TDTG    Tagging time</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="comment">            TDY Playlist delay</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="comment">            TEN Encoded by</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<span class="comment">            TENC    Encoded by</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="comment">            TEXT    Lyricist/Text writer</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<span class="comment">            TFLT    File type</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="comment">            TFT File type</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="comment">            TIM Time</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;<span class="comment">            TIME    Time</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<span class="comment">            TIPL    Involved people list</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="comment">            TIT1    Content group description</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="comment">            TIT2    Title/songname/content description</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="comment">            TIT3    Subtitle/Description refinement</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="comment">            TKE Initial key</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="comment">            TKEY    Initial key</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="comment">            TLA Language(s)</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="comment">            TLAN    Language(s)</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="comment">            TLE Length</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="comment">            TLEN    Length</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;<span class="comment">            TMCL    Musician credits list</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<span class="comment">            TMED    Media type</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="comment">            TMOO    Mood</span></div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;<span class="comment">            TMT Media type</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="comment">            TOA Original artist(s)/performer(s)</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="comment">            TOAL    Original album/movie/show title</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="comment">            TOF Original filename</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="comment">            TOFN    Original filename</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;<span class="comment">            TOL Original Lyricist(s)/text writer(s)</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="comment">            TOLY    Original lyricist(s)/text writer(s)</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;<span class="comment">            TOPE    Original artist(s)/performer(s)</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="comment">            TOR Original release year</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;<span class="comment">            TORY    Original release year</span></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;<span class="comment">            TOT Original album/Movie/Show title</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="comment">            TOWN    File owner/licensee</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<span class="comment">            TP1 Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<span class="comment">            TP2 Band/Orchestra/Accompaniment</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;<span class="comment">            TP3 Conductor/Performer refinement</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="comment">            TP4 Interpreted, remixed, or otherwise modified by</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="comment">            TPA Part of a set</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="comment">            TPB Publisher</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="comment">            TPE1    Lead performer(s)/Soloist(s)</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">            TPE2    Band/orchestra/accompaniment</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="comment">            TPE3    Conductor/performer refinement</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="comment">            TPE4    Interpreted, remixed, or otherwise modified by</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;<span class="comment">            TPOS    Part of a set</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<span class="comment">            TPRO    Produced notice</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<span class="comment">            TPUB    Publisher</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;<span class="comment">            TRC ISRC (International Standard Recording Code)</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;<span class="comment">            TRCK    Track number/Position in set</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<span class="comment">            TRD Recording dates</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;<span class="comment">            TRDA    Recording dates</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<span class="comment">            TRK Track number/Position in set</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="comment">            TRSN    Internet radio station name</span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="comment">            TRSO    Internet radio station owner</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;<span class="comment">            TS2 Album-Artist sort order</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="comment">            TSA Album sort order</span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="comment">            TSC Composer sort order</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="comment">            TSI Size</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;<span class="comment">            TSIZ    Size</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;<span class="comment">            TSO2    Album-Artist sort order</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;<span class="comment">            TSOA    Album sort order</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;<span class="comment">            TSOC    Composer sort order</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;<span class="comment">            TSOP    Performer sort order</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;<span class="comment">            TSOT    Title sort order</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;<span class="comment">            TSP Performer sort order</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;<span class="comment">            TSRC    ISRC (international standard recording code)</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;<span class="comment">            TSS Software/hardware and settings used for encoding</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="comment">            TSSE    Software/Hardware and settings used for encoding</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;<span class="comment">            TSST    Set subtitle</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;<span class="comment">            TST Title sort order</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;<span class="comment">            TT1 Content group description</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;<span class="comment">            TT2 Title/Songname/Content description</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;<span class="comment">            TT3 Subtitle/Description refinement</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;<span class="comment">            TXT Lyricist/text writer</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="comment">            TXX User defined text information frame</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="comment">            TXXX    User defined text information frame</span></div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="comment">            TYE Year</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;<span class="comment">            TYER    Year</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;<span class="comment">            UFI Unique file identifier</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="comment">            UFID    Unique file identifier</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;<span class="comment">            ULT Unsychronised lyric/text transcription</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="comment">            USER    Terms of use</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;<span class="comment">            USLT    Unsynchronised lyric/text transcription</span></div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="comment">            WAF Official audio file webpage</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;<span class="comment">            WAR Official artist/performer webpage</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;<span class="comment">            WAS Official audio source webpage</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;<span class="comment">            WCM Commercial information</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;<span class="comment">            WCOM    Commercial information</span></div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="comment">            WCOP    Copyright/Legal information</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;<span class="comment">            WCP Copyright/Legal information</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="comment">            WOAF    Official audio file webpage</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;<span class="comment">            WOAR    Official artist/performer webpage</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="comment">            WOAS    Official audio source webpage</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="comment">            WORS    Official Internet radio station homepage</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">            WPAY    Payment</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment">            WPB Publishers official webpage</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;<span class="comment">            WPUB    Publishers official webpage</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;<span class="comment">            WXX User defined URL link frame</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;<span class="comment">            WXXX    User defined URL link frame</span></div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;<span class="comment">            TFEA    Featured Artist</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;<span class="comment">            TSTU    Recording Studio</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;<span class="comment">            rgad    Replay Gain Adjustment</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib::EmbeddedLookup</a>($framename, $begin, __LINE__, __FILE__, <span class="stringliteral">&#39;id3v2-framename_long&#39;</span>);</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;        <span class="comment">// Last three:</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;        <span class="comment">// from Helium2 [www.helium2.com]</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;        <span class="comment">// from http://privatewww.essex.ac.uk/~djmrob/replaygain/file_format_id3v2.html</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    }</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;</div>
<div class="line"><a name="l03360"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#ade054d5e8ebb41a5323a17d6e6f0b260"> 3360</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#ade054d5e8ebb41a5323a17d6e6f0b260">FrameNameShortLookup</a>($framename) {</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        $begin = __LINE__;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">        /** This is not a comment!</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<span class="comment">            AENC    audio_encryption</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;<span class="comment">            APIC    attached_picture</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;<span class="comment">            ASPI    audio_seek_point_index</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;<span class="comment">            BUF recommended_buffer_size</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="comment">            CNT play_counter</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;<span class="comment">            COM comment</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;<span class="comment">            COMM    comment</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;<span class="comment">            COMR    commercial_frame</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;<span class="comment">            CRA audio_encryption</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;<span class="comment">            CRM encrypted_meta_frame</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;<span class="comment">            ENCR    encryption_method_registration</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;<span class="comment">            EQU equalisation</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;<span class="comment">            EQU2    equalisation</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="comment">            EQUA    equalisation</span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;<span class="comment">            ETC event_timing_codes</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;<span class="comment">            ETCO    event_timing_codes</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;<span class="comment">            GEO general_encapsulated_object</span></div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;<span class="comment">            GEOB    general_encapsulated_object</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;<span class="comment">            GRID    group_identification_registration</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="comment">            IPL involved_people_list</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="comment">            IPLS    involved_people_list</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;<span class="comment">            LINK    linked_information</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;<span class="comment">            LNK linked_information</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;<span class="comment">            MCDI    music_cd_identifier</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;<span class="comment">            MCI music_cd_identifier</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;<span class="comment">            MLL mpeg_location_lookup_table</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;<span class="comment">            MLLT    mpeg_location_lookup_table</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;<span class="comment">            OWNE    ownership_frame</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="comment">            PCNT    play_counter</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">            PIC attached_picture</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">            POP popularimeter</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment">            POPM    popularimeter</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="comment">            POSS    position_synchronisation_frame</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment">            PRIV    private_frame</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="comment">            RBUF    recommended_buffer_size</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">            REV reverb</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="comment">            RVA relative_volume_adjustment</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="comment">            RVA2    relative_volume_adjustment</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">            RVAD    relative_volume_adjustment</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="comment">            RVRB    reverb</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="comment">            SEEK    seek_frame</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;<span class="comment">            SIGN    signature_frame</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="comment">            SLT synchronised_lyric</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;<span class="comment">            STC synced_tempo_codes</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;<span class="comment">            SYLT    synchronised_lyric</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;<span class="comment">            SYTC    synchronised_tempo_codes</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="comment">            TAL album</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;<span class="comment">            TALB    album</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment">            TBP bpm</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment">            TBPM    bpm</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="comment">            TCM composer</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="comment">            TCMP    part_of_a_compilation</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="comment">            TCO genre</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="comment">            TCOM    composer</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">            TCON    genre</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="comment">            TCOP    copyright_message</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="comment">            TCP part_of_a_compilation</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;<span class="comment">            TCR copyright_message</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="comment">            TDA date</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="comment">            TDAT    date</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="comment">            TDEN    encoding_time</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;<span class="comment">            TDLY    playlist_delay</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;<span class="comment">            TDOR    original_release_time</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;<span class="comment">            TDRC    recording_time</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="comment">            TDRL    release_time</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="comment">            TDTG    tagging_time</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="comment">            TDY playlist_delay</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;<span class="comment">            TEN encoded_by</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="comment">            TENC    encoded_by</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;<span class="comment">            TEXT    lyricist</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;<span class="comment">            TFLT    file_type</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;<span class="comment">            TFT file_type</span></div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;<span class="comment">            TIM time</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;<span class="comment">            TIME    time</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;<span class="comment">            TIPL    involved_people_list</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;<span class="comment">            TIT1    content_group_description</span></div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;<span class="comment">            TIT2    title</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;<span class="comment">            TIT3    subtitle</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;<span class="comment">            TKE initial_key</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;<span class="comment">            TKEY    initial_key</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;<span class="comment">            TLA language</span></div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;<span class="comment">            TLAN    language</span></div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;<span class="comment">            TLE length</span></div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="comment">            TLEN    length</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;<span class="comment">            TMCL    musician_credits_list</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;<span class="comment">            TMED    media_type</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;<span class="comment">            TMOO    mood</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="comment">            TMT media_type</span></div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;<span class="comment">            TOA original_artist</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;<span class="comment">            TOAL    original_album</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;<span class="comment">            TOF original_filename</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;<span class="comment">            TOFN    original_filename</span></div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;<span class="comment">            TOL original_lyricist</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="comment">            TOLY    original_lyricist</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;<span class="comment">            TOPE    original_artist</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;<span class="comment">            TOR original_year</span></div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;<span class="comment">            TORY    original_year</span></div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;<span class="comment">            TOT original_album</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="comment">            TOWN    file_owner</span></div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;<span class="comment">            TP1 artist</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;<span class="comment">            TP2 band</span></div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;<span class="comment">            TP3 conductor</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;<span class="comment">            TP4 remixer</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="comment">            TPA part_of_a_set</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="comment">            TPB publisher</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="comment">            TPE1    artist</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment">            TPE2    band</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment">            TPE3    conductor</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment">            TPE4    remixer</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment">            TPOS    part_of_a_set</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="comment">            TPRO    produced_notice</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;<span class="comment">            TPUB    publisher</span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="comment">            TRC isrc</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="comment">            TRCK    track_number</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;<span class="comment">            TRD recording_dates</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;<span class="comment">            TRDA    recording_dates</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;<span class="comment">            TRK track_number</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;<span class="comment">            TRSN    internet_radio_station_name</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;<span class="comment">            TRSO    internet_radio_station_owner</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;<span class="comment">            TS2 album_artist_sort_order</span></div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;<span class="comment">            TSA album_sort_order</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="comment">            TSC composer_sort_order</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="comment">            TSI size</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;<span class="comment">            TSIZ    size</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;<span class="comment">            TSO2    album_artist_sort_order</span></div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;<span class="comment">            TSOA    album_sort_order</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;<span class="comment">            TSOC    composer_sort_order</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;<span class="comment">            TSOP    performer_sort_order</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;<span class="comment">            TSOT    title_sort_order</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="comment">            TSP performer_sort_order</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="comment">            TSRC    isrc</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;<span class="comment">            TSS encoder_settings</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;<span class="comment">            TSSE    encoder_settings</span></div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;<span class="comment">            TSST    set_subtitle</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;<span class="comment">            TST title_sort_order</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;<span class="comment">            TT1 content_group_description</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="comment">            TT2 title</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;<span class="comment">            TT3 subtitle</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="comment">            TXT lyricist</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;<span class="comment">            TXX text</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;<span class="comment">            TXXX    text</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;<span class="comment">            TYE year</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;<span class="comment">            TYER    year</span></div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="comment">            UFI unique_file_identifier</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="comment">            UFID    unique_file_identifier</span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;<span class="comment">            ULT unsychronised_lyric</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;<span class="comment">            USER    terms_of_use</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;<span class="comment">            USLT    unsynchronised_lyric</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;<span class="comment">            WAF url_file</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;<span class="comment">            WAR url_artist</span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;<span class="comment">            WAS url_source</span></div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;<span class="comment">            WCM commercial_information</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;<span class="comment">            WCOM    commercial_information</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;<span class="comment">            WCOP    copyright</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;<span class="comment">            WCP copyright</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;<span class="comment">            WOAF    url_file</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;<span class="comment">            WOAR    url_artist</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;<span class="comment">            WOAS    url_source</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;<span class="comment">            WORS    url_station</span></div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;<span class="comment">            WPAY    url_payment</span></div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;<span class="comment">            WPB url_publisher</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;<span class="comment">            WPUB    url_publisher</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="comment">            WXX url_user</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;<span class="comment">            WXXX    url_user</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">            TFEA    featured_artist</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="comment">            TSTU    recording_studio</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="comment">            rgad    replay_gain_adjustment</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib::EmbeddedLookup</a>($framename, $begin, __LINE__, __FILE__, <span class="stringliteral">&#39;id3v2-framename_short&#39;</span>);</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    }</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;</div>
<div class="line"><a name="l03539"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8"> 3539</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">TextEncodingTerminatorLookup</a>($encoding) {</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        <span class="comment">// http://www.id3.org/id3v2.4.0-structure.txt</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        <span class="comment">// Frames that allow different types of text encoding contains a text encoding description byte. Possible encodings:</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        <span class="keyword">static</span> $TextEncodingTerminatorLookup = array(</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;            0   =&gt; <span class="stringliteral">&quot;\x00&quot;</span>,     <span class="comment">// $00  ISO-8859-1. Terminated with $00.</span></div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;            1   =&gt; <span class="stringliteral">&quot;\x00\x00&quot;</span>, <span class="comment">// $01  UTF-16 encoded Unicode with BOM. All strings in the same frame SHALL have the same byteorder. Terminated with $00 00.</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;            2   =&gt; <span class="stringliteral">&quot;\x00\x00&quot;</span>, <span class="comment">// $02  UTF-16BE encoded Unicode without BOM. Terminated with $00 00.</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;            3   =&gt; <span class="stringliteral">&quot;\x00&quot;</span>,     <span class="comment">// $03  UTF-8 encoded Unicode. Terminated with $00.</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;            255 =&gt; <span class="stringliteral">&quot;\x00\x00&quot;</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        );</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        <span class="keywordflow">return</span> (isset($TextEncodingTerminatorLookup[$encoding]) ? $TextEncodingTerminatorLookup[$encoding] : <span class="stringliteral">&quot;\x00&quot;</span>);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    }</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;</div>
<div class="line"><a name="l03552"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca"> 3552</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">TextEncodingNameLookup</a>($encoding) {</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;        <span class="comment">// http://www.id3.org/id3v2.4.0-structure.txt</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <span class="comment">// Frames that allow different types of text encoding contains a text encoding description byte. Possible encodings:</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="keyword">static</span> $TextEncodingNameLookup = array(</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;            0   =&gt; <span class="stringliteral">&#39;ISO-8859-1&#39;</span>, <span class="comment">// $00  ISO-8859-1. Terminated with $00.</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;            1   =&gt; <span class="stringliteral">&#39;UTF-16&#39;</span>,     <span class="comment">// $01  UTF-16 encoded Unicode with BOM. All strings in the same frame SHALL have the same byteorder. Terminated with $00 00.</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;            2   =&gt; <span class="stringliteral">&#39;UTF-16BE&#39;</span>,   <span class="comment">// $02  UTF-16BE encoded Unicode without BOM. Terminated with $00 00.</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;            3   =&gt; <span class="stringliteral">&#39;UTF-8&#39;</span>,      <span class="comment">// $03  UTF-8 encoded Unicode. Terminated with $00.</span></div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;            255 =&gt; <span class="stringliteral">&#39;UTF-16BE&#39;</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        );</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <span class="keywordflow">return</span> (isset($TextEncodingNameLookup[$encoding]) ? $TextEncodingNameLookup[$encoding] : <span class="stringliteral">&#39;ISO-8859-1&#39;</span>);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    }</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;</div>
<div class="line"><a name="l03565"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7"> 3565</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">IsValidID3v2FrameName</a>($framename, $id3v2majorversion) {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        <span class="keywordflow">switch</span> ($id3v2majorversion) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;                <span class="keywordflow">return</span> preg_match(<span class="stringliteral">&#39;#[A-Z][A-Z0-9]{2}#&#39;</span>, $framename);</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;                <span class="keywordflow">return</span> preg_match(<span class="stringliteral">&#39;#[A-Z][A-Z0-9]{3}#&#39;</span>, $framename);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;        }</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    }</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;</div>
<div class="line"><a name="l03579"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a78188248e47b6a526d90023ad72ea988"> 3579</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a78188248e47b6a526d90023ad72ea988">IsANumber</a>($numberstring, $allowdecimal=<span class="keyword">false</span>, $allownegative=<span class="keyword">false</span>) {</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0; <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; strlen($numberstring); <a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++) {</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;            <span class="keywordflow">if</span> ((chr($numberstring{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>}) &lt; chr(<span class="charliteral">&#39;0&#39;</span>)) || (chr($numberstring{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>}) &gt; chr(<span class="charliteral">&#39;9&#39;</span>))) {</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;                <span class="keywordflow">if</span> (($numberstring{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>} == <span class="charliteral">&#39;.&#39;</span>) &amp;&amp; $allowdecimal) {</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                    <span class="comment">// allowed</span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;                } <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> (($numberstring{<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>} == <span class="charliteral">&#39;-&#39;</span>) &amp;&amp; $allownegative &amp;&amp; (<a class="code" href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> == 0)) {</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;                    <span class="comment">// allowed</span></div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;                }</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;            }</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        }</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    }</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;</div>
<div class="line"><a name="l03594"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#a0fc0196b2b2bc0a0def170aec6c459aa"> 3594</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#a0fc0196b2b2bc0a0def170aec6c459aa">IsValidDateStampString</a>($datestamp) {</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        <span class="keywordflow">if</span> (strlen($datestamp) != 8) {</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        }</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        <span class="keywordflow">if</span> (!self::IsANumber($datestamp, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;        }</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;        $year  = substr($datestamp, 0, 4);</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        $month = substr($datestamp, 4, 2);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        $day   = substr($datestamp, 6, 2);</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;        <span class="keywordflow">if</span> (($year == 0) || ($month == 0) || ($day == 0)) {</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        }</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;        <span class="keywordflow">if</span> ($month &gt; 12) {</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        }</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        <span class="keywordflow">if</span> ($day &gt; 31) {</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        }</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        <span class="keywordflow">if</span> (($day &gt; 30) &amp;&amp; (($month == 4) || ($month == 6) || ($month == 9) || ($month == 11))) {</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        }</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        <span class="keywordflow">if</span> (($day &gt; 29) &amp;&amp; ($month == 2)) {</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        }</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    }</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;</div>
<div class="line"><a name="l03622"></a><span class="lineno"><a class="line" href="classgetid3__id3v2.html#af6d8516e165063f1b01aaa903962ad2a"> 3622</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="classgetid3__id3v2.html#af6d8516e165063f1b01aaa903962ad2a">ID3v2HeaderLength</a>($majorversion) {</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;        <span class="keywordflow">return</span> (($majorversion == 2) ? 6 : 10);</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    }</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;}</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div>
<div class="ttc" id="classgetid3__id3v2_html_adbcc1c0b8186f669b7e0b8ada17c6cc6"><div class="ttname"><a href="classgetid3__id3v2.html#adbcc1c0b8186f669b7e0b8ada17c6cc6">getid3_id3v2\LookupCurrencyUnits</a></div><div class="ttdeci">LookupCurrencyUnits($currencyid)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02205">module.tag.id3v2.php:2205</a></div></div>
<div class="ttc" id="form__list_8php_html_a1659f0a629d408e0f849dbe4ee061e62"><div class="ttname"><a href="form__list_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a></div><div class="ttdeci">$dir</div><div class="ttdef"><b>Definition:</b> <a href="form__list_8php_source.html#l00396">form_list.php:396</a></div></div>
<div class="ttc" id="menu_8php_html_a83018d9153d17d91fbcf3bc10158d34f"><div class="ttname"><a href="menu_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a></div><div class="ttdeci">$i</div><div class="ttdef"><b>Definition:</b> <a href="menu_8php_source.html#l00053">menu.php:53</a></div></div>
<div class="ttc" id="classgetid3__lib_html_ab0e6a146d52275d3a3075657e47849ca"><div class="ttname"><a href="classgetid3__lib.html#ab0e6a146d52275d3a3075657e47849ca">getid3_lib\BigEndian2Int</a></div><div class="ttdeci">static BigEndian2Int($byteword, $synchsafe=false, $signed=false)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00263">getid3.lib.php:263</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a012fe6506194572058797f9bc115fcdb"><div class="ttname"><a href="classgetid3__lib.html#a012fe6506194572058797f9bc115fcdb">getid3_lib\iconv_fallback_iso88591_utf8</a></div><div class="ttdeci">static iconv_fallback_iso88591_utf8($string, $bom=false)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00685">getid3.lib.php:685</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_afee3abb1693e8f5f9e41f1afc8fbab23"><div class="ttname"><a href="classgetid3__id3v2.html#afee3abb1693e8f5f9e41f1afc8fbab23">getid3_id3v2\APICPictureTypeLookup</a></div><div class="ttdeci">static APICPictureTypeLookup($index, $returnarray=false)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03114">module.tag.id3v2.php:3114</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ae510c25328a6c0df5b117b4af3c403dd"><div class="ttname"><a href="classgetid3__id3v2.html#ae510c25328a6c0df5b117b4af3c403dd">getid3_id3v2\LookupExtendedHeaderRestrictionsImageSizeSize</a></div><div class="ttdeci">LookupExtendedHeaderRestrictionsImageSizeSize($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02195">module.tag.id3v2.php:2195</a></div></div>
<div class="ttc" id="admin_8php_html_af1c9ecf26c0cfd247c0760dd4b594a6d"><div class="ttname"><a href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a></div><div class="ttdeci">if(get_option('db_upgraded')) elseif(get_option('db_version')!=$wp_db_version &amp;&amp;empty($_POST))</div><div class="ttdef"><b>Definition:</b> <a href="admin_8php_source.html#l00045">admin.php:45</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a5025cbc553d00311a7bd58f630a7e241"><div class="ttname"><a href="classgetid3__lib.html#a5025cbc553d00311a7bd58f630a7e241">getid3_lib\EmbeddedLookup</a></div><div class="ttdeci">static EmbeddedLookup($key, $begin, $end, $file, $name)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01274">getid3.lib.php:1274</a></div></div>
<div class="ttc" id="classgetid3__lib_html_ad474517558c5b9427814d8d45b6c00a4"><div class="ttname"><a href="classgetid3__lib.html#ad474517558c5b9427814d8d45b6c00a4">getid3_lib\array_merge_noclobber</a></div><div class="ttdeci">static array_merge_noclobber($array1, $array2)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00402">getid3.lib.php:402</a></div></div>
<div class="ttc" id="classgetid3__id3v1_html_ab0a352114f1412ba543903e9e597e50e"><div class="ttname"><a href="classgetid3__id3v1.html#ab0a352114f1412ba543903e9e597e50e">getid3_id3v1\LookupGenreName</a></div><div class="ttdeci">static LookupGenreName($genreid, $allowSCMPXextended=true)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v1_8php_source.html#l00294">module.tag.id3v1.php:294</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a0363ceff3265bdc5eee7f23e028622ad"><div class="ttname"><a href="classgetid3__lib.html#a0363ceff3265bdc5eee7f23e028622ad">getid3_lib\Bin2Dec</a></div><div class="ttdeci">static Bin2Dec($binstring, $signed=false)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00342">getid3.lib.php:342</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a5a49119d9ea2795f473c366fe7648d17"><div class="ttname"><a href="classgetid3__id3v2.html#a5a49119d9ea2795f473c366fe7648d17">getid3_id3v2\ParseID3v2GenreString</a></div><div class="ttdeci">ParseID3v2GenreString($genrestring)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l00498">module.tag.id3v2.php:498</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a346f6f3d7904996d17aadcf1b77df0d7"><div class="ttname"><a href="classgetid3__id3v2.html#a346f6f3d7904996d17aadcf1b77df0d7">getid3_id3v2\IsValidID3v2FrameName</a></div><div class="ttdeci">static IsValidID3v2FrameName($framename, $id3v2majorversion)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03565">module.tag.id3v2.php:3565</a></div></div>
<div class="ttc" id="classgetid3__lib_html_adae348e1f834b543d3ddb5f60c50c14f"><div class="ttname"><a href="classgetid3__lib.html#adae348e1f834b543d3ddb5f60c50c14f">getid3_lib\BigEndian2Bin</a></div><div class="ttdeci">static BigEndian2Bin($byteword)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00297">getid3.lib.php:297</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a14b73dfae7c0b804d37420290ac66b2f"><div class="ttname"><a href="classgetid3__id3v2.html#a14b73dfae7c0b804d37420290ac66b2f">getid3_id3v2\RVA2ChannelTypeLookup</a></div><div class="ttdeci">static RVA2ChannelTypeLookup($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03160">module.tag.id3v2.php:3160</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a727de35418a909e7c9a0006ba7fc40e1"><div class="ttname"><a href="classgetid3__lib.html#a727de35418a909e7c9a0006ba7fc40e1">getid3_lib\RGADoriginatorLookup</a></div><div class="ttdeci">static RGADoriginatorLookup($originatorcode)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01111">getid3.lib.php:1111</a></div></div>
<div class="ttc" id="classgetid3__lib_html_ae41ef91f05333c4b846f0db875d5ff33"><div class="ttname"><a href="classgetid3__lib.html#ae41ef91f05333c4b846f0db875d5ff33">getid3_lib\GetDataImageSize</a></div><div class="ttdeci">static GetDataImageSize($imgData, &amp;$imageinfo=array())</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01153">getid3.lib.php:1153</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ab41e4328bd0863bd201c390c13dd101e"><div class="ttname"><a href="classgetid3__id3v2.html#ab41e4328bd0863bd201c390c13dd101e">getid3_id3v2\ParseID3v2Frame</a></div><div class="ttdeci">ParseID3v2Frame(&amp;$parsedFrame)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l00521">module.tag.id3v2.php:521</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a9430f5be086948b156b1e87feec920ae"><div class="ttname"><a href="classgetid3__id3v2.html#a9430f5be086948b156b1e87feec920ae">getid3_id3v2\LookupExtendedHeaderRestrictionsImageEncoding</a></div><div class="ttdeci">LookupExtendedHeaderRestrictionsImageEncoding($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02187">module.tag.id3v2.php:2187</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a25416b9dfecec7284aa535825f19f9b5"><div class="ttname"><a href="classgetid3__id3v2.html#a25416b9dfecec7284aa535825f19f9b5">getid3_id3v2\LanguageLookup</a></div><div class="ttdeci">static LanguageLookup($languagecode, $casesensitive=false)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02599">module.tag.id3v2.php:2599</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a4ceac70926bdbb66a93ae2cbd357e913"><div class="ttname"><a href="classgetid3__id3v2.html#a4ceac70926bdbb66a93ae2cbd357e913">getid3_id3v2\$StartingOffset</a></div><div class="ttdeci">$StartingOffset</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l00021">module.tag.id3v2.php:21</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a49cda552bee0b7955d6e9cc5397b4d27"><div class="ttname"><a href="classgetid3__id3v2.html#a49cda552bee0b7955d6e9cc5397b4d27">getid3_id3v2\LookupExtendedHeaderRestrictionsTagSizeLimits</a></div><div class="ttdeci">LookupExtendedHeaderRestrictionsTagSizeLimits($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02159">module.tag.id3v2.php:2159</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ade054d5e8ebb41a5323a17d6e6f0b260"><div class="ttname"><a href="classgetid3__id3v2.html#ade054d5e8ebb41a5323a17d6e6f0b260">getid3_id3v2\FrameNameShortLookup</a></div><div class="ttdeci">static FrameNameShortLookup($framename)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03360">module.tag.id3v2.php:3360</a></div></div>
<div class="ttc" id="classgetid3__lib_html_aea2ff9ca0319f1702e6d216059954b01"><div class="ttname"><a href="classgetid3__lib.html#aea2ff9ca0319f1702e6d216059954b01">getid3_lib\IncludeDependency</a></div><div class="ttdeci">static IncludeDependency($filename, $sourcefile, $DieOnFailure=false)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01320">getid3.lib.php:1320</a></div></div>
<div class="ttc" id="classgetid3__handler_html_adaff7c3b9d075fad5baca35553c8ce4a"><div class="ttname"><a href="classgetid3__handler.html#adaff7c3b9d075fad5baca35553c8ce4a">getid3_handler\fseek</a></div><div class="ttdeci">fseek($bytes, $whence=SEEK_SET)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8php_source.html#l01667">getid3.php:1667</a></div></div>
<div class="ttc" id="classgetid3__handler_html"><div class="ttname"><a href="classgetid3__handler.html">getid3_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="getid3_8php_source.html#l01588">getid3.php:1588</a></div></div>
<div class="ttc" id="namespacelist_html"><div class="ttname"><a href="namespacelist.html">list</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a546e5f732916a05aa409753ed8cc88ca"><div class="ttname"><a href="classgetid3__id3v2.html#a546e5f732916a05aa409753ed8cc88ca">getid3_id3v2\TextEncodingNameLookup</a></div><div class="ttdeci">static TextEncodingNameLookup($encoding)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03552">module.tag.id3v2.php:3552</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_acb88d5f1310c04cd345929dadc042aa3"><div class="ttname"><a href="classgetid3__id3v2.html#acb88d5f1310c04cd345929dadc042aa3">getid3_id3v2\LookupExtendedHeaderRestrictionsTextFieldSize</a></div><div class="ttdeci">LookupExtendedHeaderRestrictionsTextFieldSize($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02177">module.tag.id3v2.php:2177</a></div></div>
<div class="ttc" id="admin-ajax_8php_html_a7e2b5c5f59b53e18d1dc6bf6ff251ed2"><div class="ttname"><a href="admin-ajax_8php.html#a7e2b5c5f59b53e18d1dc6bf6ff251ed2">str_replace</a></div><div class="ttdeci">if(!empty($_GET['action'])&amp;&amp;in_array($_GET['action'], $core_actions_get)) add_action( 'wp_ajax_'.$_GET['action'] str_replace( '-', '_', $_GET['action'])</div><div class="ttdef"><b>Definition:</b> <a href="admin-ajax_8php_source.html#l00073">admin-ajax.php:73</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a3158626801c0cc1828626c64df3c93a9"><div class="ttname"><a href="classgetid3__id3v2.html#a3158626801c0cc1828626c64df3c93a9">getid3_id3v2\Analyze</a></div><div class="ttdeci">Analyze()</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l00023">module.tag.id3v2.php:23</a></div></div>
<div class="ttc" id="search-field-date__range_8php_html_a1334d61bbc340f973c09c7031f3c21f2"><div class="ttname"><a href="search-field-date__range_8php.html#a1334d61bbc340f973c09c7031f3c21f2">$value</a></div><div class="ttdeci">$value</div><div class="ttdef"><b>Definition:</b> <a href="search-field-date__range_8php_source.html#l00010">search-field-date_range.php:10</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ad670b7f4b2be8de1e367a9f36904b4d5"><div class="ttname"><a href="classgetid3__id3v2.html#ad670b7f4b2be8de1e367a9f36904b4d5">getid3_id3v2\SYTLContentTypeLookup</a></div><div class="ttdeci">static SYTLContentTypeLookup($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03098">module.tag.id3v2.php:3098</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a830a198ea9c2677706584bd8b7c76453"><div class="ttname"><a href="classgetid3__id3v2.html#a830a198ea9c2677706584bd8b7c76453">getid3_id3v2\FrameNameLongLookup</a></div><div class="ttdeci">static FrameNameLongLookup($framename)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03176">module.tag.id3v2.php:3176</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a852f9a7fde0cefa411d86bab885a96f4"><div class="ttname"><a href="classgetid3__id3v2.html#a852f9a7fde0cefa411d86bab885a96f4">getid3_id3v2\ETCOEventLookup</a></div><div class="ttdeci">static ETCOEventLookup($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03055">module.tag.id3v2.php:3055</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html"><div class="ttname"><a href="classgetid3__id3v2.html">getid3_id3v2</a></div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l00019">module.tag.id3v2.php:19</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_af37a558ff5f251988ed243b13fed2269"><div class="ttname"><a href="classgetid3__id3v2.html#af37a558ff5f251988ed243b13fed2269">getid3_id3v2\LookupExtendedHeaderRestrictionsTextEncodings</a></div><div class="ttdeci">LookupExtendedHeaderRestrictionsTextEncodings($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02169">module.tag.id3v2.php:2169</a></div></div>
<div class="ttc" id="classgetid3__handler_html_a82974a114cc1e6e25696fdb587adde04"><div class="ttname"><a href="classgetid3__handler.html#a82974a114cc1e6e25696fdb587adde04">getid3_handler\fread</a></div><div class="ttdeci">fread($bytes)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8php_source.html#l01655">getid3.php:1655</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_a46b3622ccc6d393dfd97e355b7bd0bd6"><div class="ttname"><a href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a></div><div class="ttdeci">if(current_theme_supports( 'post-formats')&amp;&amp;post_type_supports($post_type, 'post-formats')) add_meta_box( 'formatdiv' null</div><div class="ttdoc">When displaying the single entry we should always know to which View it belongs (the context is every...</div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00244">edit-form-advanced.php:244</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a47bf4934706cac3f945f5c018eb17be8"><div class="ttname"><a href="classgetid3__id3v2.html#a47bf4934706cac3f945f5c018eb17be8">getid3_id3v2\TextEncodingTerminatorLookup</a></div><div class="ttdeci">static TextEncodingTerminatorLookup($encoding)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03539">module.tag.id3v2.php:3539</a></div></div>
<div class="ttc" id="classgetid3__lib_html_acf26b74c8f808598ee5228c5cadd5392"><div class="ttname"><a href="classgetid3__lib.html#acf26b74c8f808598ee5228c5cadd5392">getid3_lib\iconv_fallback</a></div><div class="ttdeci">static iconv_fallback($in_charset, $out_charset, $string)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00943">getid3.lib.php:943</a></div></div>
<div class="ttc" id="classgetid3__lib_html_afc38613d768c42746917cff285eac264"><div class="ttname"><a href="classgetid3__lib.html#afc38613d768c42746917cff285eac264">getid3_lib\BigEndian2Float</a></div><div class="ttdeci">static BigEndian2Float($byteword)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00185">getid3.lib.php:185</a></div></div>
<div class="ttc" id="namespacephp_html"><div class="ttname"><a href="namespacephp.html">php</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_aa192514ae2eed67288771f1fed029345"><div class="ttname"><a href="classgetid3__id3v2.html#aa192514ae2eed67288771f1fed029345">getid3_id3v2\LookupCurrencyCountry</a></div><div class="ttdeci">LookupCurrencyCountry($currencyid)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02402">module.tag.id3v2.php:2402</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ae22e451e4d56e2348db9298800fd1901"><div class="ttname"><a href="classgetid3__id3v2.html#ae22e451e4d56e2348db9298800fd1901">getid3_id3v2\COMRReceivedAsLookup</a></div><div class="ttdeci">static COMRReceivedAsLookup($index)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03144">module.tag.id3v2.php:3144</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_af6d8516e165063f1b01aaa903962ad2a"><div class="ttname"><a href="classgetid3__id3v2.html#af6d8516e165063f1b01aaa903962ad2a">getid3_id3v2\ID3v2HeaderLength</a></div><div class="ttdeci">static ID3v2HeaderLength($majorversion)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03622">module.tag.id3v2.php:3622</a></div></div>
<div class="ttc" id="classgetid3__lib_html_ae95f2e11557947080b0dfe122fb8938e"><div class="ttname"><a href="classgetid3__lib.html#ae95f2e11557947080b0dfe122fb8938e">getid3_lib\CastAsInt</a></div><div class="ttdeci">static CastAsInt($floatnum)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00065">getid3.lib.php:65</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a7b33d46313aede2d044617f9be861fbf"><div class="ttname"><a href="classgetid3__lib.html#a7b33d46313aede2d044617f9be861fbf">getid3_lib\Dec2Bin</a></div><div class="ttdeci">static Dec2Bin($number)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l00328">getid3.lib.php:328</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a0fc0196b2b2bc0a0def170aec6c459aa"><div class="ttname"><a href="classgetid3__id3v2.html#a0fc0196b2b2bc0a0def170aec6c459aa">getid3_id3v2\IsValidDateStampString</a></div><div class="ttdeci">static IsValidDateStampString($datestamp)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03594">module.tag.id3v2.php:3594</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a7f6c912256f040ec30b36febac875d54"><div class="ttname"><a href="classgetid3__lib.html#a7f6c912256f040ec30b36febac875d54">getid3_lib\RGADadjustmentLookup</a></div><div class="ttdeci">static RGADadjustmentLookup($rawadjustment, $signbit)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01124">getid3.lib.php:1124</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_ae4a3ac7d63ad1db4004e47eaf3af546f"><div class="ttname"><a href="classgetid3__id3v2.html#ae4a3ac7d63ad1db4004e47eaf3af546f">getid3_id3v2\DeUnsynchronise</a></div><div class="ttdeci">DeUnsynchronise($data)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l02155">module.tag.id3v2.php:2155</a></div></div>
<div class="ttc" id="classgetid3__lib_html_a0a877a93fb139677c4c114f475dc3e1a"><div class="ttname"><a href="classgetid3__lib.html#a0a877a93fb139677c4c114f475dc3e1a">getid3_lib\RGADnameLookup</a></div><div class="ttdeci">static RGADnameLookup($namecode)</div><div class="ttdef"><b>Definition:</b> <a href="getid3_8lib_8php_source.html#l01099">getid3.lib.php:1099</a></div></div>
<div class="ttc" id="classgetid3__id3v2_html_a78188248e47b6a526d90023ad72ea988"><div class="ttname"><a href="classgetid3__id3v2.html#a78188248e47b6a526d90023ad72ea988">getid3_id3v2\IsANumber</a></div><div class="ttdeci">static IsANumber($numberstring, $allowdecimal=false, $allownegative=false)</div><div class="ttdef"><b>Definition:</b> <a href="module_8tag_8id3v2_8php_source.html#l03579">module.tag.id3v2.php:3579</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<script type="text/javascript">
    jQuery( document ).ready( function( $ ) {
        $( 'a.anchor[id^=_filters],a.anchor[id^=_actions]' ).each( function() {
            $( this )
                .text('#')
                .attr( 'href', function() {
                    return '#' + $( this ).attr( 'id' );
                }).prependTo( $( this ).parent('dt' ).next('dd') );
        });
    });
</script>
</body>
</html>
