<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>GravityView: user-new.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GravityView
   &#160;<span id="projectnumber">1.16.1</span>
   </div>
   <div id="projectbrief">Beautifully display your Gravity Forms data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f202f45fd139109afdc6cee542e9540d.html">tmp</a></li><li class="navelem"><a class="el" href="dir_bab4839c1ebfd97cab4362c92e1efb01.html">wordpress</a></li><li class="navelem"><a class="el" href="dir_6befe1ce5953e76db4cf235d50144e4d.html">wp-admin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">user-new.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="user-new_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * New User Administration Screen.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @package WordPress</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @subpackage Administration</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/** WordPress Administration Bootstrap */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;require_once( dirname( __FILE__ ) . <span class="stringliteral">&#39;/admin.php&#39;</span> );</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordflow">if</span> ( ! <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;create_users&#39;</span> ) &amp;&amp; ! <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;promote_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a06d38a93c806c187fd21200c1baa9f53">wp_die</a>(</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            <span class="stringliteral">&#39;&lt;h1&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Cheatin&amp;#8217; uh?&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h1&gt;&#39;</span> .</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;            <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;You do not have sufficient permissions to add users to this network.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;            403</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        );</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    }</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;} <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ( ! <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;create_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a06d38a93c806c187fd21200c1baa9f53">wp_die</a>(</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="stringliteral">&#39;&lt;h1&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Cheatin&amp;#8217; uh?&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h1&gt;&#39;</span> .</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;You are not allowed to create users.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        403</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    );</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="noop_8php.html#a4df34d0c6ff2b33c5178529f19b82f90">add_filter</a>( <span class="stringliteral">&#39;wpmu_signup_user_notification_email&#39;</span>, <span class="stringliteral">&#39;admin_created_user_email&#39;</span> );</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keywordflow">if</span> ( isset($_REQUEST[<span class="stringliteral">&#39;action&#39;</span>]) &amp;&amp; <span class="stringliteral">&#39;adduser&#39;</span> == $_REQUEST[<span class="stringliteral">&#39;action&#39;</span>] ) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    check_admin_referer( <span class="stringliteral">&#39;add-user&#39;</span>, <span class="stringliteral">&#39;_wpnonce_add-user&#39;</span> );</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    $user_details = <a class="code" href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    $user_email = <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_REQUEST[<span class="stringliteral">&#39;email&#39;</span>] );</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> ( <span class="keyword">false</span> !== strpos( $user_email, <span class="charliteral">&#39;@&#39;</span> ) ) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        $user_details = get_user_by( <span class="stringliteral">&#39;email&#39;</span>, $user_email );</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="capabilities_8php.html#a99845439f6f1db111622e0b684512ba7">is_super_admin</a>() ) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            $user_details = get_user_by( <span class="stringliteral">&#39;login&#39;</span>, $user_email );</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            wp_redirect( <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;enter_email&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> ) );</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            die();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> ( !$user_details ) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        wp_redirect( <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;does_not_exist&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> ) );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        die();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> ( ! <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;promote_user&#39;</span>, $user_details-&gt;ID ) ) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a06d38a93c806c187fd21200c1baa9f53">wp_die</a>(</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="stringliteral">&#39;&lt;h1&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Cheatin&amp;#8217; uh?&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h1&gt;&#39;</span> .</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;You do not have sufficient permissions to add users to this network.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            403</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        );</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// Adding an existing user to this blog</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    $new_user_email = $user_details-&gt;user_email;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <span class="stringliteral">&#39;user-new.php&#39;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    $username = $user_details-&gt;user_login;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a> = $user_details-&gt;ID;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> ( ( $username != <a class="code" href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a> &amp;&amp; !<a class="code" href="capabilities_8php.html#a99845439f6f1db111622e0b684512ba7">is_super_admin</a>( <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a> ) ) &amp;&amp; ( array_key_exists(<a class="code" href="wp-settings_8php.html#a52044fb33b3842bc3d4655d3bd64415e">$blog_id</a>, <a class="code" href="wp-includes_2user_8php.html#aa996da3ba6781da9cf467c0dc860a9c2">get_blogs_of_user</a>(<a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>)) ) ) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;addexisting&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">if</span> ( isset( $_POST[ <span class="stringliteral">&#39;noconfirmation&#39;</span> ] ) &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;manage_network_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <a class="code" href="ms-functions_8php.html#a2e4509907e076b9d81cadb52ad678d3f">add_existing_user_to_blog</a>( array( <span class="stringliteral">&#39;user_id&#39;</span> =&gt; <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>, <span class="stringliteral">&#39;role&#39;</span> =&gt; $_REQUEST[ <span class="stringliteral">&#39;role&#39;</span> ] ) );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;addnoconfirmation&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            $newuser_key = substr( md5( <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a> ), 0, 5 );</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="option_8php.html#afacc3facc45e9b1cf03120755d40f494">add_option</a>( <span class="stringliteral">&#39;new_user_&#39;</span> . $newuser_key, array( <span class="stringliteral">&#39;user_id&#39;</span> =&gt; <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>, <span class="stringliteral">&#39;email&#39;</span> =&gt; $user_details-&gt;user_email, <span class="stringliteral">&#39;role&#39;</span> =&gt; $_REQUEST[ <span class="stringliteral">&#39;role&#39;</span> ] ) );</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            $roles = <a class="code" href="wp-admin_2includes_2user_8php.html#a4805f4fa3881ded3b61575ab931f1d0b">get_editable_roles</a>();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            $role = $roles[ $_REQUEST[<span class="stringliteral">&#39;role&#39;</span>] ];</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">            /**</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">             * Fires immediately after a user is invited to join a site, but before the notification is sent.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">             *</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">             * @since 4.4.0</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">             *</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">             * @param int    $user_id     The invited user&#39;s ID.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">             * @param array  $role        The role of invited user.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">             * @param string $newuser_key The key of the invitation.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a>( <span class="stringliteral">&#39;invite_user&#39;</span>, <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>, $role, $newuser_key );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="comment">/* translators: 1: Site name, 2: site URL, 3: role, 4: activation URL */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="edit-form-advanced_8php.html#abf17cb2dba2ed17cb28aa5f37deb5293">$message</a> = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Hi,</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="stringliteral">You\&#39;ve been invited to join \&#39;%1$s\&#39; at</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="stringliteral">%2$s with the role of %3$s.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral">Please click the following link to confirm the invite:</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral">%4$s&#39;</span> );</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            wp_mail( $new_user_email, sprintf( <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;[%s] Joining confirmation&#39;</span> ), <a class="code" href="formatting_8php.html#a4389f130de336d59e890c79b10a60beb">wp_specialchars_decode</a>( <a class="code" href="noop_8php.html#aaf1220eff85fdd291725eabf743b2ed3">get_option</a>( <span class="stringliteral">&#39;blogname&#39;</span> ) ) ), sprintf( <a class="code" href="edit-form-advanced_8php.html#abf17cb2dba2ed17cb28aa5f37deb5293">$message</a>, <a class="code" href="noop_8php.html#aaf1220eff85fdd291725eabf743b2ed3">get_option</a>( <span class="stringliteral">&#39;blogname&#39;</span> ), <a class="code" href="noop_8php.html#a2d2cbc03d92d4736569cab661c417c22">home_url</a>(), <a class="code" href="formatting_8php.html#a4389f130de336d59e890c79b10a60beb">wp_specialchars_decode</a>( <a class="code" href="l10n_8php.html#a7c465cd7da9f372bd5e69ddf5f12a5ae">translate_user_role</a>( $role[<span class="stringliteral">&#39;name&#39;</span>] ) ), <a class="code" href="noop_8php.html#a2d2cbc03d92d4736569cab661c417c22">home_url</a>( <span class="stringliteral">&quot;/newbloguser/$newuser_key/&quot;</span> ) ) );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;add&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    wp_redirect( <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    die();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;} <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ( isset($_REQUEST[<span class="stringliteral">&#39;action&#39;</span>]) &amp;&amp; <span class="stringliteral">&#39;createuser&#39;</span> == $_REQUEST[<span class="stringliteral">&#39;action&#39;</span>] ) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    check_admin_referer( <span class="stringliteral">&#39;create-user&#39;</span>, <span class="stringliteral">&#39;_wpnonce_create-user&#39;</span> );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ( ! <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;create_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a06d38a93c806c187fd21200c1baa9f53">wp_die</a>(</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="stringliteral">&#39;&lt;h1&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Cheatin&amp;#8217; uh?&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h1&gt;&#39;</span> .</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;You are not allowed to create users.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            403</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> ( ! <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a> = <a class="code" href="wp-admin_2includes_2user_8php.html#aadbd7df2f4f267fe7d491d1adb6d2c62">edit_user</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="class-wp-error_8php.html#a741b5ec807dbba8d2a0851e32e7d926c">is_wp_error</a>( <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a> ) ) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            $add_user_errors = <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;list_users&#39;</span> ) )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <span class="stringliteral">&#39;users.php?update=add&amp;id=&#39;</span> . <a class="code" href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( <span class="stringliteral">&#39;update&#39;</span>, <span class="stringliteral">&#39;add&#39;</span>, <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            wp_redirect( <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> );</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            die();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// Adding a new user to this site</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        $new_user_email = <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_REQUEST[<span class="stringliteral">&#39;email&#39;</span>] );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        $user_details = <a class="code" href="ms-functions_8php.html#af7ed3ab412e3b6305a695b477cd1ff25">wpmu_validate_user_signup</a>( $_REQUEST[<span class="stringliteral">&#39;user_login&#39;</span>], $new_user_email );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="class-wp-error_8php.html#a741b5ec807dbba8d2a0851e32e7d926c">is_wp_error</a>( $user_details[ <span class="stringliteral">&#39;errors&#39;</span> ] ) &amp;&amp; !empty( $user_details[ <span class="stringliteral">&#39;errors&#39;</span> ]-&gt;errors ) ) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            $add_user_errors = $user_details[ <span class="stringliteral">&#39;errors&#39;</span> ];</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        } <span class="keywordflow">else</span> {<span class="comment"></span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">            /**</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">             * Filter the user_login, also known as the username, before it is added to the site.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">             *</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">             * @since 2.0.3</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">             *</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">             * @param string $user_login The sanitized username.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            $new_user_login = <a class="code" href="noop_8php.html#a54639394aa645a2277ea41f3cbd23247">apply_filters</a>( <span class="stringliteral">&#39;pre_user_login&#39;</span>, <a class="code" href="formatting_8php.html#a08d3865661c83bd5d72f4024cabafd70">sanitize_user</a>( <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_REQUEST[<span class="stringliteral">&#39;user_login&#39;</span>] ), <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> ( isset( $_POST[ <span class="stringliteral">&#39;noconfirmation&#39;</span> ] ) &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;manage_network_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <a class="code" href="noop_8php.html#a4df34d0c6ff2b33c5178529f19b82f90">add_filter</a>( <span class="stringliteral">&#39;wpmu_signup_user_notification&#39;</span>, <span class="stringliteral">&#39;__return_false&#39;</span> ); <span class="comment">// Disable confirmation email</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <a class="code" href="noop_8php.html#a4df34d0c6ff2b33c5178529f19b82f90">add_filter</a>( <span class="stringliteral">&#39;wpmu_welcome_user_notification&#39;</span>, <span class="stringliteral">&#39;__return_false&#39;</span> ); <span class="comment">// Disable welcome email</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="ms-functions_8php.html#a82e4acb951d2eedb80de073eb78398ed">wpmu_signup_user</a>( $new_user_login, $new_user_email, array( <span class="stringliteral">&#39;add_to_blog&#39;</span> =&gt; <a class="code" href="schema_8php.html#aaac3ddf81d405fac59e1dceeca05b0a7">$wpdb</a>-&gt;blogid, <span class="stringliteral">&#39;new_role&#39;</span> =&gt; $_REQUEST[<span class="stringliteral">&#39;role&#39;</span>] ) );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> ( isset( $_POST[ <span class="stringliteral">&#39;noconfirmation&#39;</span> ] ) &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;manage_network_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                $key = <a class="code" href="schema_8php.html#aaac3ddf81d405fac59e1dceeca05b0a7">$wpdb</a>-&gt;get_var( <a class="code" href="schema_8php.html#aaac3ddf81d405fac59e1dceeca05b0a7">$wpdb</a>-&gt;prepare( <span class="stringliteral">&quot;SELECT activation_key FROM {$wpdb-&gt;signups} WHERE user_login = %s AND user_email = %s&quot;</span>, $new_user_login, $new_user_email ) );</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <a class="code" href="ms-functions_8php.html#a41820c535b4be9fce06c03595d6ca14a">wpmu_activate_signup</a>( $key );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;addnoconfirmation&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> = <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a>( array(<span class="stringliteral">&#39;update&#39;</span> =&gt; <span class="stringliteral">&#39;newuserconfirmation&#39;</span>), <span class="stringliteral">&#39;user-new.php&#39;</span> );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            wp_redirect( <a class="code" href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a> );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            die();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="user-new_8php.html#a19d8e7aa72928f0af73e157f609374e7">  161</a></span>&#160;<a class="code" href="user-new_8php.html#a19d8e7aa72928f0af73e157f609374e7">$title</a> = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Add New User&#39;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="user-new_8php.html#a44805f40a27f459d71ccccdf12f01e48">  162</a></span>&#160;<a class="code" href="user-new_8php.html#a44805f40a27f459d71ccccdf12f01e48">$parent_file</a> = <span class="stringliteral">&#39;users.php&#39;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="user-new_8php.html#a967526320821016734db506ba6cee34a">  164</a></span>&#160;<a class="code" href="user-new_8php.html#a967526320821016734db506ba6cee34a">$do_both</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>(<span class="stringliteral">&#39;promote_users&#39;</span>) &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>(<span class="stringliteral">&#39;create_users&#39;</span>) )</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="user-new_8php.html#a967526320821016734db506ba6cee34a">$do_both</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">  168</a></span>&#160;<a class="code" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a> = <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;To add a new user to your site, fill in the form on this screen and click the Add New User button at the bottom.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a> .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Because this is a multisite installation, you may add accounts that already exist on the Network by specifying a username or email, and defining a role. For more options, such as specifying a password, you have to be a Network Administrator and use the hover link under an existing user&amp;#8217;s name to Edit the user profile under Network Admin &gt; All Users.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;New users will receive an email letting them know they&amp;#8217;ve been added as a user for your site. This email will also contain their password. Check the box if you don&amp;#8217;t want the user to receive a welcome email.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="user-new_8php.html#a2caa017c8b53f80bacb0b93f29518cbd">  173</a></span>&#160;} <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a> .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;You must assign a password to the new user, which they can change after logging in. The username, however, cannot be changed.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;New users will receive an email letting them know they&amp;#8217;ve been added as a user for your site. By default, this email will also contain their password. Uncheck the box if you don&amp;#8217;t want the password to be included in the welcome email.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<a class="code" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a> .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Remember to click the Add New User button at the bottom of this screen when you are finished.&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<a class="code" href="screen_8php.html#aa2536d3fe4b68dea313b1523ea606f10">get_current_screen</a>()-&gt;add_help_tab( array(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="stringliteral">&#39;id&#39;</span>      =&gt; <span class="stringliteral">&#39;overview&#39;</span>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="stringliteral">&#39;title&#39;</span>   =&gt; <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Overview&#39;</span>),</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="stringliteral">&#39;content&#39;</span> =&gt; <a class="code" href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a>,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;) );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<a class="code" href="screen_8php.html#aa2536d3fe4b68dea313b1523ea606f10">get_current_screen</a>()-&gt;add_help_tab( array(</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">&#39;id&#39;</span>      =&gt; <span class="stringliteral">&#39;user-roles&#39;</span>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">&#39;title&#39;</span>   =&gt; <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;User Roles&#39;</span>),</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">&#39;content&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Here is a basic overview of the different user roles and the permissions associated with each one:&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="stringliteral">&#39;&lt;ul&gt;&#39;</span> .</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="stringliteral">&#39;&lt;li&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Subscribers can read comments/comment/receive newsletters, etc. but cannot create regular site content.&#39;</span>) . <span class="stringliteral">&#39;&lt;/li&gt;&#39;</span> .</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="stringliteral">&#39;&lt;li&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Contributors can write and manage their posts but not publish posts or upload media files.&#39;</span>) . <span class="stringliteral">&#39;&lt;/li&gt;&#39;</span> .</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="stringliteral">&#39;&lt;li&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Authors can publish and manage their own posts, and are able to upload files.&#39;</span>) . <span class="stringliteral">&#39;&lt;/li&gt;&#39;</span> .</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="user-new_8php.html#a65ed6ffa2d9b2f12bf445f8e36f5cf71">  194</a></span>&#160;                <span class="stringliteral">&#39;&lt;li&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Editors can publish posts, manage posts as well as manage other people&amp;#8217;s posts, etc.&#39;</span>) . <span class="stringliteral">&#39;&lt;/li&gt;&#39;</span> .</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="stringliteral">&#39;&lt;li&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Administrators have access to all the administration features.&#39;</span>) . <span class="stringliteral">&#39;&lt;/li&gt;&#39;</span> .</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="stringliteral">&#39;&lt;/ul&gt;&#39;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;) );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<a class="code" href="screen_8php.html#aa2536d3fe4b68dea313b1523ea606f10">get_current_screen</a>()-&gt;set_help_sidebar(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;For more information:&#39;</span>) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;&lt;a href=&quot;https://codex.wordpress.org/Users_Add_New_Screen&quot; target=&quot;_blank&quot;&gt;Documentation on Adding New Users&lt;/a&gt;&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;&lt;a href=&quot;https://wordpress.org/support/&quot; target=&quot;_blank&quot;&gt;Support Forums&lt;/a&gt;&#39;</span>) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<a class="code" href="functions_8wp-scripts_8php.html#ac7df944536184efa854f298abe6f334b">wp_enqueue_script</a>(<span class="stringliteral">&#39;wp-ajax-response&#39;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<a class="code" href="functions_8wp-scripts_8php.html#ac7df944536184efa854f298abe6f334b">wp_enqueue_script</a>( <span class="stringliteral">&#39;user-profile&#39;</span> );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"> * Filter whether to enable user auto-complete for non-super admins in Multisite.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"> * @since 3.4.0</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> * @param bool $enable Whether to enable auto-complete for non-super admins. Default false.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="user-new_8php.html#a5450be67d7fbf7e84b52e65048a44823">  215</a></span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;promote_users&#39;</span> ) &amp;&amp; ! <a class="code" href="ms-functions_8php.html#af8744a9eea4abee621215d9ae6348c68">wp_is_large_network</a>( <span class="stringliteral">&#39;users&#39;</span> )</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    &amp;&amp; ( <a class="code" href="capabilities_8php.html#a99845439f6f1db111622e0b684512ba7">is_super_admin</a>() || <a class="code" href="noop_8php.html#a54639394aa645a2277ea41f3cbd23247">apply_filters</a>( <span class="stringliteral">&#39;autocomplete_users_for_site_admins&#39;</span>, <span class="keyword">false</span> ) )</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="functions_8wp-scripts_8php.html#ac7df944536184efa854f298abe6f334b">wp_enqueue_script</a>( <span class="stringliteral">&#39;user-suggest&#39;</span> );</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;require_once( <a class="code" href="load-scripts_8php.html#a495f94983b95273ad267511b2411351f">ABSPATH</a> . <span class="stringliteral">&#39;wp-admin/admin-header.php&#39;</span> );</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keywordflow">if</span> ( isset($_GET[<span class="stringliteral">&#39;update&#39;</span>]) ) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a> = array();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">switch</span> ( $_GET[<span class="stringliteral">&#39;update&#39;</span>] ) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;newuserconfirmation&quot;</span>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Invitation email sent to new user. A confirmation link must be clicked before their account is created.&#39;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;add&quot;</span>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Invitation email sent to user. A confirmation link must be clicked for them to be added to your site.&#39;</span>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;addnoconfirmation&quot;</span>:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;User has been added to your site.&#39;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;addexisting&quot;</span>:</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;That user is already a member of this site.&#39;</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;does_not_exist&quot;</span>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;The requested user does not exist.&#39;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;enter_email&quot;</span>:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Please enter a valid email address.&#39;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;add&#39;</span> == $_GET[<span class="stringliteral">&#39;update&#39;</span>] )</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a>[] = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;User added.&#39;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;?&gt;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;wrap&quot;</span>&gt;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;&lt;h1 <span class="keywordtype">id</span>=<span class="stringliteral">&quot;add-new-user&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;create_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    echo <a class="code" href="edit-form-advanced_8php.html#ada8efad85a9cd028503cbe55c37c890a">_x</a>( <span class="stringliteral">&#39;Add New User&#39;</span>, <span class="stringliteral">&#39;user&#39;</span> );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;} <a class="code" href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a> ( <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;promote_users&#39;</span> ) ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    echo <a class="code" href="edit-form-advanced_8php.html#ada8efad85a9cd028503cbe55c37c890a">_x</a>( <span class="stringliteral">&#39;Add Existing User&#39;</span>, <span class="stringliteral">&#39;user&#39;</span> );</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;} ?&gt;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;&lt;/h1&gt;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <span class="keywordflow">if</span> ( isset(<a class="code" href="wp-admin_2widgets_8php.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>) &amp;&amp; <a class="code" href="class-wp-error_8php.html#a741b5ec807dbba8d2a0851e32e7d926c">is_wp_error</a>( <a class="code" href="wp-admin_2widgets_8php.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> ) ) : ?&gt;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;error&quot;</span>&gt;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        &lt;ul&gt;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        &lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">foreach</span> ( <a class="code" href="wp-admin_2widgets_8php.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>-&gt;get_error_messages() as $err )</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                echo <span class="stringliteral">&quot;&lt;li&gt;$err&lt;/li&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        ?&gt;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        &lt;/ul&gt;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    &lt;/div&gt;</div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="user-new_8php.html#a82cd33ca97ff99f2fcc5e9c81d65251b">  270</a></span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="user-new_8php.html#a82cd33ca97ff99f2fcc5e9c81d65251b">endif</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordflow">if</span> ( ! empty( <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a> ) ) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">foreach</span> ( <a class="code" href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a> as <a class="code" href="sites_8php.html#a7403ae1dd22aabdfaf1c54375a124754">$msg</a> )</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        echo <span class="stringliteral">&#39;&lt;div id=&quot;message&quot; class=&quot;updated notice is-dismissible&quot;&gt;&lt;p&gt;&#39;</span> . $msg . <span class="stringliteral">&#39;&lt;/p&gt;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;} ?&gt;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <span class="keywordflow">if</span> ( isset($add_user_errors) &amp;&amp; <a class="code" href="class-wp-error_8php.html#a741b5ec807dbba8d2a0851e32e7d926c">is_wp_error</a>( $add_user_errors ) ) : ?&gt;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;error&quot;</span>&gt;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        &lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">foreach</span> ( $add_user_errors-&gt;get_error_messages() as <a class="code" href="edit-form-advanced_8php.html#abf17cb2dba2ed17cb28aa5f37deb5293">$message</a> )</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                echo <span class="stringliteral">&quot;&lt;p&gt;$message&lt;/p&gt;&quot;</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        ?&gt;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    &lt;/div&gt;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="user-new_8php.html#a82cd33ca97ff99f2fcc5e9c81d65251b">endif</a>; ?&gt;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;&lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;ajax-response&quot;</span>&gt;&lt;/div&gt;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="user-new_8php.html#a967526320821016734db506ba6cee34a">$do_both</a> )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        echo <span class="stringliteral">&#39;&lt;h2 id=&quot;add-existing-user&quot;&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Add Existing User&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h2&gt;&#39;</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="capabilities_8php.html#a99845439f6f1db111622e0b684512ba7">is_super_admin</a>() ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        echo <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Enter the email address of an existing user on this network to invite them to this site. That person will be sent an email asking them to confirm the invite.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a> = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Email&#39;</span>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        $type  = <span class="stringliteral">&#39;email&#39;</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        echo <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Enter the email address or username of an existing user on this network to invite them to this site. That person will be sent an email asking them to confirm the invite.&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a> = <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>(<span class="stringliteral">&#39;Email or Username&#39;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        $type  = <span class="stringliteral">&#39;text&#39;</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;?&gt;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;&lt;form method=<span class="stringliteral">&quot;post&quot;</span> <a class="code" href="edit-comments_8php.html#a01a5ac2afed3a262528186f4ba5f9693">name</a>=<span class="stringliteral">&quot;adduser&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;adduser&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;validate&quot;</span> novalidate=<span class="stringliteral">&quot;novalidate&quot;</span>&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     * Fires inside the adduser form tag.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">     * @since 3.0.0</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a>( <span class="stringliteral">&#39;user_new_form_tag&#39;</span> );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;?&gt;&gt;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> <a class="code" href="edit-comments_8php.html#a01a5ac2afed3a262528186f4ba5f9693">name</a>=<span class="stringliteral">&quot;action&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;hidden&quot;</span> value=<span class="stringliteral">&quot;adduser&quot;</span> /&gt;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a68f0b952d066b096228913409d3da4bb">wp_nonce_field</a>( <span class="stringliteral">&#39;add-user&#39;</span>, <span class="stringliteral">&#39;_wpnonce_add-user&#39;</span> ) ?&gt;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;&lt;<a class="code" href="namespacetable.html">table</a> <span class="keyword">class</span>=<span class="stringliteral">&quot;form-table&quot;</span>&gt;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field form-required&quot;</span>&gt;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;adduser-email&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> echo <a class="code" href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a>; ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;email&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;&lt;?php echo $type; ?&gt;&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;adduser-email&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;wp-suggest-user&quot;</span> value=<span class="stringliteral">&quot;&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field&quot;</span>&gt;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;adduser-role&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Role&#39;</span>); ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        &lt;td&gt;&lt;select name=<span class="stringliteral">&quot;role&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;adduser-role&quot;</span>&gt;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wp-admin_2includes_2template_8php.html#a94ec85505632e409a3f4617df092de80">wp_dropdown_roles</a>( <a class="code" href="noop_8php.html#aaf1220eff85fdd291725eabf743b2ed3">get_option</a>(<span class="stringliteral">&#39;default_role&#39;</span>) ); ?&gt;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            &lt;/select&gt;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <span class="keywordflow">if</span> ( <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;manage_network_users&#39;</span> ) ) { ?&gt;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;adduser-noconfirmation&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Skip Confirmation Email&#39;</span>) ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;adduser-noconfirmation&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;noconfirmation&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;adduser-noconfirmation&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span> /&gt; &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Add the user without sending an email that requires their confirmation.&#39;</span> ); ?&gt;&lt;/label&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> } ?&gt;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;&lt;/table&gt;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * Fires at the end of the new user form.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * Passes a contextual string to make both types of new user forms</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> * uniquely targetable. Contexts are &#39;add-existing-user&#39; (Multisite),</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> * and &#39;add-new-user&#39; (single site and network admin).</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> * @since 3.7.0</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> * @param string $type A contextual string specifying which type of new user form the hook follows.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<a class="code" href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a>( <span class="stringliteral">&#39;user_new_form&#39;</span>, <span class="stringliteral">&#39;add-existing-user&#39;</span> );</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;?&gt;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wp-admin_2includes_2template_8php.html#ae57d23d839676b8d98097c939e863f0f">submit_button</a>( <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Add Existing User&#39;</span> ), <span class="stringliteral">&#39;primary&#39;</span>, <span class="stringliteral">&#39;adduser&#39;</span>, <span class="keyword">true</span>, array( <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;addusersub&#39;</span> ) ); ?&gt;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;&lt;/form&gt;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;} <span class="comment">// is_multisite()</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keywordflow">if</span> ( <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;create_users&#39;</span>) ) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="user-new_8php.html#a967526320821016734db506ba6cee34a">$do_both</a> )</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        echo <span class="stringliteral">&#39;&lt;h2 id=&quot;create-new-user&quot;&gt;&#39;</span> . <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Add New User&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h2&gt;&#39;</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;?&gt;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;&lt;<a class="code" href="namespacep.html">p</a>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Create a brand new user and add them to this site.&#39;</span>); ?&gt;&lt;/<a class="code" href="namespacep.html">p</a>&gt;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;&lt;form method=<span class="stringliteral">&quot;post&quot;</span> name=<span class="stringliteral">&quot;createuser&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;createuser&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;validate&quot;</span> novalidate=<span class="stringliteral">&quot;novalidate&quot;</span>&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">    /** This action is documented in wp-admin/user-new.php */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a>( <span class="stringliteral">&#39;user_new_form_tag&#39;</span> );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;?&gt;&gt;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;action&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;hidden&quot;</span> value=<span class="stringliteral">&quot;createuser&quot;</span> /&gt;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-includes_2functions_8php.html#a68f0b952d066b096228913409d3da4bb">wp_nonce_field</a>( <span class="stringliteral">&#39;create-user&#39;</span>, <span class="stringliteral">&#39;_wpnonce_create-user&#39;</span> ); ?&gt;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// Load up the passed data, else set to a default.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;$creating = isset( $_POST[<span class="stringliteral">&#39;createuser&#39;</span>] );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;$new_user_login = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;user_login&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;user_login&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;$new_user_firstname = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;first_name&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;first_name&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;$new_user_lastname = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;last_name&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;last_name&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;$new_user_email = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;email&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;email&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;$new_user_uri = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;url&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;url&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;$new_user_role = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;role&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;role&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;$new_user_send_notification = $creating &amp;&amp; ! isset( $_POST[<span class="stringliteral">&#39;send_user_notification&#39;</span>] ) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;$new_user_ignore_pass = $creating &amp;&amp; isset( $_POST[<span class="stringliteral">&#39;noconfirmation&#39;</span>] ) ? <a class="code" href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a>( $_POST[<span class="stringliteral">&#39;noconfirmation&#39;</span>] ) : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;?&gt;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;&lt;table <span class="keyword">class</span>=<span class="stringliteral">&quot;form-table&quot;</span>&gt;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field form-required&quot;</span>&gt;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;user_login&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Username&#39;</span>); ?&gt; &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;description&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;(required)&#39;</span>); ?&gt;&lt;/span&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;user_login&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;text&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;user_login&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $new_user_login ); ?&gt;&quot;</span> aria-required=<span class="stringliteral">&quot;true&quot;</span> autocapitalize=<span class="stringliteral">&quot;none&quot;</span> autocorrect=<span class="stringliteral">&quot;off&quot;</span> maxlength=<span class="stringliteral">&quot;60&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field form-required&quot;</span>&gt;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;email&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Email&#39;</span>); ?&gt; &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;description&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;(required)&#39;</span>); ?&gt;&lt;/span&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;email&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;email&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;email&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $new_user_email ); ?&gt;&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <span class="keywordflow">if</span> ( !<a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() ) { ?&gt;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field&quot;</span>&gt;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;first_name&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;First Name&#39;</span>) ?&gt; &lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;first_name&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;text&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;first_name&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr($new_user_firstname); ?&gt;&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field&quot;</span>&gt;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;last_name&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Last Name&#39;</span>) ?&gt; &lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;last_name&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;text&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;last_name&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr($new_user_lastname); ?&gt;&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field&quot;</span>&gt;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;url&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Website&#39;</span>) ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> name=<span class="stringliteral">&quot;url&quot;</span> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;url&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;url&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;code&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $new_user_uri ); ?&gt;&quot;</span> /&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field form-required user-pass1-wrap&quot;</span>&gt;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            &lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;pass1&quot;</span>&gt;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Password&#39;</span> ); ?&gt;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;description hide-if-js&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;(required)&#39;</span> ); ?&gt;&lt;/span&gt;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            &lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        &lt;/th&gt;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            &lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> <span class="keyword">class</span>=<span class="stringliteral">&quot;hidden&quot;</span> value=<span class="stringliteral">&quot; &quot;</span> /&gt;&lt;!-- #24364 workaround --&gt;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            &lt;<a class="code" href="namespacebutton.html">button</a> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;button&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;button button-secondary wp-generate-pw hide-if-no-js&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Show password&#39;</span> ); ?&gt;&lt;/<a class="code" href="namespacebutton.html">button</a>&gt;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;wp-pwd hide-if-js&quot;</span>&gt;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                &lt;?<a class="code" href="namespacephp.html">php</a> $initial_password = wp_generate_password( 24 ); ?&gt;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;password-input-wrapper&quot;</span>&gt;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    &lt;input type=<span class="stringliteral">&quot;password&quot;</span> name=<span class="stringliteral">&quot;pass1&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;pass1&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;regular-text&quot;</span> autocomplete=<span class="stringliteral">&quot;off&quot;</span> data-reveal=<span class="stringliteral">&quot;1&quot;</span> data-pw=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $initial_password ); ?&gt;&quot;</span> aria-describedby=<span class="stringliteral">&quot;pass-strength-result&quot;</span> /&gt;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                &lt;/span&gt;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                &lt;<a class="code" href="namespacebutton.html">button</a> type=<span class="stringliteral">&quot;button&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;button button-secondary wp-hide-pw hide-if-no-js&quot;</span> data-toggle=<span class="stringliteral">&quot;0&quot;</span> aria-<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>=<span class="stringliteral">&quot;&lt;?php esc_attr_e( &#39;Hide password&#39; ); ?&gt;&quot;</span>&gt;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;dashicons dashicons-hidden&quot;</span>&gt;&lt;/span&gt;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;text&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Hide&#39;</span> ); ?&gt;&lt;/span&gt;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                &lt;/<a class="code" href="namespacebutton.html">button</a>&gt;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                &lt;<a class="code" href="namespacebutton.html">button</a> type=<span class="stringliteral">&quot;button&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;button button-secondary wp-cancel-pw hide-if-no-js&quot;</span> data-toggle=<span class="stringliteral">&quot;0&quot;</span> aria-label=<span class="stringliteral">&quot;&lt;?php esc_attr_e( &#39;Cancel password change&#39; ); ?&gt;&quot;</span>&gt;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;text&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Cancel&#39;</span> ); ?&gt;&lt;/span&gt;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                &lt;/<a class="code" href="namespacebutton.html">button</a>&gt;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                &lt;div style=<span class="stringliteral">&quot;display:none&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;pass-strength-result&quot;</span> aria-live=<span class="stringliteral">&quot;polite&quot;</span>&gt;&lt;/div&gt;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            &lt;/div&gt;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field form-required user-pass2-wrap hide-if-js&quot;</span>&gt;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;label <span class="keywordflow">for</span>=<span class="stringliteral">&quot;pass2&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Repeat Password&#39;</span> ); ?&gt; &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;description&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;(required)&#39;</span> ); ?&gt;&lt;/span&gt;&lt;/label&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        &lt;input name=<span class="stringliteral">&quot;pass2&quot;</span> type=<span class="stringliteral">&quot;password&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;pass2&quot;</span> autocomplete=<span class="stringliteral">&quot;off&quot;</span> /&gt;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;pw-weak&quot;</span>&gt;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        &lt;th&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Confirm Password&#39;</span> ); ?&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            &lt;label&gt;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                &lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;pw_weak&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;pw-checkbox&quot;</span> /&gt;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Confirm use of weak password&#39;</span> ); ?&gt;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            &lt;/label&gt;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Send User Notification&#39;</span> ) ?&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        &lt;td&gt;&lt;label <span class="keywordflow">for</span>=<span class="stringliteral">&quot;send_user_notification&quot;</span>&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;send_user_notification&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;send_user_notification&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span> &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="general-template_8php.html#ac5a8cddc08f21085ba0939cda4f64766">checked</a>( $new_user_send_notification ); ?&gt; /&gt; &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Send the new user an email about their account.&#39;</span> ); ?&gt;&lt;/label&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> } <span class="comment">// !is_multisite ?&gt;</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    &lt;tr <span class="keyword">class</span>=<span class="stringliteral">&quot;form-field&quot;</span>&gt;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;role&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Role&#39;</span>); ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        &lt;td&gt;&lt;select name=<span class="stringliteral">&quot;role&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;role&quot;</span>&gt;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            &lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">if</span> ( !$new_user_role )</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                $new_user_role = !empty($current_role) ? $current_role : <a class="code" href="noop_8php.html#aaf1220eff85fdd291725eabf743b2ed3">get_option</a>(<span class="stringliteral">&#39;default_role&#39;</span>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="wp-admin_2includes_2template_8php.html#a94ec85505632e409a3f4617df092de80">wp_dropdown_roles</a>($new_user_role);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            ?&gt;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            &lt;/select&gt;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    &lt;?<a class="code" href="namespacephp.html">php</a> <span class="keywordflow">if</span> ( <a class="code" href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a>() &amp;&amp; <a class="code" href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a>( <span class="stringliteral">&#39;manage_network_users&#39;</span> ) ) { ?&gt;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        &lt;th scope=<span class="stringliteral">&quot;row&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;noconfirmation&quot;</span>&gt;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>(<span class="stringliteral">&#39;Skip Confirmation Email&#39;</span>) ?&gt;&lt;/<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a>&gt;&lt;/th&gt;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        &lt;td&gt;&lt;<a class="code" href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;noconfirmation&quot;</span>&gt;&lt;<a class="code" href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a> <a class="code" href="namespacetype.html">type</a>=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;noconfirmation&quot;</span> <span class="keywordtype">id</span>=<span class="stringliteral">&quot;noconfirmation&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span> &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="general-template_8php.html#ac5a8cddc08f21085ba0939cda4f64766">checked</a>( $new_user_ignore_pass ); ?&gt; /&gt; &lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a>( <span class="stringliteral">&#39;Add the user without sending an email that requires their confirmation.&#39;</span> ); ?&gt;&lt;/label&gt;&lt;/td&gt;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    &lt;?<a class="code" href="namespacephp.html">php</a> } ?&gt;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;&lt;/table&gt;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a><span class="comment"></span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/** This action is documented in wp-admin/user-new.php */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<a class="code" href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a>( <span class="stringliteral">&#39;user_new_form&#39;</span>, <span class="stringliteral">&#39;add-new-user&#39;</span> );</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;?&gt;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> <a class="code" href="wp-admin_2includes_2template_8php.html#ae57d23d839676b8d98097c939e863f0f">submit_button</a>( <a class="code" href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a>( <span class="stringliteral">&#39;Add New User&#39;</span> ), <span class="stringliteral">&#39;primary&#39;</span>, <span class="stringliteral">&#39;createuser&#39;</span>, <span class="keyword">true</span>, array( <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;createusersub&#39;</span> ) ); ?&gt;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;&lt;/form&gt;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a> } <span class="comment">// current_user_can(&#39;create_users&#39;) ?&gt;</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;&lt;/div&gt;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;&lt;?<a class="code" href="namespacephp.html">php</a></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;include( <a class="code" href="load-scripts_8php.html#a495f94983b95273ad267511b2411351f">ABSPATH</a> . <span class="stringliteral">&#39;wp-admin/admin-footer.php&#39;</span> );</div>
<div class="ttc" id="ms-functions_8php_html_af8744a9eea4abee621215d9ae6348c68"><div class="ttname"><a href="ms-functions_8php.html#af8744a9eea4abee621215d9ae6348c68">wp_is_large_network</a></div><div class="ttdeci">wp_is_large_network($using= 'sites')</div><div class="ttdoc">Whether or not we have a large network. </div><div class="ttdef"><b>Definition:</b> <a href="ms-functions_8php_source.html#l02386">ms-functions.php:2386</a></div></div>
<div class="ttc" id="wp-settings_8php_html_a52044fb33b3842bc3d4655d3bd64415e"><div class="ttname"><a href="wp-settings_8php.html#a52044fb33b3842bc3d4655d3bd64415e">$blog_id</a></div><div class="ttdeci">global $blog_id</div><div class="ttdoc">If not already configured, $blog_id will default to 1 in a single site configuration. </div><div class="ttdef"><b>Definition:</b> <a href="wp-settings_8php_source.html#l00030">wp-settings.php:30</a></div></div>
<div class="ttc" id="wp-admin_2includes_2template_8php_html_ae57d23d839676b8d98097c939e863f0f"><div class="ttname"><a href="wp-admin_2includes_2template_8php.html#ae57d23d839676b8d98097c939e863f0f">submit_button</a></div><div class="ttdeci">submit_button($text=null, $type= 'primary', $name= 'submit', $wrap=true, $other_attributes=null)</div><div class="ttdoc">Echoes a submit button, with provided text and appropriate class(es). </div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2includes_2template_8php_source.html#l01858">wp-admin/includes/template.php:1858</a></div></div>
<div class="ttc" id="ms-functions_8php_html_a41820c535b4be9fce06c03595d6ca14a"><div class="ttname"><a href="ms-functions_8php.html#a41820c535b4be9fce06c03595d6ca14a">wpmu_activate_signup</a></div><div class="ttdeci">wpmu_activate_signup($key)</div><div class="ttdoc">Activate a signup. </div><div class="ttdef"><b>Definition:</b> <a href="ms-functions_8php_source.html#l00952">ms-functions.php:952</a></div></div>
<div class="ttc" id="wordpress_2wp-includes_2functions_8php_html_a68f0b952d066b096228913409d3da4bb"><div class="ttname"><a href="wordpress_2wp-includes_2functions_8php.html#a68f0b952d066b096228913409d3da4bb">wp_nonce_field</a></div><div class="ttdeci">wp_nonce_field($action=-1, $name=&quot;_wpnonce&quot;, $referer=true, $echo=true)</div><div class="ttdoc">Retrieve or display nonce hidden field for forms. </div><div class="ttdef"><b>Definition:</b> <a href="wordpress_2wp-includes_2functions_8php_source.html#l01457">wordpress/wp-includes/functions.php:1457</a></div></div>
<div class="ttc" id="wp-includes_2user_8php_html_aa996da3ba6781da9cf467c0dc860a9c2"><div class="ttname"><a href="wp-includes_2user_8php.html#aa996da3ba6781da9cf467c0dc860a9c2">get_blogs_of_user</a></div><div class="ttdeci">get_blogs_of_user($user_id, $all=false)</div><div class="ttdoc">Get the blogs a user belongs to. </div><div class="ttdef"><b>Definition:</b> <a href="wp-includes_2user_8php_source.html#l00500">wp-includes/user.php:500</a></div></div>
<div class="ttc" id="l10n_8php_html_a7c465cd7da9f372bd5e69ddf5f12a5ae"><div class="ttname"><a href="l10n_8php.html#a7c465cd7da9f372bd5e69ddf5f12a5ae">translate_user_role</a></div><div class="ttdeci">translate_user_role($name)</div><div class="ttdoc">Translates role name. </div><div class="ttdef"><b>Definition:</b> <a href="l10n_8php_source.html#l00834">l10n.php:834</a></div></div>
<div class="ttc" id="wp-includes_2plugin_8php_html_aed75045b0b4572e55462b37b063a77cc"><div class="ttname"><a href="wp-includes_2plugin_8php.html#aed75045b0b4572e55462b37b063a77cc">do_action</a></div><div class="ttdeci">do_action($tag, $arg= '')</div><div class="ttdoc">Execute functions hooked on a specific action hook. </div><div class="ttdef"><b>Definition:</b> <a href="wp-includes_2plugin_8php_source.html#l00482">wp-includes/plugin.php:482</a></div></div>
<div class="ttc" id="user-edit_8php_html_af0fcd925f00973e32f7214859dfb3c6b"><div class="ttname"><a href="user-edit_8php.html#af0fcd925f00973e32f7214859dfb3c6b">$user_id</a></div><div class="ttdeci">$user_id</div><div class="ttdef"><b>Definition:</b> <a href="user-edit_8php_source.html#l00014">user-edit.php:14</a></div></div>
<div class="ttc" id="ms-functions_8php_html_a2e4509907e076b9d81cadb52ad678d3f"><div class="ttname"><a href="ms-functions_8php.html#a2e4509907e076b9d81cadb52ad678d3f">add_existing_user_to_blog</a></div><div class="ttdeci">add_existing_user_to_blog($details=false)</div><div class="ttdoc">Add a user to a blog based on details from maybe_add_existing_user_to_blog(). </div><div class="ttdef"><b>Definition:</b> <a href="ms-functions_8php_source.html#l01982">ms-functions.php:1982</a></div></div>
<div class="ttc" id="user-new_8php_html_a44805f40a27f459d71ccccdf12f01e48"><div class="ttname"><a href="user-new_8php.html#a44805f40a27f459d71ccccdf12f01e48">$parent_file</a></div><div class="ttdeci">$parent_file</div><div class="ttdef"><b>Definition:</b> <a href="user-new_8php_source.html#l00162">user-new.php:162</a></div></div>
<div class="ttc" id="screen_8php_html_aa2536d3fe4b68dea313b1523ea606f10"><div class="ttname"><a href="screen_8php.html#aa2536d3fe4b68dea313b1523ea606f10">get_current_screen</a></div><div class="ttdeci">get_current_screen()</div><div class="ttdoc">Get the current screen object. </div><div class="ttdef"><b>Definition:</b> <a href="screen_8php_source.html#l00205">screen.php:205</a></div></div>
<div class="ttc" id="option_8php_html_afacc3facc45e9b1cf03120755d40f494"><div class="ttname"><a href="option_8php.html#afacc3facc45e9b1cf03120755d40f494">add_option</a></div><div class="ttdeci">add_option($option, $value= '', $deprecated= '', $autoload= 'yes')</div><div class="ttdoc">Add a new option. </div><div class="ttdef"><b>Definition:</b> <a href="option_8php_source.html#l00398">option.php:398</a></div></div>
<div class="ttc" id="capabilities_8php_html_a99845439f6f1db111622e0b684512ba7"><div class="ttname"><a href="capabilities_8php.html#a99845439f6f1db111622e0b684512ba7">is_super_admin</a></div><div class="ttdeci">is_super_admin($user_id=false)</div><div class="ttdoc">Determine if user is a site admin. </div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8php_source.html#l00598">capabilities.php:598</a></div></div>
<div class="ttc" id="ms-functions_8php_html_af7ed3ab412e3b6305a695b477cd1ff25"><div class="ttname"><a href="ms-functions_8php.html#af7ed3ab412e3b6305a695b477cd1ff25">wpmu_validate_user_signup</a></div><div class="ttdeci">wpmu_validate_user_signup($user_name, $user_email)</div><div class="ttdoc">Sanitize and validate data required for a user sign-up. </div><div class="ttdef"><b>Definition:</b> <a href="ms-functions_8php_source.html#l00407">ms-functions.php:407</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_a21a183f927a6d243fe6b4ba3a6c4d4c8"><div class="ttname"><a href="edit-form-advanced_8php.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a></div><div class="ttdeci">if(!$permalink) $messages</div><div class="ttdoc">Filter the post updated messages. </div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00083">edit-form-advanced.php:83</a></div></div>
<div class="ttc" id="noop_8php_html_a2d2cbc03d92d4736569cab661c417c22"><div class="ttname"><a href="noop_8php.html#a2d2cbc03d92d4736569cab661c417c22">home_url</a></div><div class="ttdeci">home_url()</div><div class="ttdef"><b>Definition:</b> <a href="noop_8php_source.html#l00076">noop.php:76</a></div></div>
<div class="ttc" id="wp-admin_2includes_2user_8php_html_a4805f4fa3881ded3b61575ab931f1d0b"><div class="ttname"><a href="wp-admin_2includes_2user_8php.html#a4805f4fa3881ded3b61575ab931f1d0b">get_editable_roles</a></div><div class="ttdeci">get_editable_roles()</div><div class="ttdoc">Fetch a filtered list of user roles that the current user is allowed to edit. </div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2includes_2user_8php_source.html#l00211">wp-admin/includes/user.php:211</a></div></div>
<div class="ttc" id="load-scripts_8php_html_a495f94983b95273ad267511b2411351f"><div class="ttname"><a href="load-scripts_8php.html#a495f94983b95273ad267511b2411351f">ABSPATH</a></div><div class="ttdeci">const ABSPATH</div><div class="ttdoc">Set ABSPATH for execution. </div><div class="ttdef"><b>Definition:</b> <a href="load-scripts_8php_source.html#l00011">load-scripts.php:11</a></div></div>
<div class="ttc" id="wordpress_2wp-includes_2functions_8php_html_a06d38a93c806c187fd21200c1baa9f53"><div class="ttname"><a href="wordpress_2wp-includes_2functions_8php.html#a06d38a93c806c187fd21200c1baa9f53">wp_die</a></div><div class="ttdeci">wp_die($message= '', $title= '', $args=array())</div><div class="ttdoc">Kill WordPress execution and display HTML message with error message. </div><div class="ttdef"><b>Definition:</b> <a href="wordpress_2wp-includes_2functions_8php_source.html#l02477">wordpress/wp-includes/functions.php:2477</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_ada8efad85a9cd028503cbe55c37c890a"><div class="ttname"><a href="edit-form-advanced_8php.html#ada8efad85a9cd028503cbe55c37c890a">_x</a></div><div class="ttdeci">if(current_theme_supports( 'post-formats')&amp;&amp;post_type_supports($post_type, 'post-formats')) add_meta_box( 'formatdiv' _x( 'Format', 'post format')</div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00244">edit-form-advanced.php:244</a></div></div>
<div class="ttc" id="search-field-date__range_8php_html_a177af2bf70bede02de3d05a425fb8e43"><div class="ttname"><a href="search-field-date__range_8php.html#a177af2bf70bede02de3d05a425fb8e43">$label</a></div><div class="ttdeci">$label</div><div class="ttdef"><b>Definition:</b> <a href="search-field-date__range_8php_source.html#l00011">search-field-date_range.php:11</a></div></div>
<div class="ttc" id="admin_8php_html_af1c9ecf26c0cfd247c0760dd4b594a6d"><div class="ttname"><a href="admin_8php.html#af1c9ecf26c0cfd247c0760dd4b594a6d">elseif</a></div><div class="ttdeci">if(get_option('db_upgraded')) elseif(get_option('db_version')!=$wp_db_version &amp;&amp;empty($_POST))</div><div class="ttdef"><b>Definition:</b> <a href="admin_8php_source.html#l00045">admin.php:45</a></div></div>
<div class="ttc" id="user-new_8php_html_a82cd33ca97ff99f2fcc5e9c81d65251b"><div class="ttname"><a href="user-new_8php.html#a82cd33ca97ff99f2fcc5e9c81d65251b">endif</a></div><div class="ttdeci">endif</div><div class="ttdef"><b>Definition:</b> <a href="user-new_8php_source.html#l00270">user-new.php:270</a></div></div>
<div class="ttc" id="wordpress_2wp-includes_2functions_8php_html_a6e348722923afe18808c59773964c162"><div class="ttname"><a href="wordpress_2wp-includes_2functions_8php.html#a6e348722923afe18808c59773964c162">add_query_arg</a></div><div class="ttdeci">add_query_arg()</div><div class="ttdoc">Retrieves a modified URL query string. </div><div class="ttdef"><b>Definition:</b> <a href="wordpress_2wp-includes_2functions_8php_source.html#l00770">wordpress/wp-includes/functions.php:770</a></div></div>
<div class="ttc" id="namespacep_html"><div class="ttname"><a href="namespacep.html">p</a></div></div>
<div class="ttc" id="noop_8php_html_a54639394aa645a2277ea41f3cbd23247"><div class="ttname"><a href="noop_8php.html#a54639394aa645a2277ea41f3cbd23247">apply_filters</a></div><div class="ttdeci">apply_filters()</div><div class="ttdef"><b>Definition:</b> <a href="noop_8php_source.html#l00026">noop.php:26</a></div></div>
<div class="ttc" id="wp-admin_2revision_8php_html_aac4ebfd3fdc5cfdfdf7dfee59664f286"><div class="ttname"><a href="wp-admin_2revision_8php.html#aac4ebfd3fdc5cfdfdf7dfee59664f286">$redirect</a></div><div class="ttdeci">$redirect</div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2revision_8php_source.html#l00030">wp-admin/revision.php:30</a></div></div>
<div class="ttc" id="noop_8php_html_aaf1220eff85fdd291725eabf743b2ed3"><div class="ttname"><a href="noop_8php.html#aaf1220eff85fdd291725eabf743b2ed3">get_option</a></div><div class="ttdeci">get_option()</div><div class="ttdef"><b>Definition:</b> <a href="noop_8php_source.html#l00031">noop.php:31</a></div></div>
<div class="ttc" id="namespacetable_html"><div class="ttname"><a href="namespacetable.html">table</a></div></div>
<div class="ttc" id="class-wp-error_8php_html_a741b5ec807dbba8d2a0851e32e7d926c"><div class="ttname"><a href="class-wp-error_8php.html#a741b5ec807dbba8d2a0851e32e7d926c">is_wp_error</a></div><div class="ttdeci">is_wp_error($thing)</div><div class="ttdoc">Check whether variable is a WordPress Error. </div><div class="ttdef"><b>Definition:</b> <a href="class-wp-error_8php_source.html#l00216">class-wp-error.php:216</a></div></div>
<div class="ttc" id="user-new_8php_html_ae8c606891eb7e59cb0674a2dd63c5498"><div class="ttname"><a href="user-new_8php.html#ae8c606891eb7e59cb0674a2dd63c5498">$help</a></div><div class="ttdeci">$help</div><div class="ttdef"><b>Definition:</b> <a href="user-new_8php_source.html#l00168">user-new.php:168</a></div></div>
<div class="ttc" id="user-new_8php_html_a967526320821016734db506ba6cee34a"><div class="ttname"><a href="user-new_8php.html#a967526320821016734db506ba6cee34a">$do_both</a></div><div class="ttdeci">$do_both</div><div class="ttdef"><b>Definition:</b> <a href="user-new_8php_source.html#l00164">user-new.php:164</a></div></div>
<div class="ttc" id="form__list_8php_html_a37ec3c0e38c16262d3ff05971a91c276"><div class="ttname"><a href="form__list_8php.html#a37ec3c0e38c16262d3ff05971a91c276">input</a></div><div class="ttdeci">gf_new_form_modal_container setting row input</div><div class="ttdef"><b>Definition:</b> <a href="form__list_8php_source.html#l00157">form_list.php:157</a></div></div>
<div class="ttc" id="wordpress_2wp-admin_2network_2settings_8php_html_af850206ec47fb9a5348fb5b666662c18"><div class="ttname"><a href="wordpress_2wp-admin_2network_2settings_8php.html#af850206ec47fb9a5348fb5b666662c18">_e</a></div><div class="ttdeci">_e( 'Network Title')?&gt;&lt;/label &gt;&lt;/th &gt;&lt; td &gt;&lt; input name</div><div class="ttdef"><b>Definition:</b> <a href="wordpress_2wp-admin_2network_2settings_8php_source.html#l00107">wordpress/wp-admin/network/settings.php:107</a></div></div>
<div class="ttc" id="functions_8wp-scripts_8php_html_ac7df944536184efa854f298abe6f334b"><div class="ttname"><a href="functions_8wp-scripts_8php.html#ac7df944536184efa854f298abe6f334b">wp_enqueue_script</a></div><div class="ttdeci">wp_enqueue_script($handle, $src=false, $deps=array(), $ver=false, $in_footer=false)</div><div class="ttdoc">Enqueue a script. </div><div class="ttdef"><b>Definition:</b> <a href="functions_8wp-scripts_8php_source.html#l00224">functions.wp-scripts.php:224</a></div></div>
<div class="ttc" id="general-template_8php_html_ac5a8cddc08f21085ba0939cda4f64766"><div class="ttname"><a href="general-template_8php.html#ac5a8cddc08f21085ba0939cda4f64766">checked</a></div><div class="ttdeci">checked($checked, $current=true, $echo=true)</div><div class="ttdoc">Outputs the html checked attribute. </div><div class="ttdef"><b>Definition:</b> <a href="general-template_8php_source.html#l03396">general-template.php:3396</a></div></div>
<div class="ttc" id="formatting_8php_html_a08d3865661c83bd5d72f4024cabafd70"><div class="ttname"><a href="formatting_8php.html#a08d3865661c83bd5d72f4024cabafd70">sanitize_user</a></div><div class="ttdeci">sanitize_user($username, $strict=false)</div><div class="ttdoc">Sanitizes a username, stripping out unsafe characters. </div><div class="ttdef"><b>Definition:</b> <a href="formatting_8php_source.html#l01452">formatting.php:1452</a></div></div>
<div class="ttc" id="edit-comments_8php_html_a01a5ac2afed3a262528186f4ba5f9693"><div class="ttname"><a href="edit-comments_8php.html#a01a5ac2afed3a262528186f4ba5f9693">name</a></div><div class="ttdeci">s name</div><div class="ttdef"><b>Definition:</b> <a href="edit-comments_8php_source.html#l00156">edit-comments.php:156</a></div></div>
<div class="ttc" id="user-new_8php_html_a19d8e7aa72928f0af73e157f609374e7"><div class="ttname"><a href="user-new_8php.html#a19d8e7aa72928f0af73e157f609374e7">$title</a></div><div class="ttdeci">if(is_multisite()) elseif(!current_user_can( 'create_users')) if(is_multisite()) if(isset($_REQUEST['action'])&amp;&amp; 'adduser'==$_REQUEST['action']) elseif(isset($_REQUEST['action'])&amp;&amp; 'createuser'==$_REQUEST['action']) $title</div><div class="ttdoc">WordPress Administration Bootstrap. </div><div class="ttdef"><b>Definition:</b> <a href="user-new_8php_source.html#l00161">user-new.php:161</a></div></div>
<div class="ttc" id="sites_8php_html_a7403ae1dd22aabdfaf1c54375a124754"><div class="ttname"><a href="sites_8php.html#a7403ae1dd22aabdfaf1c54375a124754">$msg</a></div><div class="ttdeci">if(isset($_GET['action'])) $msg</div><div class="ttdef"><b>Definition:</b> <a href="sites_8php_source.html#l00224">sites.php:224</a></div></div>
<div class="ttc" id="formatting_8php_html_a4389f130de336d59e890c79b10a60beb"><div class="ttname"><a href="formatting_8php.html#a4389f130de336d59e890c79b10a60beb">wp_specialchars_decode</a></div><div class="ttdeci">wp_specialchars_decode($string, $quote_style=ENT_NOQUOTES)</div><div class="ttdoc">Converts a number of HTML entities into their special characters. </div><div class="ttdef"><b>Definition:</b> <a href="formatting_8php_source.html#l00964">formatting.php:964</a></div></div>
<div class="ttc" id="load_8php_html_a72e5386fcd7a5ce7526d208d0b03a0af"><div class="ttname"><a href="load_8php.html#a72e5386fcd7a5ce7526d208d0b03a0af">is_multisite</a></div><div class="ttdeci">is_multisite()</div><div class="ttdoc">If Multisite is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="load_8php_source.html#l00753">load.php:753</a></div></div>
<div class="ttc" id="wp-admin_2includes_2template_8php_html_a94ec85505632e409a3f4617df092de80"><div class="ttname"><a href="wp-admin_2includes_2template_8php.html#a94ec85505632e409a3f4617df092de80">wp_dropdown_roles</a></div><div class="ttdeci">wp_dropdown_roles($selected= '')</div><div class="ttdoc">Print out option html elements for role selectors. </div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2includes_2template_8php_source.html#l00820">wp-admin/includes/template.php:820</a></div></div>
<div class="ttc" id="wp-admin_2includes_2user_8php_html_aadbd7df2f4f267fe7d491d1adb6d2c62"><div class="ttname"><a href="wp-admin_2includes_2user_8php.html#aadbd7df2f4f267fe7d491d1adb6d2c62">edit_user</a></div><div class="ttdeci">edit_user($user_id=0)</div><div class="ttdoc">Edit user settings based on contents of $_POST. </div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2includes_2user_8php_source.html#l00030">wp-admin/includes/user.php:30</a></div></div>
<div class="ttc" id="formatting_8php_html_a6dba609f82ebf662ef06615fac81a032"><div class="ttname"><a href="formatting_8php.html#a6dba609f82ebf662ef06615fac81a032">wp_unslash</a></div><div class="ttdeci">wp_unslash($value)</div><div class="ttdoc">Remove slashes from a string or array of strings. </div><div class="ttdef"><b>Definition:</b> <a href="formatting_8php_source.html#l04420">formatting.php:4420</a></div></div>
<div class="ttc" id="form__list_8php_html_a75c7d6fef8f2fc1b14944df043dd5690"><div class="ttname"><a href="form__list_8php.html#a75c7d6fef8f2fc1b14944df043dd5690">label</a></div><div class="ttdeci">gf_new_form_modal_container setting row label</div><div class="ttdef"><b>Definition:</b> <a href="form__list_8php_source.html#l00153">form_list.php:153</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_a46b3622ccc6d393dfd97e355b7bd0bd6"><div class="ttname"><a href="edit-form-advanced_8php.html#a46b3622ccc6d393dfd97e355b7bd0bd6">null</a></div><div class="ttdeci">if(current_theme_supports( 'post-formats')&amp;&amp;post_type_supports($post_type, 'post-formats')) add_meta_box( 'formatdiv' null</div><div class="ttdoc">When displaying the single entry we should always know to which View it belongs (the context is every...</div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00244">edit-form-advanced.php:244</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_abf17cb2dba2ed17cb28aa5f37deb5293"><div class="ttname"><a href="edit-form-advanced_8php.html#abf17cb2dba2ed17cb28aa5f37deb5293">$message</a></div><div class="ttdeci">$message</div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00174">edit-form-advanced.php:174</a></div></div>
<div class="ttc" id="noop_8php_html_a4df34d0c6ff2b33c5178529f19b82f90"><div class="ttname"><a href="noop_8php.html#a4df34d0c6ff2b33c5178529f19b82f90">add_filter</a></div><div class="ttdeci">add_filter()</div><div class="ttdef"><b>Definition:</b> <a href="noop_8php_source.html#l00016">noop.php:16</a></div></div>
<div class="ttc" id="namespacephp_html"><div class="ttname"><a href="namespacephp.html">php</a></div></div>
<div class="ttc" id="namespacebutton_html"><div class="ttname"><a href="namespacebutton.html">button</a></div></div>
<div class="ttc" id="ms-functions_8php_html_a82e4acb951d2eedb80de073eb78398ed"><div class="ttname"><a href="ms-functions_8php.html#a82e4acb951d2eedb80de073eb78398ed">wpmu_signup_user</a></div><div class="ttdeci">wpmu_signup_user($user, $user_email, $meta=array())</div><div class="ttdoc">Record user signup information for future activation. </div><div class="ttdef"><b>Definition:</b> <a href="ms-functions_8php_source.html#l00713">ms-functions.php:713</a></div></div>
<div class="ttc" id="wp-admin_2widgets_8php_html_ab24faf4aa647cdcee494fc48524ad4ff"><div class="ttname"><a href="wp-admin_2widgets_8php.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a></div><div class="ttdeci">$errors</div><div class="ttdef"><b>Definition:</b> <a href="wp-admin_2widgets_8php_source.html#l00339">wp-admin/widgets.php:339</a></div></div>
<div class="ttc" id="schema_8php_html_aaac3ddf81d405fac59e1dceeca05b0a7"><div class="ttname"><a href="schema_8php.html#aaac3ddf81d405fac59e1dceeca05b0a7">$wpdb</a></div><div class="ttdeci">global $wpdb</div><div class="ttdoc">Declare these as global in case schema.php is included from a function. </div><div class="ttdef"><b>Definition:</b> <a href="schema_8php_source.html#l00018">schema.php:18</a></div></div>
<div class="ttc" id="namespacetype_html"><div class="ttname"><a href="namespacetype.html">type</a></div></div>
<div class="ttc" id="edit-form-advanced_8php_html_a866e7f0f003101850a78f372dd07bd2a"><div class="ttname"><a href="edit-form-advanced_8php.html#a866e7f0f003101850a78f372dd07bd2a">__</a></div><div class="ttdeci">if(current_theme_supports( 'post-formats')&amp;&amp;post_type_supports($post_type, 'post-formats')) add_meta_box( 'formatdiv'foreach(get_object_taxonomies($post) as $tax_name) if($thumbnail_support &amp;&amp;current_user_can( 'upload_files')) add_meta_box('postimagediv'if(post_type_supports($post_type, 'excerpt')) add_meta_box('postexcerpt' __('Excerpt')</div><div class="ttdef"><b>Definition:</b> <a href="edit-form-advanced_8php_source.html#l00269">edit-form-advanced.php:269</a></div></div>
<div class="ttc" id="capabilities_8php_html_a3cea61656956bc24826e04276a5847fc"><div class="ttname"><a href="capabilities_8php.html#a3cea61656956bc24826e04276a5847fc">current_user_can</a></div><div class="ttdeci">current_user_can($capability)</div><div class="ttdoc">Whether the current user has a specific capability. </div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8php_source.html#l00423">capabilities.php:423</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<script type="text/javascript">
    jQuery( document ).ready( function( $ ) {
        $( 'a.anchor[id^=_filters],a.anchor[id^=_actions]' ).each( function() {
            $( this )
                .text('#')
                .attr( 'href', function() {
                    return '#' + $( this ).attr( 'id' );
                }).prependTo( $( this ).parent('dt' ).next('dd') );
        });
    });
</script>
</body>
</html>
