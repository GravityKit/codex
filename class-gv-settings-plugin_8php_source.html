<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GravityView: class-gv-settings-plugin.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GravityView
   &#160;<span id="projectnumber">2.17</span>
   </div>
   <div id="projectbrief">The best, easiest way to display Gravity Forms entries on your website.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b991dd203557c1647cca2d1663310531.html">future</a></li><li class="navelem"><a class="el" href="dir_a8acf44409dadd61db1b11237b62bf3c.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">class-gv-settings-plugin.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="class-gv-settings-plugin_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_g_v.html">GV</a>;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;use <a class="code" href="namespace_gravity_kit_foundation.html">GravityKitFoundation</a>;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;use <a class="code" href="class_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_settings_1_1_framework.html">GravityKit\GravityView\Foundation\Settings\Framework</a> as SettingsFramework;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;use <a class="code" href="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_core.html">GravityKit\GravityView\Foundation\Core</a> as <a class="code" href="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_core.html">FoundationCore</a>;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;use <a class="code" href="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_helpers_1_1_arr.html">GravityKit\GravityView\Foundation\Helpers\Arr</a>;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Ex-GF Addon Settings class that&#39;s been stripped of GF functionality.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Serves as a wrapper for Foundation Settings while also providing old getter/setter methods for backward compatibility.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html">   14</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_g_v_1_1_plugin___settings.html">Plugin_Settings</a> {</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#af9cbf2bf0964b219363e19b7d793025b">   15</a></span>&#160;    <span class="keyword">const</span> SETTINGS_PLUGIN_ID = <span class="stringliteral">&#39;gravityview&#39;</span>;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">     * Foundation Settings framework instance.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">     * @since 2.16</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">     * @var SettingsFramework|GravityKitFoundation::settings</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#aad33e3269c69f8c8171148d4e027b1a1">   24</a></span>&#160;    <span class="keyword">private</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#aad33e3269c69f8c8171148d4e027b1a1">$_foundation_settings</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">     * Cached settings.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">     * @since 2.16.2</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">     * @var array</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#aa13f0e019b79b0f320e1d812e668babf">   33</a></span>&#160;    <span class="keyword">private</span> $_plugin_settings = [];</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a095c5d389db211932136b53f25f39685">   35</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a095c5d389db211932136b53f25f39685">__construct</a>() {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment">// GravityKitFoundation may not yet be available when this class is instantiated, so let&#39;s temporarily use the Settings framework from Foundation that&#39;s included with GravityView and then possibly replace it with the latest version.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        $this-&gt;_foundation_settings = SettingsFramework::get_instance();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        add_action( <span class="stringliteral">&#39;gk/foundation/initialized&#39;</span>, <span class="keyword">function</span> () {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            $this-&gt;_foundation_settings = GravityKitFoundation::settings();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        } );</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        add_filter( <span class="stringliteral">&#39;gk/foundation/settings/data/plugins&#39;</span>, [ $this, <span class="stringliteral">&#39;add_settings&#39;</span> ] );</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">     * Returns a setting.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">     * @param string $setting_name The setting key.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     * @return mixed The setting or null</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">     * @deprecated Use \GV\Plugin_Settings::get()</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#aff18b343d3e9b8c407ec9dc375f69581">   54</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#aff18b343d3e9b8c407ec9dc375f69581">get_app_setting</a>( $setting_name ) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">get</span>( $setting_name );</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">     * Returns setting by its name.</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">     * @param string $key     The setting key.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">     * @param string $default (optional) A default if not found.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">     * @return mixed The setting value.</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a8676f24fc4f07b82062e625c0a75ce85">   66</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <span class="keyword">get</span>( $key, $default = null ) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> Arr::get( $this-&gt;all(), $key, $default );</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * Returns setting by its name.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     * @param string $key Option key to fetch</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     * @return mixed</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * @deprecated Use gravityview()-&gt;plugin-&gt;settings-&gt;get()</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a7819064d97f56c208c802008c511c571">   78</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a7819064d97f56c208c802008c511c571">getSetting</a>( $key ) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;settings instanceof <a class="code" href="class_g_v_1_1_plugin___settings.html">Plugin_Settings</a> ) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;settings-&gt;get( $key );</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">     * Returns all settings.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     * @return array The settings.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     * @deprecated Use \GV\Plugin_Settings::all() or \GV\Plugin_Settings::get()</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a9f9d7d3a5bb01094f4b62bdd46fb651d">   90</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a9f9d7d3a5bb01094f4b62bdd46fb651d">get_app_settings</a>() {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> $this-&gt;all();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">     * Returns all settings.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">     * @return array The settings.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#af9d14e4ae6227970ad603987781573ca">   99</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#af9d14e4ae6227970ad603987781573ca">all</a>() {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">if</span> ( ! empty( $this-&gt;_plugin_settings ) ) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span> $this-&gt;_plugin_settings;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        $this-&gt;_plugin_settings = $this-&gt;_foundation_settings-&gt;get_plugin_settings( self::SETTINGS_PLUGIN_ID );</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// Migrate legacy settings</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span> ( empty( $this-&gt;_plugin_settings ) ) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            $this-&gt;_plugin_settings = $this-&gt;migrate_legacy_settings();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        $this-&gt;_plugin_settings = wp_parse_args( $this-&gt;_plugin_settings, $this-&gt;defaults() );</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> $this-&gt;_plugin_settings;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">     * Migrates GravityView &lt;2.16 settings to the new settings framework.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     * Some of those settings are now part of the GravityKit general settings, and some are part of the GravityView plugin settings.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">     * @return array The settings.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a291615850daab21a4b8edda3216f4073">  122</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a291615850daab21a4b8edda3216f4073">migrate_legacy_settings</a>() {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        $option_name = <span class="stringliteral">&#39;gravityformsaddon_&#39;</span> . self::SETTINGS_PLUGIN_ID . <span class="stringliteral">&#39;_app_settings&#39;</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// Legacy check (@see https://github.com/gravityview/GravityView/blob/3719151f3752ebca56b5ec70bd4064effcb7094a/future/includes/class-gv-settings-addon.php#L939)</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        $site_has_settings = ( ! is_multisite() ) || is_main_site() || ( ! <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;is_network_activated() ) || ( is_network_admin() &amp;&amp; <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;is_network_activated() );</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> ( $site_has_settings ) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            $legacy_settings = get_option( $option_name, array() );</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            $legacy_settings = get_blog_option( get_main_site_id(), $option_name );</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> ( empty( $legacy_settings ) ) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">return</span> [];</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">// Migrate legacy GravityView settings that are still part of GravityView.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        $plugin_settings = [</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="stringliteral">&#39;rest_api&#39;</span> =&gt; (int) Arr::get( $legacy_settings, <span class="stringliteral">&#39;rest_api&#39;</span> ),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        ];</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        $this-&gt;_foundation_settings-&gt;save_plugin_settings( self::SETTINGS_PLUGIN_ID, $plugin_settings );</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">// Migrate legacy GravityView settings that are now part of the GravityKit general settings.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        $gk_settings_id = class_exists( <span class="stringliteral">&#39;GravityKitFoundation&#39;</span> ) ? GravityKitFoundation::ID : FoundationCore::ID;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment">// If there are no settings configured, this would typically return an array of default settings.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// However, because GV\Plugin_Settings is used before Foundation initializes and configures default settings, this will return an empty array indicating that migration should proceed.</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        $gk_settings = $this-&gt;_foundation_settings-&gt;get_plugin_settings( $gk_settings_id );</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> ( empty( $gk_settings ) ) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            $gk_settings = [</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="stringliteral">&#39;support_email&#39;</span>    =&gt; Arr::get( $legacy_settings, <span class="stringliteral">&#39;support-email&#39;</span> ),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="stringliteral">&#39;support_port&#39;</span>     =&gt; Arr::get( $legacy_settings, <span class="stringliteral">&#39;support_port&#39;</span> ),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="stringliteral">&#39;powered_by&#39;</span>       =&gt; (int) Arr::get( $legacy_settings, <span class="stringliteral">&#39;powered_by&#39;</span> ),</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="stringliteral">&#39;affiliate_id&#39;</span>     =&gt; Arr::get( $legacy_settings, <span class="stringliteral">&#39;affiliate_id&#39;</span> ),</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="stringliteral">&#39;beta&#39;</span>             =&gt; (int) Arr::get( $legacy_settings, <span class="stringliteral">&#39;beta&#39;</span> ),</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="stringliteral">&#39;support_email&#39;</span>    =&gt; Arr::get( $legacy_settings, <span class="stringliteral">&#39;support-email&#39;</span> ),</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="stringliteral">&#39;support_port&#39;</span>     =&gt; (int) Arr::get( $legacy_settings, <span class="stringliteral">&#39;support_port&#39;</span> ),</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="stringliteral">&#39;no_conflict_mode&#39;</span> =&gt; (int) Arr::get( $legacy_settings, <span class="stringliteral">&#39;no-conflict-mode&#39;</span> ),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            ];</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            $this-&gt;_foundation_settings-&gt;save_plugin_settings( $gk_settings_id, $gk_settings );</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> $plugin_settings;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">     * Returns a GravityKit general setting.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">     * @param string     $setting Setting value.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">     * @param mixed|null $default (optional) A default value if setting is not set. Defaults to null.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">     * @return mixed</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#ae6e57eff73edc9214de360864c1104d8">  178</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#ae6e57eff73edc9214de360864c1104d8">get_gravitykit_setting</a>( $setting, $default = null ) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        $gk_settings_id = class_exists( <span class="stringliteral">&#39;GravityKitFoundation&#39;</span> ) ? GravityKitFoundation::ID : FoundationCore::ID;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> $this-&gt;_foundation_settings-&gt;get_plugin_setting( $gk_settings_id, $setting, $default );</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">     * Returns default settings.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">     * @return array The defaults.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a1d0bfce08605255dd40acb4bfd3284b1">  189</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a1d0bfce08605255dd40acb4bfd3284b1">defaults</a>() {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        $defaults = [</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="stringliteral">&#39;rest_api&#39;</span> =&gt; 0,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="stringliteral">&#39;public_entry_moderation&#39;</span> =&gt; 0,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        ];</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">         * @filter `gravityview/settings/default` Filter default global settings.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">         * @param  [in,out] array The defaults.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> apply_filters( <span class="stringliteral">&#39;gravityview/settings/defaults&#39;</span>, $defaults );</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">     * Adds GravityView settings to Foundation.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">     * @since 2.16</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     * @param array $plugins_data Plugins data</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     * @return array $plugins_data</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a6e7942e6d5da501d0617cd7ddace2052">  212</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a6e7942e6d5da501d0617cd7ddace2052">add_settings</a>( $plugins_data ) {<span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">        /**</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">         * Override whether to show GravityView settings.</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">         * @since 1.7.6</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">         * @param bool $show_settings Default: true</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        $show_settings = apply_filters( <span class="stringliteral">&#39;gravityview/show-settings-menu&#39;</span>, <span class="keyword">true</span> );</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> ( ! $show_settings ) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">return</span> $plugins_data;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        $default_settings = $this-&gt;defaults();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> = [</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="stringliteral">&#39;id&#39;</span>       =&gt; self::SETTINGS_PLUGIN_ID,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="stringliteral">&#39;title&#39;</span>    =&gt; <span class="stringliteral">&#39;GravityView&#39;</span>,</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="stringliteral">&#39;defaults&#39;</span> =&gt; $default_settings,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="stringliteral">&#39;icon&#39;</span>     =&gt; <span class="stringliteral">&#39;data:image/svg+xml,%3Csvg width=&quot;80&quot; height=&quot;80&quot; viewBox=&quot;0 0 80 80&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Crect width=&quot;80&quot; height=&quot;80&quot; rx=&quot;8&quot; fill=&quot;%23FF1B67&quot;/%3E%3Cg clip-path=&quot;url(%23clip0_16_27)&quot;%3E%3Cpath fill-rule=&quot;evenodd&quot; clip-rule=&quot;evenodd&quot; d=&quot;M58.4105 54.6666H52.8824V56.4999C52.8824 59.5375 50.3902 61.9999 47.3544 61.9999H32.6134C29.5375 61.9999 27.0853 59.5375 27.0853 56.4999V29H21.5572C20.5144 29 19.7148 29.8207 19.7148 30.8333V49.1666C19.7148 50.1792 20.5144 51 21.5572 51H22.4788C22.9629 51 23.3997 51.4104 23.3997 51.9167V53.75C23.3997 54.2562 22.9629 54.6666 22.4788 54.6666H21.5572C18.4786 54.6666 16.0292 52.2042 16.0292 49.1666V30.8333C16.0292 27.7957 18.4786 25.3333 21.5572 25.3333H27.0853V23.5C27.0853 20.4624 29.5375 18 32.6134 18H47.3544C50.3902 18 52.8824 20.4624 52.8824 23.5V51H58.4105C59.4132 51 60.2529 50.1792 60.2529 49.1666V30.8333C60.2529 29.8207 59.4132 29 58.4105 29H57.4889C56.9647 29 56.5673 28.5896 56.5673 28.0833V26.2499C56.5673 25.7437 56.9647 25.3333 57.4889 25.3333H58.4105C61.449 25.3333 63.9378 27.7957 63.9378 30.8333V49.1666C63.9378 52.2042 61.449 54.6666 58.4105 54.6666ZM49.1968 23.5C49.1968 22.4874 48.3544 21.6667 47.3544 21.6667H32.6134C31.5733 21.6667 30.7709 22.4874 30.7709 23.5V56.4999C30.7709 57.5125 31.5733 58.3333 32.6134 58.3333H47.3544C48.3544 58.3333 49.1968 57.5125 49.1968 56.4999V23.5Z&quot; fill=&quot;white&quot;/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id=&quot;clip0_16_27&quot;%3E%3Crect width=&quot;48&quot; height=&quot;44&quot; fill=&quot;white&quot; transform=&quot;translate(16 18)&quot;/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A&#39;</span>,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="stringliteral">&#39;sections&#39;</span> =&gt; [</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                [</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <span class="stringliteral">&#39;title&#39;</span>    =&gt; esc_html__( <span class="stringliteral">&#39;General&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    <span class="stringliteral">&#39;settings&#39;</span> =&gt; [</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        [</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                            <span class="stringliteral">&#39;id&#39;</span>          =&gt; <span class="stringliteral">&#39;rest_api&#39;</span>,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                            <span class="stringliteral">&#39;type&#39;</span>        =&gt; <span class="stringliteral">&#39;checkbox&#39;</span>,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                            <span class="stringliteral">&#39;title&#39;</span>       =&gt; esc_html__( <span class="stringliteral">&#39;REST API&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                            <span class="stringliteral">&#39;description&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;Enable View and Entry access via the REST API? Regular per-View restrictions apply (private, password protected, etc.).&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) . <span class="charliteral">&#39; &#39;</span> . esc_html__( <span class="stringliteral">&#39;If you are unsure, disable this setting.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                            <span class="stringliteral">&#39;value&#39;</span>       =&gt; $this-&gt;<span class="keyword">get</span>( <span class="stringliteral">&#39;rest_api&#39;</span>, $default_settings[<span class="stringliteral">&#39;rest_api&#39;</span>] ),</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        ],</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    ],</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                ],</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                [</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="stringliteral">&#39;title&#39;</span>    =&gt; esc_html__( <span class="stringliteral">&#39;Permissions&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <span class="stringliteral">&#39;settings&#39;</span> =&gt; [</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        [</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            <span class="stringliteral">&#39;id&#39;</span>          =&gt; <span class="stringliteral">&#39;public_entry_moderation&#39;</span>,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                            <span class="stringliteral">&#39;type&#39;</span>        =&gt; <span class="stringliteral">&#39;checkbox&#39;</span>,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                            <span class="stringliteral">&#39;title&#39;</span>       =&gt; esc_html__( <span class="stringliteral">&#39;Enable Public Entry Moderation&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                            <span class="stringliteral">&#39;description&#39;</span>   =&gt; strtr(</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                <span class="comment">// translators: Do not translate the words inside the {} curly brackets; they are replaced.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                __( <span class="stringliteral">&#39;If enabled, adding {public} to {link}entry moderation merge tags{/link} will allow logged-out users to approve or reject entries. If disabled, all entry moderation actions require the user to be logged-in and have the ability to edit the entry.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                array(</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                    <span class="stringliteral">&#39;{public}&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;code style=&quot;font-size: .9em&quot;&gt;:public&lt;/code&gt;&#39;</span>,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                    <span class="stringliteral">&#39;{link}&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;a href=&quot;https://docs.gravitykit.com/article/904-entry-moderation-merge-tags&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;&#39;</span>,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                    <span class="stringliteral">&#39;{/link}&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;span class=&quot;screen-reader-text&quot;&gt; &#39;</span> . esc_html__( <span class="stringliteral">&#39;(This link opens in a new window.)&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) . <span class="stringliteral">&#39;&lt;/span&gt;&lt;/a&gt;&#39;</span>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                )</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                            ),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                            <span class="stringliteral">&#39;value&#39;</span>       =&gt; $this-&gt;<span class="keyword">get</span>( <span class="stringliteral">&#39;public_entry_moderation&#39;</span>, $default_settings[<span class="stringliteral">&#39;public_entry_moderation&#39;</span>] ),</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        ],</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    ],</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                ],</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            ],</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        ];</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">return</span> array_merge( (array) $plugins_data, [ self::SETTINGS_PLUGIN_ID =&gt; <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> ] );</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * Updates app settings with the provided settings.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">     * Same as the GFAddon, except it returns the value from update_option()</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">     * @param array $settings - App settings to be saved</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">     * @return boolean False if value was not updated and true if value was updated.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     * @deprecated Use \GV\Settings::set() or \GV\Settings::update()</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a31c8cccb6dfd99989183fe65d34b522b">  282</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a31c8cccb6dfd99989183fe65d34b522b">update_app_settings</a>( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> ) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> $this-&gt;update( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> );</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     * Sets a subset of settings.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">     * @param array|string An array of settings to update, or string (key) and $value to update one setting.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">     * @param mixed $value A value if $settings is string (key). Default: null.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a607802a536e6433bc251d5ab65983e00">  292</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <span class="keyword">set</span>( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>, <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> = null ) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> ( is_string( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> ) ) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> = [ <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> =&gt; <a class="code" href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a> ];</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> = wp_parse_args( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a>, $this-&gt;all() );</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">return</span> $this-&gt;_foundation_settings-&gt;save_plugin_settings( self::SETTINGS_PLUGIN_ID, <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> );</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     * Updates settings.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">     * @param array $settings The settings array.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * @return boolean False if value was not updated and true if value was updated.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#ad4dfe7ea26555238db12d5117fa78d8d">  309</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#ad4dfe7ea26555238db12d5117fa78d8d">update</a>( <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> ) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        $result = $this-&gt;_foundation_settings-&gt;save_plugin_settings( self::SETTINGS_PLUGIN_ID, <a class="code" href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a> );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span> ( ! $result ) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        $this-&gt;_plugin_settings = $this-&gt;_foundation_settings-&gt;get_plugin_settings( self::SETTINGS_PLUGIN_ID );</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">     * Check for the `gravityview_edit_settings` capability before saving plugin settings.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">     * Gravity Forms says you&#39;re able to edit if you&#39;re able to view settings. GravityView allows two different permissions.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">     * @since 1.15</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">     * @return void</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#aa36088f9944f271a6fce4632ebfc168f">  328</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#aa36088f9944f271a6fce4632ebfc168f">maybe_save_app_settings</a>() {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span> ( $this-&gt;is_save_postback() ) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> ( ! \<a class="code" href="class_g_v_common.html#abc061ebe78d31e57863f641ffe3e6042">GVCommon::has_cap</a>( <span class="stringliteral">&#39;gravityview_edit_settings&#39;</span> ) ) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                $_POST = []; <span class="comment">// If you don&#39;t reset the $_POST array, it *looks* like the settings were changed, but they weren&#39;t</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                \GFCommon::add_error_message( __( <span class="stringliteral">&#39;You don\&#39;t have the ability to edit plugin settings.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) );</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">     * @TODO Reimplement elsewhere.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a67b2d5dabae502875705bf0ceb448509">  342</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a67b2d5dabae502875705bf0ceb448509">_uninstall_warning_message</a>() {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        $heading = esc_html__( <span class="stringliteral">&#39;If you delete then re-install GravityView, it will be like installing GravityView for the first time.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> );</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        $message = esc_html__( <span class="stringliteral">&#39;Delete all Views, GravityView entry approval status, GravityView-generated entry notes (including approval and entry creator changes), and GravityView plugin settings.&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> );</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> sprintf( <span class="stringliteral">&#39;&lt;h4&gt;%s&lt;/h4&gt;&lt;p&gt;%s&lt;/p&gt;&#39;</span>, $heading, $message );</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">     * @TODO Reimplement elsewhere.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a93cdf0ba4dcb9ce06e082f16de6c8535">  352</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#a93cdf0ba4dcb9ce06e082f16de6c8535">_get_uninstall_reasons</a>() {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">$reasons</a> = [</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="stringliteral">&#39;will-continue&#39;</span>  =&gt; [</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;I am going to continue using GravityView&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            ],</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="stringliteral">&#39;no-longer-need&#39;</span> =&gt; [</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;I no longer need GravityView&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            ],</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="stringliteral">&#39;doesnt-work&#39;</span>    =&gt; [</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;The plugin doesn\&#39;t work&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            ],</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="stringliteral">&#39;found-other&#39;</span>    =&gt; [</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="stringliteral">&#39;label&#39;</span>    =&gt; esc_html__( <span class="stringliteral">&#39;I found a better plugin&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="stringliteral">&#39;followup&#39;</span> =&gt; esc_attr__( <span class="stringliteral">&#39;What plugin you are using, and why?&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            ],</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="stringliteral">&#39;other&#39;</span>          =&gt; [</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="stringliteral">&#39;label&#39;</span> =&gt; esc_html__( <span class="stringliteral">&#39;Other&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ),</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            ],</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        ];</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        shuffle( <a class="code" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">$reasons</a> );</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">$reasons</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">     * @TODO Reimplement elsewhere.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#abb26fb34e14315f3fa6a4ddddc30440d">  380</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="class_g_v_1_1_plugin___settings.html#abb26fb34e14315f3fa6a4ddddc30440d">_uninstall_form</a>() {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        ob_start();</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="field-created__by-html_8php.html#aadb37a5d544fbf1997f142cf3a6b7475">$user</a> = wp_get_current_user();</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        ?&gt;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        &lt;style&gt;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">            #gv-reason-details {</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                min-height: 100px;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a1a72ca130296874645823cfb6d72448e">  390</a></span>&#160;            .number-scale label {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                border: 1px solid #cccccc;</div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#a513d7c86abe486db371d75c04cb42fb2">  392</a></span>&#160;                padding: .5em .75em;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#ad8bce65b4dd2f91678e5fe6c17c263b4">  393</a></span>&#160;                margin: .1em;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">            #gv-uninstall-thanks p {</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="class_g_v_1_1_plugin___settings.html#ae20d3ca2acbfbfe24798ca800435f9f1">  397</a></span>&#160;                font-<a class="code" href="class_g_v_1_1_plugin___settings.html#ae20d3ca2acbfbfe24798ca800435f9f1">size</a>: 1.2em;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">  400</a></span>&#160;            .scale-<a class="code" href="namespace_g_v.html#a9e2c199a69711c127f1af05e6f94a5ed">description</a> <a class="code" href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">ul</a> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                margin-<a class="code" href="namespace_g_v.html#a9324057a236bf5a4cb4b02d83f2a5722">bottom</a>: 0;</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a9324057a236bf5a4cb4b02d83f2a5722">  402</a></span>&#160;                padding-<a class="code" href="namespace_g_v.html#a9324057a236bf5a4cb4b02d83f2a5722">bottom</a>: 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a9e2c199a69711c127f1af05e6f94a5ed">  405</a></span>&#160;            .scale-<a class="code" href="namespace_g_v.html#a9e2c199a69711c127f1af05e6f94a5ed">description</a> p.description {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                margin-<a class="code" href="namespace_g_v.html#af5108f51355326bddb783972fa187529">top</a>: 0 !important;</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="namespace_g_v.html#af5108f51355326bddb783972fa187529">  407</a></span>&#160;                padding-<a class="code" href="namespace_g_v.html#af5108f51355326bddb783972fa187529">top</a>: 0 !important;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a5358faae7e5fffd3670ed8999d54e0e8">  410</a></span>&#160;            .gv-form-field-<a class="code" href="namespace_g_v.html#a5358faae7e5fffd3670ed8999d54e0e8">wrapper</a> {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                margin-<a class="code" href="namespace_g_v.html#af5108f51355326bddb783972fa187529">top</a>: 30px;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        &lt;/style&gt;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        &lt;?php</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;is_GF_25() ) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            $uninstall_title = esc_html__( <span class="stringliteral">&#39;Uninstall GravityView&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> );</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            echo &lt;&lt;&lt;HTML</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;gform-settings-panel&quot;</span>&gt;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    &lt;header <span class="keyword">class</span>=<span class="stringliteral">&quot;gform-settings-panel__header&quot;</span>&gt;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        &lt;h4 <span class="keyword">class</span>=<span class="stringliteral">&quot;gform-settings-panel__title&quot;</span>&gt;{$uninstall_title}&lt;/h4&gt;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    &lt;/header&gt;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;gform-settings-panel__content&quot;</span> style=<span class="stringliteral">&quot;padding: 0 1rem 1.25rem&quot;</span>&gt;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;HTML;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="namespace_g_v.html#aa66663a04b9f2fc62d0e25e4e3b8dde7">  427</a></span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            echo <span class="stringliteral">&#39;&lt;div class=&quot;gv-uninstall-form-wrapper&quot; style=&quot;font-size: 110%; padding: 15px 0;&quot;&gt;&#39;</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        ?&gt;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        &lt;script&gt;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            jQuery( <span class="keyword">function</span> ( $ ) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                $( <span class="stringliteral">&#39;#gv-uninstall-feedback&#39;</span> ).on( <span class="stringliteral">&#39;change&#39;</span>, <span class="keyword">function</span> ( e ) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="keywordflow">if</span> ( !$( e.target ).is( <span class="stringliteral">&#39;:input&#39;</span> ) ) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    var $textarea = $( <span class="stringliteral">&#39;.gv-followup&#39;</span> ).find( <span class="stringliteral">&#39;textarea&#39;</span> );</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    var followup_text = $( e.target ).attr( <span class="stringliteral">&#39;data-followup&#39;</span> );</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="keywordflow">if</span> ( !followup_text ) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        followup_text = $textarea.attr( <span class="stringliteral">&#39;data-default&#39;</span> );</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    $textarea.attr( <span class="stringliteral">&#39;placeholder&#39;</span>, followup_text );</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                } ).on( <span class="stringliteral">&#39;submit&#39;</span>, <span class="keyword">function</span> ( e ) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    e.preventDefault();</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    $.post( $( <span class="keyword">this</span> ).attr( <span class="stringliteral">&#39;action&#39;</span> ), $( <span class="keyword">this</span> ).serialize() )</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        .done( <span class="keyword">function</span> ( data ) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                            <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;success&#39;</span> !== data.status ) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                gv_feedback_append_error_message();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                $( <span class="stringliteral">&#39;#gv-uninstall-thanks&#39;</span> ).fadeIn();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                            }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                        } )</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                        .fail( <span class="keyword">function</span> ( data ) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                            gv_feedback_append_error_message();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        } )</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        .always( <span class="keyword">function</span> () {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            $( e.target ).<span class="keyword">remove</span>();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                        } );</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                } );</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keyword">function</span> gv_feedback_append_error_message() {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    $( <span class="stringliteral">&#39;#gv-uninstall-thanks&#39;</span> ).append( <span class="stringliteral">&#39;&lt;div class=&quot;notice error&quot;&gt;&#39;</span> + &lt;?php echo json_encode( esc_html( __( <span class="stringliteral">&#39;There was an error sharing your feedback. Sorry! Please email us at support@gravityview.co&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) ) ) ?&gt; +<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span> );</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            } );</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        &lt;/script&gt;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        &lt;form <span class="keywordtype">id</span>=<span class="stringliteral">&quot;gv-uninstall-feedback&quot;</span> method=<span class="stringliteral">&quot;post&quot;</span> action=<span class="stringliteral">&quot;https://hooks.zapier.com/hooks/catch/28670/6haevn/&quot;</span>&gt;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            &lt;h2&gt;&lt;?php esc_html_e( <span class="stringliteral">&#39;Why did you uninstall GravityView?&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ); ?&gt;&lt;/h2&gt;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            &lt;<a class="code" href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">ul</a>&gt;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                &lt;?php</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">  477</a></span>&#160;                <a class="code" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">$reasons</a> = $this-&gt;get_uninstall_reasons();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <span class="keywordflow">foreach</span> ( <a class="code" href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">$reasons</a> as $reason ) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    printf( <span class="stringliteral">&#39;&lt;li&gt;&lt;label&gt;&lt;input name=&quot;reason&quot; type=&quot;radio&quot; value=&quot;other&quot; data-followup=&quot;%s&quot;&gt; %s&lt;/label&gt;&lt;/li&gt;&#39;</span>, Arr::get( $reason, <span class="stringliteral">&#39;followup&#39;</span> ), Arr::get( $reason, <span class="stringliteral">&#39;label&#39;</span> ) );</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                ?&gt;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            &lt;/<a class="code" href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">ul</a>&gt;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;gv-followup widefat&quot;</span>&gt;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                &lt;p&gt;&lt;strong&gt;&lt;label <span class="keywordflow">for</span>=<span class="stringliteral">&quot;gv-reason-details&quot;</span>&gt;&lt;?php esc_html_e( <span class="stringliteral">&#39;Comments&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ); ?&gt;&lt;/label&gt;&lt;/strong&gt;&lt;/p&gt;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                &lt;textarea <span class="keywordtype">id</span>=<span class="stringliteral">&quot;gv-reason-details&quot;</span> name=<span class="stringliteral">&quot;reason_details&quot;</span> data-<span class="keywordflow">default</span>=<span class="stringliteral">&quot;&lt;?php esc_attr_e( &#39;Please share your thoughts about GravityView&#39;, &#39;gk-gravityview&#39; ) ?&gt;&quot;</span> placeholder=<span class="stringliteral">&quot;&lt;?php esc_attr_e( &#39;Please share your thoughts about GravityView&#39;, &#39;gk-gravityview&#39; ); ?&gt;&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;large-text&quot;</span>&gt;&lt;/textarea&gt;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            &lt;/div&gt;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;scale-description&quot;</span>&gt;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                &lt;p&gt;&lt;strong&gt;&lt;?php esc_html_e( <span class="stringliteral">&#39;How likely are you to recommend GravityView?&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ); ?&gt;&lt;/strong&gt;&lt;/p&gt;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                &lt;<a class="code" href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">ul</a> <span class="keyword">class</span>=<span class="stringliteral">&quot;inline&quot;</span>&gt;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    &lt;?php</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">  491</a></span>&#160;                    <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">while</span> ( <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; 11 ) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                        echo <span class="stringliteral">&#39;&lt;li class=&quot;inline number-scale&quot;&gt;&lt;label&gt;&lt;input name=&quot;likely_to_refer&quot; id=&quot;likely_to_refer_&#39;</span> . <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> . <span class="stringliteral">&#39;&quot; value=&quot;&#39;</span> . <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> . <span class="stringliteral">&#39;&quot; type=&quot;radio&quot;&gt; &#39;</span> . <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> . <span class="stringliteral">&#39;&lt;/label&gt;&lt;/li&gt;&#39;</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        <a class="code" href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    ?&gt;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                &lt;/ul&gt;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                &lt;p <span class="keyword">class</span>=<span class="stringliteral">&quot;description&quot;</span>&gt;&lt;?php printf( esc_html_x( <span class="stringliteral">&#39;%s (&quot;Not at all likely&quot;) to %s (&quot;Extremely likely&quot;)&#39;</span>, <span class="stringliteral">&#39;A scale from 0 (bad) to 10 (good)&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ), <span class="stringliteral">&#39;&lt;label for=&quot;likely_to_refer_0&quot;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/label&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;label for=&quot;likely_to_refer_10&quot;&gt;&lt;code&gt;10&lt;/code&gt;&lt;/label&gt;&#39;</span> ); ?&gt;&lt;/p&gt;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            &lt;/div&gt;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;gv-form-field-wrapper&quot;</span>&gt;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;follow_up_with_me&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span> /&gt; &lt;?php esc_html_e( <span class="stringliteral">&#39;Please follow up with me about my feedback&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ); ?&gt;&lt;/label&gt;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            &lt;/div&gt;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;submit&quot;</span>&gt;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;siteurl&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_url( get_bloginfo( &#39;url&#39; ) ); ?&gt;&quot;</span> /&gt;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;email&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $user-&gt;user_email ); ?&gt;&quot;</span> /&gt;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                &lt;input type=<span class="stringliteral">&quot;hidden&quot;</span> name=<span class="stringliteral">&quot;display_name&quot;</span> value=<span class="stringliteral">&quot;&lt;?php echo esc_attr( $user-&gt;display_name ); ?&gt;&quot;</span> /&gt;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                &lt;input type=<span class="stringliteral">&quot;submit&quot;</span> value=<span class="stringliteral">&quot;&lt;?php esc_html_e( &#39;Send Us Your Feedback&#39;, &#39;gk-gravityview&#39; ); ?&gt;&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;button button-primary primary button-hero&quot;</span> /&gt;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            &lt;/div&gt;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        &lt;/form&gt;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        &lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;gv-uninstall-thanks&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;&lt;?php echo ( gravityview()-&gt;plugin-&gt;is_GF_25() ) ? &#39;notice-large&#39; : &#39;notice notice-large notice-updated below-h2&#39;; ?&gt;&quot;</span> style=<span class="stringliteral">&quot;display:none;&quot;</span>&gt;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            &lt;h3 <span class="keyword">class</span>=<span class="stringliteral">&quot;notice-title&quot;</span>&gt;&lt;?php esc_html_e( <span class="stringliteral">&#39;Thank you for using GravityView!&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ); ?&gt;&lt;/h3&gt;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            &lt;p&gt;&lt;?php echo <a class="code" href="helper-functions_8php.html#a4592dbbe73a7f6ab00cc0563c22bc11f">gravityview_get_floaty</a>(); ?&gt;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                &lt;?php echo make_clickable( esc_html__( <span class="stringliteral">&#39;Your feedback helps us improve GravityView. If you have any questions or comments, email us: support@gravityview.co&#39;</span>, <span class="stringliteral">&#39;gk-gravityview&#39;</span> ) ); ?&gt;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            &lt;/p&gt;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;wp-clearfix&quot;</span>&gt;&lt;/div&gt;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        &lt;/div&gt;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        &lt;/div&gt;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        &lt;?php</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a>()-&gt;plugin-&gt;is_GF_25() ) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            echo <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">  526</a></span>&#160;        <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a> = ob_get_clean();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">$form</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div><div class="ttc" id="multiple-entries_8php_html_ac7c3353107070daa85f641882931b358"><div class="ttname"><a href="multiple-entries_8php.html#ac7c3353107070daa85f641882931b358">$settings</a></div><div class="ttdeci">$settings</div><div class="ttdef"><b>Definition:</b> <a href="multiple-entries_8php_source.html#l00014">multiple-entries.php:14</a></div></div>
<div class="ttc" id="namespace_g_v_html_af5108f51355326bddb783972fa187529"><div class="ttname"><a href="namespace_g_v.html#af5108f51355326bddb783972fa187529">GV\top</a></div><div class="ttdeci">padding top</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00407">class-gv-settings-plugin.php:407</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_aff18b343d3e9b8c407ec9dc375f69581"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#aff18b343d3e9b8c407ec9dc375f69581">GV\Plugin_Settings\get_app_setting</a></div><div class="ttdeci">get_app_setting( $setting_name)</div><div class="ttdoc">Returns a setting. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00054">class-gv-settings-plugin.php:54</a></div></div>
<div class="ttc" id="helper-functions_8php_html_a4592dbbe73a7f6ab00cc0563c22bc11f"><div class="ttname"><a href="helper-functions_8php.html#a4592dbbe73a7f6ab00cc0563c22bc11f">gravityview_get_floaty</a></div><div class="ttdeci">gravityview_get_floaty( $height=87, $css_class=null)</div><div class="ttdoc">Get an image of our intrepid explorer friend. </div><div class="ttdef"><b>Definition:</b> <a href="helper-functions_8php_source.html#l00208">helper-functions.php:208</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a7819064d97f56c208c802008c511c571"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a7819064d97f56c208c802008c511c571">GV\Plugin_Settings\getSetting</a></div><div class="ttdeci">static getSetting( $key)</div><div class="ttdoc">Returns setting by its name. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00078">class-gv-settings-plugin.php:78</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a9f9d7d3a5bb01094f4b62bdd46fb651d"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a9f9d7d3a5bb01094f4b62bdd46fb651d">GV\Plugin_Settings\get_app_settings</a></div><div class="ttdeci">get_app_settings()</div><div class="ttdoc">Returns all settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00090">class-gv-settings-plugin.php:90</a></div></div>
<div class="ttc" id="field-created__by-html_8php_html_aadb37a5d544fbf1997f142cf3a6b7475"><div class="ttname"><a href="field-created__by-html_8php.html#aadb37a5d544fbf1997f142cf3a6b7475">$user</a></div><div class="ttdeci">if(empty( $value)) $user</div><div class="ttdef"><b>Definition:</b> <a href="field-created__by-html_8php_source.html#l00023">field-created_by-html.php:23</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_abb26fb34e14315f3fa6a4ddddc30440d"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#abb26fb34e14315f3fa6a4ddddc30440d">GV\Plugin_Settings\_uninstall_form</a></div><div class="ttdeci">_uninstall_form()</div><div class="ttdoc">Reimplement elsewhere. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00380">class-gv-settings-plugin.php:380</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_aad33e3269c69f8c8171148d4e027b1a1"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#aad33e3269c69f8c8171148d4e027b1a1">GV\Plugin_Settings\$_foundation_settings</a></div><div class="ttdeci">$_foundation_settings</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00024">class-gv-settings-plugin.php:24</a></div></div>
<div class="ttc" id="namespace_g_v_html_a266fd07162cd3c71e348c39afd1f654d"><div class="ttname"><a href="namespace_g_v.html#a266fd07162cd3c71e348c39afd1f654d">GV\$reasons</a></div><div class="ttdeci">$reasons</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00477">class-gv-settings-plugin.php:477</a></div></div>
<div class="ttc" id="namespace_g_v_html"><div class="ttname"><a href="namespace_g_v.html">GV</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a67b2d5dabae502875705bf0ceb448509"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a67b2d5dabae502875705bf0ceb448509">GV\Plugin_Settings\_uninstall_warning_message</a></div><div class="ttdeci">_uninstall_warning_message()</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00342">class-gv-settings-plugin.php:342</a></div></div>
<div class="ttc" id="namespace_g_v_html_a91e7726d3809355b12b0634174bbaf76"><div class="ttname"><a href="namespace_g_v.html#a91e7726d3809355b12b0634174bbaf76">GV\$form</a></div><div class="ttdeci">if(gravityview() -&gt;plugin-&gt;is_GF_25()) $form</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00526">class-gv-settings-plugin.php:526</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a291615850daab21a4b8edda3216f4073"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a291615850daab21a4b8edda3216f4073">GV\Plugin_Settings\migrate_legacy_settings</a></div><div class="ttdeci">migrate_legacy_settings()</div><div class="ttdoc">Migrates GravityView &lt;2.16 settings to the new settings framework. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00122">class-gv-settings-plugin.php:122</a></div></div>
<div class="ttc" id="search-field-date__range_8php_html_a4016dad482628807137e0d337ac1cbc4"><div class="ttname"><a href="search-field-date__range_8php.html#a4016dad482628807137e0d337ac1cbc4">$value</a></div><div class="ttdeci">$value</div><div class="ttdef"><b>Definition:</b> <a href="search-field-date__range_8php_source.html#l00010">search-field-date_range.php:10</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a31c8cccb6dfd99989183fe65d34b522b"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a31c8cccb6dfd99989183fe65d34b522b">GV\Plugin_Settings\update_app_settings</a></div><div class="ttdeci">update_app_settings( $settings)</div><div class="ttdoc">Updates app settings with the provided settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00282">class-gv-settings-plugin.php:282</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_ad4dfe7ea26555238db12d5117fa78d8d"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#ad4dfe7ea26555238db12d5117fa78d8d">GV\Plugin_Settings\update</a></div><div class="ttdeci">update( $settings)</div><div class="ttdoc">Updates settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00309">class-gv-settings-plugin.php:309</a></div></div>
<div class="ttc" id="namespace_g_v_html_a83018d9153d17d91fbcf3bc10158d34f"><div class="ttname"><a href="namespace_g_v.html#a83018d9153d17d91fbcf3bc10158d34f">GV\$i</a></div><div class="ttdeci">$i</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00491">class-gv-settings-plugin.php:491</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a93cdf0ba4dcb9ce06e082f16de6c8535"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a93cdf0ba4dcb9ce06e082f16de6c8535">GV\Plugin_Settings\_get_uninstall_reasons</a></div><div class="ttdeci">_get_uninstall_reasons()</div><div class="ttdoc">Reimplement elsewhere. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00352">class-gv-settings-plugin.php:352</a></div></div>
<div class="ttc" id="namespace_g_v_html_a9e2c199a69711c127f1af05e6f94a5ed"><div class="ttname"><a href="namespace_g_v.html#a9e2c199a69711c127f1af05e6f94a5ed">GV\description</a></div><div class="ttdeci">scale description p description</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00405">class-gv-settings-plugin.php:405</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_af9d14e4ae6227970ad603987781573ca"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#af9d14e4ae6227970ad603987781573ca">GV\Plugin_Settings\all</a></div><div class="ttdeci">all()</div><div class="ttdoc">Returns all settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00099">class-gv-settings-plugin.php:99</a></div></div>
<div class="ttc" id="namespace_g_v_html_a9324057a236bf5a4cb4b02d83f2a5722"><div class="ttname"><a href="namespace_g_v.html#a9324057a236bf5a4cb4b02d83f2a5722">GV\bottom</a></div><div class="ttdeci">padding bottom</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00402">class-gv-settings-plugin.php:402</a></div></div>
<div class="ttc" id="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_helpers_1_1_arr_html"><div class="ttname"><a href="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_helpers_1_1_arr.html">Arr</a></div></div>
<div class="ttc" id="class_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_settings_1_1_framework_html"><div class="ttname"><a href="class_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_settings_1_1_framework.html">GravityKit\GravityView\Foundation\Settings\Framework</a></div><div class="ttdef"><b>Definition:</b> <a href="_settings_2_framework_8php_source.html#l00019">Settings/Framework.php:19</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_ae6e57eff73edc9214de360864c1104d8"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#ae6e57eff73edc9214de360864c1104d8">GV\Plugin_Settings\get_gravitykit_setting</a></div><div class="ttdeci">get_gravitykit_setting( $setting, $default=null)</div><div class="ttdoc">Returns a GravityKit general setting. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00178">class-gv-settings-plugin.php:178</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a095c5d389db211932136b53f25f39685"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a095c5d389db211932136b53f25f39685">GV\Plugin_Settings\__construct</a></div><div class="ttdeci">__construct()</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00035">class-gv-settings-plugin.php:35</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a1d0bfce08605255dd40acb4bfd3284b1"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a1d0bfce08605255dd40acb4bfd3284b1">GV\Plugin_Settings\defaults</a></div><div class="ttdeci">defaults()</div><div class="ttdoc">Returns default settings. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00189">class-gv-settings-plugin.php:189</a></div></div>
<div class="ttc" id="namespace_g_v_html_a679c79d8818c3bcb50a53d02c9f21399"><div class="ttname"><a href="namespace_g_v.html#a679c79d8818c3bcb50a53d02c9f21399">GV\ul</a></div><div class="ttdeci">scale description ul</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00400">class-gv-settings-plugin.php:400</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_aa36088f9944f271a6fce4632ebfc168f"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#aa36088f9944f271a6fce4632ebfc168f">GV\Plugin_Settings\maybe_save_app_settings</a></div><div class="ttdeci">maybe_save_app_settings()</div><div class="ttdoc">Check for the gravityview_edit_settings capability before saving plugin settings. ...</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00328">class-gv-settings-plugin.php:328</a></div></div>
<div class="ttc" id="namespace_g_v_html_a5358faae7e5fffd3670ed8999d54e0e8"><div class="ttname"><a href="namespace_g_v.html#a5358faae7e5fffd3670ed8999d54e0e8">GV\wrapper</a></div><div class="ttdeci">gv form field wrapper</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00410">class-gv-settings-plugin.php:410</a></div></div>
<div class="ttc" id="future_2gravityview_8php_html_a79069f890c1b3e8e26ecc53ec99853bb"><div class="ttname"><a href="future_2gravityview_8php.html#a79069f890c1b3e8e26ecc53ec99853bb">gravityview</a></div><div class="ttdeci">gravityview()</div><div class="ttdoc">The main GravityView wrapper function. </div><div class="ttdef"><b>Definition:</b> <a href="future_2gravityview_8php_source.html#l00026">future/gravityview.php:26</a></div></div>
<div class="ttc" id="namespace_gravity_kit_foundation_html"><div class="ttname"><a href="namespace_gravity_kit_foundation.html">GravityKitFoundation</a></div></div>
<div class="ttc" id="class_g_v_common_html_abc061ebe78d31e57863f641ffe3e6042"><div class="ttname"><a href="class_g_v_common.html#abc061ebe78d31e57863f641ffe3e6042">GVCommon\has_cap</a></div><div class="ttdeci">static has_cap( $caps='', $object_id=null, $user_id=null)</div><div class="ttdoc">Alias of GravityView_Roles_Capabilities::has_cap() </div><div class="ttdef"><b>Definition:</b> <a href="class-common_8php_source.html#l00077">class-common.php:77</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html">GV\Plugin_Settings</a></div><div class="ttdoc">Ex-GF Addon Settings class that&amp;#39;s been stripped of GF functionality. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00014">class-gv-settings-plugin.php:14</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_a6e7942e6d5da501d0617cd7ddace2052"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#a6e7942e6d5da501d0617cd7ddace2052">GV\Plugin_Settings\add_settings</a></div><div class="ttdeci">add_settings( $plugins_data)</div><div class="ttdoc">Adds GravityView settings to Foundation. </div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00212">class-gv-settings-plugin.php:212</a></div></div>
<div class="ttc" id="class_g_v_1_1_plugin___settings_html_ae20d3ca2acbfbfe24798ca800435f9f1"><div class="ttname"><a href="class_g_v_1_1_plugin___settings.html#ae20d3ca2acbfbfe24798ca800435f9f1">GV\Plugin_Settings\size</a></div><div class="ttdeci">font size</div><div class="ttdef"><b>Definition:</b> <a href="class-gv-settings-plugin_8php_source.html#l00397">class-gv-settings-plugin.php:397</a></div></div>
<div class="ttc" id="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_core_html"><div class="ttname"><a href="namespace_gravity_kit_1_1_gravity_view_1_1_foundation_1_1_core.html">Core</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<script type="text/javascript">
    jQuery( document ).ready( function( $ ) {
        $( 'a.anchor[id^=_filters],a.anchor[id^=_actions]' ).each( function() {
            $( this )
                .text('#')
                .attr( 'href', function() {
                    return '#' + $( this ).attr( 'id' );
                }).prependTo( $( this ).parent('dt' ).next('dd') );
        });
    });
</script>
</body>
</html>
